this.ht=this.ht||{},this.ht.vector=function(){"use strict";function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var ue="top",de="bottom",xe="right",be="left",ge="center",fe="middle",s="multiple",u="single",y="radio",C="checkbox",S="x",te="y",K="HT2018-11",v="category",E="time",D="bar",I="line",ye="Previous",me="Next",we="Previous Jump",Ce="Next Jump",ke="First",Ve="Last",De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e=function(e,t,i){return t&&o(e.prototype,t),i&&o(e,i),e};function o(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function n(e,t,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,t);if(void 0===o){var a=Object.getPrototypeOf(e);return null===a?void 0:n(a,t,i)}if("value"in o)return o.value;var r=o.get;return void 0!==r?r.call(i):void 0}function t(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Ie=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],o=!0,a=!1,r=void 0;try{for(var n,l=e[Symbol.iterator]();!(o=(n=l.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){a=!0,r=e}finally{try{!o&&l.return&&l.return()}finally{if(a)throw r}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},Me=function(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)},i=ht.Default,J=i.drawText,q=i.drawStretchImage,Q=i.getImage,$=[2,8];var a=ht.Default,le=a.drawText,he=a.drawStretchImage,se=a.getImage;a.darker;var Te={placeholderColor:"#737373",fontSize:12,fontFamily:"arial,  sans-serif",emptyColor:"rgba(0,0,0,0)",hoverDarker:5,activeDarker:11},ie=ht.Default.drawText;var g={HOVER:"ht.hover",ACTIVE:"ht.active",PRESSED:"ht.pressed",DISABLED:"ht.disabled",FOCUS:"ht.focus",FONT_SIZE:"ht.fontSize",FONT_FAMILY:"ht.fontFamily",FONT:"ht.font",VALUE:"ht.value",PLACEHOLDER:"ht.placeholder",TEXT_COLOR:"ht.textColor",PADDING:"ht.padding",EDITING:"ht.editing",TEXT_ALIGN:"ht.textAlign",LINE_HEIGHT:"ht.lineHeight",WORD_BREAK:"ht.wordBreak",CHECKED:"ht.checked",LABEL:"ht.label",ICON:"ht.icon",FORM_ITEM_NAME:"ht.name",FORM_ITEM_GROUP:"ht.group",ON_CLICK:"ht.onClick",ON_CHANGE:"ht.onChange",ON_KEYDOWN:"ht.onKeyDown",ON_KEYUP:"ht.onKeyUp",ON_SELECT_ROW:"ht.onSelectRow",ON_HOVER_CELL:"ht.onHoverCell",DROP_DOWN:"ht.dropDown",FORMAT:"ht.format",SHOW_TIME:"ht.showTime",DATE_TYPE:"ht.dateType",DATA_SOURCE:"ht.dataSource",DROP_ICON_WIDTH:"ht.dropIconWidth",DROP_ICON_HEIGHT:"ht.dropIconHeight",DROP_ROW_HEIGHT:"ht.dropRowHeight",DROP_WIDTH:"ht.dropWidth",DROP_BACKGROUND:"ht.dropBackground",DROP_HOVER_BACKGROUND:"ht.dropHoverBackground",DROP_LABEL_FONT:"ht.dropLabelFont",DROP_LABEL_COLOR:"ht.dropLabelColor",DROP_ACTIVE_LABEL_COLOR:"ht.dropActiveLabelColor",DROP_ACTIVE_BACKGOUND:"ht.dropActiveBackground",DROP_MAX_HEIGHT:"ht.dropMaxHeight",INPUT_TYPE:"ht.inputType",MAX_LENGTH:"ht.maxLength",ENTER_END_INPUTABLE:"ht.enterEndInputable",HOVER_INDEX:"ht.hoverIndex",DATASOURCE:"ht.dataSource",ROW_HEIGHT:"ht.rowHeight",HEAD_HEIGHT:"ht.headHeight",TRANSLATE_X:"ht.translateX",TRANSLATE_Y:"ht.translateY",SHOW_HEAD:"ht.showHead",SELECTED_INDEX:"ht.selectedIndex",SCROLL_BAR_VISIBLE:"ht.scrollBarVisible",AUTO_HIDE_SCROLL_BAR:"ht.autoHideScrollBar",COLUMNS:"ht.columns",MULTIPLE:"ht.multiple",MAX:"ht.max",MIN:"ht.min",STEP:"ht.step",SHOW_TOOLTIP:"ht.showToolTip",TOOLTIP_FORMAT:"ht.toolTipFormat",VALUE_BAR_DRAGGABLE:"ht.valueBarDraggable",MAX_SELECTION:"ht.maxSelection",HIDE_SELECTED:"ht.hideSelected"};var c=(e(r,[{key:"setColor",value:function(e,t,i,o){if(e&&!t){var a=ht.Default.toColorData(e);this.r=a[0],this.g=a[1],this.b=a[2],this.a=a[3]/255}else this.r=e,this.g=t,this.b=i,this.a=o}},{key:"toString",value:function(){return 1!==this.a&&null!==this.a?this.getRGBA():this.getWebColor()}},{key:"getRGB",value:function(){var e=this.r,t=this.g,i=this.b;return null!==e&&null!==t&&null!==i?"rgb("+e+", "+t+", "+i+")":null}},{key:"getRGBA",value:function(){var e=this.r,t=this.g,i=this.b,o=this.a;return null!==e&&null!==t&&null!==i?"rgba("+e+", "+t+", "+i+", "+(null===o?1:o.toFixed(2))+")":null}},{key:"getWebColor",value:function(){var e=this.r,t=this.g,i=this.b;return null!==e&&null!==t&&null!==i?"#"+this._getWebValue(e)+this._getWebValue(t)+this._getWebValue(i):null}},{key:"_getWebValue",value:function(e){var t=e.toString(16);return 1===t.length&&(t="0"+t),t}}]),r);function r(e,t,i,o){l(this,r),this.r=null,this.g=null,this.b=null,this.a=null,e&&this.setColor(e,t,i,o)}var f=ht.Default,F=f.drawText,z=f.drawStretchImage,Y=f.getImage,G="#ffffff",X="#cccccc",U=new c;var p=ht.Default,re=p.drawText,ne=p.drawStretchImage,ce=p.getImage;function Z(e,t){return e<=1?t*e:e}function ee(e,t){return t?(e-Le)/oe*ae+ve:pe-(e-Le)/oe*ae}var oe=void 0,ae=void 0,ve=void 0,pe=void 0,_e=void 0,Le=void 0;function Se(e,t){return e<1?t*e:e}var Re=ht.Default.drawText;var k=Math.max,V=Math.min,T=ht.Default.containsPoint,R=4;function Be(e,t,i,o,a,r){var n=4<arguments.length&&void 0!==a?a:{},l=r,h=t.x,s=t.y,u=t.width,d=t.height,c=i.width,g=i.height,f=o.x,v=o.y,p=void 0,x=void 0,b=null,y=null,m=void 0,w=void 0,C=n.color,k=void 0===C?"red":C,V=n.barWidth,D=void 0===V?8:V,I=n.gap,T=void 0===I?2:I,_=n.visible;if(e.save(),d<g){var L=d*(w=d/g);y=[h+u-D-T,s+-v*w,D,Math.max(L,R)],x=d-g,_&&(e.beginPath(),qr.apply(void 0,[e].concat(Me(y),[Math.min(D,L)/2])),e.fillStyle=k,e.fill())}if(u<c-2){var S=u*(m=u/c);b=[h+-f*m,s+d-D-T,Math.max(S,R),D],p=u-c,_&&(e.beginPath(),qr.apply(void 0,[e].concat(Me(b),[Math.min(D,S)/2])),e.fillStyle=k,e.fill())}l.scrollInfo={scrollBarX:b,scrollBarY:y,scaleX:m,scaleY:w,minX:p,minY:x},e.restore()}function Pe(e,t,i,o,a,r,n,l){var h=Or(e,"translateY",t),s=Or(e,"translateX",t),u=Lr(i,t,e,l),d=Sr(i,t,e),c=d.scrollBarInteractiveSize||ht.Default.scrollBarInteractiveSize,g=d.scrollInfo;if(g){var f=g.minX,v=g.minY,p=g.scrollBarX,x=g.scrollBarY,b=g.scaleX,y=g.scaleY,m=void 0,w={x:o.x+u.rect.x,y:o.y+u.rect.y};if(p){var C=(c-(p=Tr(p)).height)/2;p.y-=C,p.height=c}if(x){var k=(c-(x=Tr(x)).width)/2;x.x-=k,x.width=c}if(p&&s&&T(p,w))m={downPoint:o,startX:t.a(s)||0,scaleX:b,minX:f,axis:S};else if(x&&h&&T(x,w))m={downPoint:o,startY:t.a(h)||0,scaleY:y,minY:v,axis:te};else{var V=d.headHeight,D={x:0,y:V,width:a,height:r-V};!n&&d.pannable&&T(D,o)&&(p||x)&&(m={downPoint:o,scaleX:b,minX:f,scaleY:y,minY:v,isPan:!0},p&&s&&(m.startX=t.a(s)||0,m.scaleX=b,m.minX=f),x&&h&&(m.startY=t.a(h)||0,m.scaleY=y,m.minY=v))}return m}}function b(e,t,i,o,a,r){var n=Sr(i,t,this),l=Pe(this,t,i,o,a,r,!1,e);n._scrollDragInfo=l,n.scrollBarVisible=!!l}function m(e,g,t,f,i,o){var v=Sr(t,g,this),p=v._scrollDragInfo,x=Or(this,"translateY",g),b=Or(this,"translateX",g);v._dragTimer||(v._dragTimer=setTimeout(function(){if(p){var e=p.axis,t=p.minX,i=p.minY,o=p.downPoint,a=p.startX,r=p.startY,n=p.scaleX,l=p.scaleY,h=p.isPan;if(e===S){var s=a+(o.x-f.x)/n;s=V(0,s),s=k(t,s),b&&g.a(b,s)}else if(e===te){var u=r+(o.y-f.y)/l;u=V(0,u),u=k(i,u),x&&g.a(x,u)}else if(h){if(void 0!==a){var d=a+(f.x-o.x);d=V(0,d),d=k(t,d),b&&g.a(b,d)}if(void 0!==r){var c=r+(f.y-o.y);c=V(0,c),c=k(i,c),x&&g.a(x,c)}}}delete v._dragTimer},10))}function _(e,t,i,o,a,r){var n=Sr(i,t,this);if(n._scrollDragInfo){var l=n.scrollInfo,h=l.scrollBarX,s=l.scrollBarY,u=n.autoHideScrollBar;(h||s)&&u&&(n.scrollBarVisible=!0,H(t,n)),delete n._scrollDragInfo}}function x(e,t,i,o,a,r){var n=Sr(i,t,this),l=n.scrollInfo,h=n.scrollSpeed||1,s=Or(this,"translateY",t),u=Or(this,"translateX",t);if(l){var d=l.scrollBarX,c=l.scrollBarY,g=l.minX,f=l.minY,v=(l.scaleX,l.scaleY,(e.wheelDeltaX||0)/40*5*h),p=(e.wheelDeltaY||0)/40*5*h,x=!1;if(c&&s&&p){var b=(t.a(s)||0)+p;b=V(0,b),b=k(f,b),t.a(s,b),x=!0}if(d&&u&&v){var y=(t.a(u)||0)+v;y=V(0,y),y=k(g,y),t.a(u,y),x=!0}if(!x&&d&&!c&&u&&p){var m=(t.a(u)||0)+p;m=V(0,m),m=k(g,m),t.a(u,m)}var w=n.autoHideScrollBar;(d||c)&&w&&(n.scrollBarVisible=!0,H(t,n))}}function H(e,t){e._hideBarTimer&&(clearTimeout(e._hideBarTimer),e._hideBarTimer=null),e._hideBarTimer=setTimeout(function(){t._scrollDragInfo||(t.scrollBarVisible=!1,e.iv())},1e3)}var L=ht.Default,Ee=L.drawText,Oe=L.drawStretchImage,He=L.getImage,We=L.drawBorder,je=L.intersectsRect,Ne=/\n/g;var j=ht.Default.drawText;var W=ht.Default.drawImage;var Ae=ht.Default.drawImage;var P=ht.Default,Fe=P.drawText,ze=P.createGradient;var A,M=ht.Default,B=M.drawStretchImage,O=M.getImage,N=M.isObject,Ye={_uuid:!0,text:!0,icon:!0,children:!0,badges:!0,drawCell:!0,expanded:!0,selected:!0,disabled:!0,checked:!0,isLeaf:!0},Ge=(A=ht.Data,t(Xe,A),e(Xe,[{key:"getAttrObject",value:function(){return this._attrObject}},{key:"a",value:function(e,t){if(2===arguments.length)this.setAttr(e,t);else{if(!N(e))return this.getAttr(e);for(var i in e)this.setAttr(i,e[i])}return this}},{key:"setAttr",value:function(e,t){if(void 0===t?delete this._attrObject[e]:this._attrObject[e]=t,Ye[e]){var i=this.a("dataInfo");i&&(i[e]=t)}}},{key:"getAttr",value:function(e){return this._attrObject[e]}},{key:"init",value:function(e){var t=e._uuid,i=e.text,o=void 0===i?"Tree":i,a=e.icon,r=void 0===a?null:a,n=e.badges,l=void 0===n?[]:n,h=e.expanded,s=void 0!==h&&h,u=e.selected,d=void 0!==u&&u,c=e.disabled,g=void 0!==c&&c,f=e.checked,v=void 0!==f&&f,p=e.isLeaf,x=void 0!==p&&p,b=e.children,y=void 0===b?[]:b,m=e.drawCell;if(this.a({text:o,icon:r,badges:l,expanded:s,selected:d,disabled:g,checked:v,isLeaf:x,children:y,drawCell:m}),void 0===this.a("_uuid"))this.a({_uuid:t,_isHovering:!1,_isLoading:!1});else if(!1===v&&"check"===this.a("_checkStatus")&&(this.checkAfter(),this.checkBefore()),0===this.a("children").length&&0<this.getChildren().size())for(var w=this.getChildren().toArray(),C=this.getDataModel(),k=w.length-1;0<=k;k--)C.remove(w[k])}},{key:"initNodeRect",value:function(e,t,i){var o=this.getDataModel();this.setRowRect(o,e),this.setTreeContentRect(o),this.setCellsRect(o),this.setToggleRect(o,t,i),this.setCheckRect(o),this.setIconRect(o),this.setTreeTextRect(o)}},{key:"setRowRect",value:function(e,t){var i=e.getAttrObject(),o=i.translateX,a=i.translateY,r=i.showHead,n=i.thHeight,l=i.tdHeight,h=i.borderWidth,s=i.rowLineWidth,u=i.rect,d=u.x,c=u.y,g=u.width;this.a("rowRect",{x:d+o+h,y:t?t.a("rowRect").y+l+s:(r?n:0)+c+a+h,width:g-2*h,height:l})}},{key:"setTreeContentRect",value:function(e){for(var t=e.getAttrObject(),i=t.treeColumnIndex,o=t.colWidths,a=t.columnLineWidth,r=0,n=0;n<i;n++)r+=o[n]+a;var l=t.indent,h=this.a("rowRect"),s=h.x,u=h.y,d=h.width,c=h.height,g=this.getDeep();this.a("treeContentRect",{x:s+g*l+r,y:u,width:d,height:c})}},{key:"setCellsRect",value:function(e){var t=e.getAttrObject(),i=t.columnLineWidth,o=t.colWidths,a=t.cellPadding,r=t.treeColumnIndex,n=this.a("rowRect"),l=n.x,h=n.y,s=n.height,u=[],d=l;if(o)for(var c=0,g=o.length;c<g;c++){0!==c&&(d+=o[c-1]+i);var f=o[c]-(c===r?0:2*a);u.push({x:d+(c===r?0:a),y:h,width:f<0?0:f,height:s})}this.a("cellsRect",u)}},{key:"setToggleRect",value:function(e,t,i){var o=this.a("treeContentRect").x,a=this.a("treeTextWH").textWidth,r=this.a("rowRect"),n=r.x,l=r.y,h=r.width,s=r.height,u=e.getAttrObject(),d=u.space,c=u.expandIconSize,g=u.expandMode,f=u.expandIconPos,v=u.showCheckbox,p=u.checkIconSize,x=u.showIcon,b=u.iconSize,y=u.iconVisibleFunc,m=void 0;"left"===f&&(m=o),"fixRight"===f&&(m=n+h-c-2*d),"right"===f&&(m=o+d+(v?p+d:0),x&&y(this.a("dataInfo"),t,i)&&(m+=b+d),m+=a),"icon"===g?this.a("toggleRect",{x:m,y:l,width:c+2*d,height:s}):this.a("toggleRect",{x:n,y:l,width:h,height:s}),this.a("toggleIconRect",{x:m+d,y:l+(s-c)/2,width:c,height:c})}},{key:"setCheckRect",value:function(e){var t=e.getAttrObject(),i=t.showCheckbox,o=t.space,a=t.expandIconSize,r=t.checkIconSize,n=t.expandIconPos;if(i){var l=this.a("treeContentRect"),h=l.x,s=l.y,u=l.height;this.a("checkRect",{x:h+o+("left"===n?a+o:0),y:s+(u-r)/2,width:r,height:r})}}},{key:"setIconRect",value:function(e){var t=e.getAttrObject(),i=t.showIcon,o=t.space,a=t.expandIconSize,r=t.checkIconSize,n=t.showCheckbox,l=t.iconSize,h=t.expandIconPos;if(i){var s=this.a("treeContentRect"),u=s.x,d=s.y,c=s.height;this.a("iconRect",{x:u+o+("left"===h?a+o:0)+(n?r+o:0),y:d+(c-l)/2,width:l,height:l})}}},{key:"setTreeTextRect",value:function(e){var t=e.getAttrObject(),i=t.space,o=t.expandIconSize,a=t.checkIconSize,r=t.iconSize,n=t.showCheckbox,l=t.showIcon,h=t.expandIconPos,s=this.a("treeContentRect"),u=s.x,d=s.y,c=s.height,g=this.a("treeTextWH"),f=g.textWidth,v=g.textHeight;this.a("treeTextRect",{x:u+i+("left"===h?o+i:0)+(n?a+i:0)+(l?r+i:0),y:d+(c-v)/2,width:f,height:v})}},{key:"drawTreeBadge",value:function(e,t,i,o,a){var r=this.a("badges");if(0!==r.length){var n=this.getDataModel().getAttrObject(),l=n.badgesVisibleFunc,h=n.expandIconPos,s=n.space,u=n.expandIconSize,d=this.getAttrObject(),c=d.rowRect,g=d.dataInfo,f=d.isLeaf,v=o.badgeFont,p=o.badgeHeight,x=o.badgeSpace,b=o.badgeRadius,y=c.x,m=c.y,w=y+c.width,C=m+(c.height-p)/2;!1===f&&"fixRight"===h&&(w-=s+u+s),e.save(),e.font=v,e.fillStyle="#777777",e.strokeStyle="white",e.lineWidth=1,e.setLineDash([]);for(var k=0,V=r.length;k<V;k++){var D=r[k],I=D.text,T=D.textColor,_=D.backColor,L=D.visible,S=sr(v,I),R=S.width,P=S.height,A=R+2*b;l&&!l(g,D,t,i)||!1===L||(w-=A+x,_&&(e.fillStyle=_),e.beginPath(),qr(e,w,C,A,p,b),e.closePath(),e.fill(),T&&(e.fillStyle=T),e.fillText(I,w+b,C+(p-P)/2),a.badgesRect.push({node:this,info:D,badgeRect:{x:w,y:C,width:A,height:p}}))}e.restore()}}},{key:"drawTreeToggleIcon",value:function(e,t,i,o,a){if(!this.a("isLeaf")){var r=o.loading,n=o.close,l=o.open,h=this.getAttrObject(),s=h.toggleRect,u=h.toggleIconRect,d=h.expanded,c=h._isLoading,g=h.dataInfo,f=u.x,v=u.y,p=u.width,x=u.height,b=void 0,y=void 0,m=this.getDataModel().getAttrObject(),w=m.getOpenIconColor,C=m.getCloseIconColor,k=m.getLoadingIconColor;c?(b=r.image,y=r.color,k&&(y=k(g,t,i))):d?(b=n.image,y=n.color,C&&(y=C(g,t,i))):(b=l.image,y=l.color,w&&(y=w(g,t,i))),B(e,b,"fill",f,v,p,x,t,i,y),a.togglesRect.push({node:this,toggleRect:s})}}},{key:"drawTreeCheckIcon",value:function(e,t,i,o,a){var r=o.check,n=o.unCheck,l=o.unCheckAll,h=this.getAttrObject(),s=h.checkRect,u=h._checkStatus,d=h.dataInfo,c=s.x,g=s.y,f=s.width,v=s.height,p=void 0,x=void 0,b=this.getDataModel().getAttrObject(),y=b.getCheckIconColor,m=b.getUnCheckIconColor,w=b.getUnCheckAllIconColor;"check"===u?(p=r.image,x=r.color,y&&(x=y(d,t,i))):"unCheckAll"===u?(p=l.image,x=l.color,w&&(x=w(d,t,i))):(p=n.image,x=n.color,m&&(x=m(d,t,i))),B(e,p,"fill",c,g,f,v,t,i,x),a.checksRect.push({node:this,checkRect:s})}},{key:"drawTreeIcon",value:function(e,t,i,o){var a=o.def,r=this.getAttrObject(),n=r.icon,l=r.iconRect,h=r.dataInfo,s=this.getDataModel().a("iconVisibleFunc"),u=l.x,d=l.y,c=l.width,g=l.height,f=void 0,v=void 0,p=this.getDataModel().getAttrObject().getDefaultIconColor;n?f=O(n):(f=a.image,v=a.color),p&&(v=p(h,t,i)),s(h,t,i)&&B(e,f,"fill",u,d,c,g,t,i,v)}},{key:"drawTreeText",value:function(e,t,i,o){var a=this.getDataModel(),r=this.getTextColor(o),n=this.getAttrObject(),l=n.text,h=n.treeTextRect,s=n.dataInfo,u=n.rowRect,d=a.getAttrObject(),c=d.showIcon,g=d.iconSize,f=d.space,v=d.iconVisibleFunc,p=d.tdFont,x=h.x,b=h.y,y=h.width;function m(){r!==o.textColor?(e.save(),e.fillStyle=r,e.fillText(l,x,b),e.restore()):e.fillText(l,x,b)}c&&!v(s,t,i)&&(x-=g+f);var w=this.a("drawCell");(w=w||a.a("drawCell"))?w(e,{x:x,y:u.y,width:y,height:u.height},s,{textFont:p,textColor:r,defaultDraw:m,data:t,view:i}):m()}},{key:"drawRowLine",value:function(e,t,i){if(t.rowLineWidth){var o=t.rowLineColor,a=t.rowLineWidth,r=i.x,n=i.y,l=i.width;e.save(),e.beginPath(),e.fillStyle=o,e.fillRect(r,n-a,l,a),e.restore()}}},{key:"drawTableCell",value:function(r,e){function t(){var e=l.x,t=l.y,i=l.width,o=l.height,a=r.measureText(C).width+2;"center"===v&&(e+=(i-a)/2),"right"===v&&(e+=i-a),"middle"===x&&(t+=(o-u)/2),"bottom"===x&&(t+=o-u),"function"==typeof g&&(C=g.call(n,C,w)),r.fillText(C,e,t)}var n=e.comp,i=e.data,o=e.column,l=e.cellRect,a=e.tdFont,h=e.tdColor,s=e.colIndex,u=e.textHeight,d=e.visibleRowIndex,c=o.key,g=o.format,f=o.align,v=void 0===f?"left":f,p=o.vAlign,x=void 0===p?"middle":p,b=o.drawCell,y=o.isIndex,m=this.a("dataInfo").tableDataSource,w=void 0===m?{}:m,C=w[c]||"";y&&(C=d),b?b.call(n,r,C,l,{font:a,color:h,column:o,colIndex:s,row:w,rowIndex:this.a("rowIndex"),defaultDraw:t,data:i}):t()}},{key:"drawTableRow",value:function(e,t){var i=t.comp,o=t.visibleRowRect,a=t.tdBackground,r=t.drawRow,n=o.x,l=o.y,h=o.width,s=o.height;a&&(e.save(),e.fillStyle=a,e.fillRect(n,l,h,s),e.restore()),r&&(e.save(),r.call(i,e,this,o),e.restore())}},{key:"getTextColor",value:function(e,t){var i=1<arguments.length&&void 0!==t?t:{},o=i.bodyColor,a=i.color,r=e.textColor,n=e.hoverTextColor,l=e.selectTextColor,h=this.a("_isHovering");return this.a("selected")&&l?l:h&&n?n:o||a||r}},{key:"getDeep",value:function(){for(var e=1,t=this;t=t.getParent();)e++;return e}},{key:"getPreSibling",value:function(){var e=this.getDataModel().getSiblings(this).toArray(),t=e.indexOf(this)-1;return t<0?null:e[t]}},{key:"getPreVisibleSibling",value:function(e){for(var t=this.getPreSibling();t&&!e(t.a("dataInfo"));)t=t.getPreSibling();return t&&e(t.a("dataInfo"))?t:null}},{key:"checkAfter",value:function(){var t=this.a("checked"),e=this.getChildren();this.a("_checkStatus",t?"check":"unCheck"),e.each(function(e){e.a("checked",t),e.a("_checkStatus",t?"check":"unCheck"),e.checkAfter()})}},{key:"checkBefore",value:function(){var e=this.getParent();if(e){for(var t=e.getChildren().toArray(),i=0,o=!1,a=0;a<t.length;a++)t[a].a("checked")&&i++,"unCheckAll"===t[a].a("_checkStatus")&&(o=!0);i===t.length?(e.a("checked",!0),e.a("_checkStatus","check")):0!==i||o?(e.a("checked",!1),e.a("_checkStatus","unCheckAll")):(e.a("checked",!1),e.a("_checkStatus","unCheck")),e.checkBefore()}}}]),Xe);function Xe(e){l(this,Xe);var t=d(this,(Xe.__proto__||Object.getPrototypeOf(Xe)).call(this));return t._attrObject={},t.init(e),t}var Ue,Ze=ht.Default,Ke=Ze.getImage,Je=Ze.drawBorder,qe=Ze.containsPoint,Qe=Ze.isObject,$e=(Ue=ht.DataModel,t(et,Ue),e(et,[{key:"getAttrObject",value:function(){return this._attrObject}},{key:"a",value:function(e,t){if(2===arguments.length)this.setAttr(e,t);else{if(!Qe(e))return this.getAttr(e);for(var i in e)this.setAttr(i,e[i])}return this}},{key:"setAttr",value:function(e,t){void 0===t?delete this._attrObject[e]:this._attrObject[e]=t}},{key:"getAttr",value:function(e){return this._attrObject[e]}},{key:"init",value:function(e,t){for(var i=0<arguments.length&&void 0!==e?e:[],o=1<arguments.length&&void 0!==t?t:null,a=0,r=i.length;a<r;a++){var n=i[a];if(n){var l=n._uuid,h=n.expanded,s=n.children;this.tagMap[l]&&(l=ln());var u=this.getDataByTag(l);u?u.init(n):(n._uuid=l=void 0===l?ln():l,(u=new Ge(n)).setTag(l),this.add(u));var d=u.getParent()===o;if(o&&u.setParent(o),u.a("childIndex")===a&&d&&!this.hierarchyChanged||(this.moveTo(u,a),this.hierarchyChanged=!0),u.a({dataInfo:n,rowIndex:++this.rowIndex,childIndex:a}),this.tagMap[l]=!0,h&&this.init(s,u),a===r-1){var c=o?o.getChildren().toArray():this.getRoots().toArray(),g=c.length;if(r<g)for(var f=r;f<g;f++)this.remove(c[f])}}}}},{key:"reset",value:function(e,t,i){var o=e.getValue("translateX"),a=e.getValue("translateY"),r=e.getValue("indent"),n=e.getValue("borderWidth"),l=e.getValue("columnLineWidth"),h=e.getValue("rowLineWidth"),s=e.getValue("thHeight"),u=e.getValue("tdHeight"),d=e.getValue("itemHeight"),c=e.getValue("space"),g=e.getValue("iconSize"),f=e.getValue("expandIconSize"),v=e.getValue("checkIconSize"),p=e.getValue("showHead"),x=e.getValue("showLine"),b=e.getValue("showIcon"),y=e.getValue("showCheckbox"),m=e.getValue("columns"),w=e.getValue("thFont"),C=e.getValue("tdFont"),k=e.getValue("treeFont"),V=e.getValue("columnVisibleFunc"),D=e.getValue("headLineDraggable"),I=e.getValue("headDraggable"),T=e.getValue("resizeInteractiveSize"),_=e.getValue("cellPadding"),L=e.getValue("accordion"),S=e.getValue("multiSelect"),R=e.getValue("loadData")||function(e,t){return t()},P=e.getValue("onCheck")||function(){},A=e.getValue("onExpand")||function(){},M=e.getValue("onSelect")||function(){},B=e.getValue("onClickBack")||function(){},E=e.getValue("onClickBadge")||function(){},O=e.getValue("selectableFunc")||function(){return!0},H=e.getValue("expandableFunc")||function(){return!0},W=e.getValue("checkableFunc")||function(){return!0},j=e.getValue("onClickCell"),N=e.getValue("onClickHeadCell"),F=e.getValue("expandMode")||"icon",z=e.getColor("lineColor"),Y=e.getValue("lineWidth"),G=e.getValue("linePattern"),X=e.getValue("iconVisibleFunc")||function(){return!0},U=e.getValue("drawCell"),Z=e.getValue("badgesVisibleFunc"),K=e.getValue("expandIconPos")||"left",J=e.getValue("getDefaultIconColor"),q=e.getValue("getOpenIconColor"),Q=e.getValue("getCloseIconColor"),$=e.getValue("getLoadingIconColor"),ee=e.getValue("getCheckIconColor"),te=e.getValue("getUnCheckIconColor"),ie=e.getValue("getUnCheckAllIconColor");if(this.a({rect:t,translateX:o,translateY:a,indent:r,borderWidth:n,columnLineWidth:void 0===l?0:l,rowLineWidth:h,thHeight:void 0===s?0:s,tdHeight:void 0===u?d:u,space:c,iconSize:g,expandIconSize:f,checkIconSize:v,showHead:void 0!==p&&p,showLine:x,showIcon:b,showCheckbox:y,tdFont:void 0===C?k:C,thFont:w,headLineDraggable:D,headDraggable:I,resizeInteractiveSize:T,cellPadding:_,onClickCell:j,onClickHeadCell:N,accordion:L,multiSelect:S,loadData:R,onCheck:P,onExpand:A,onSelect:M,onClickBack:B,onClickBadge:E,selectableFunc:O,expandableFunc:H,checkableFunc:W,expandMode:F,lineColor:z,iconVisibleFunc:X,drawCell:U,badgesVisibleFunc:Z,lineWidth:Y,linePattern:G,expandIconPos:K,getDefaultIconColor:J,getOpenIconColor:q,getCloseIconColor:Q,getLoadingIconColor:$,getCheckIconColor:ee,getUnCheckIconColor:te,getUnCheckAllIconColor:ie}),this.tagMap={},this.hierarchyChanged=!1,this.rowIndex=-1,m){var oe=[],ae=[];if(m.forEach(function(e,t){(V&&V(e,t)||!V)&&ae.push({column:e,columnIndex:t})}),I){var re=this.a("dragColumnsInfo")||{},ne=re.dragStartColumnIndex,le=re.dragEndColumnIndex;if(void 0!==ne&&void 0!==le){var he=ae[ne],se=ae[le],ue=he.columnIndex,de=se.columnIndex;ae[ne]=se,ae[le]=he;var ce=m[ue];m[ue]=m[de],m[de]=ce,this.a("dragColumnsInfo",void 0)}}ae.forEach(function(e){var t=e.column;return oe.push(t)}),this.a("visibleColumns",oe);var ge=Ir(oe,t.width-2*n-l*(oe.length-1)),fe=[],ve=[],pe=t.x+o+n,xe=t.y+n;if(this.a("defColWidths",ht.Default.clone(ge)),D){var be=this.a("dragColumnsLineDiff");if(be)for(var ye in be)for(var me=0,we=oe.length;me<we;me++)if(oe[me].key==ye){ge[me]+=be[ye];break}var Ce=i.dragColumnLineIndex,ke=i.dragColumnLineDistance;void 0!==Ce&&void 0!==ke&&(ge[Ce]+ke<T?ge[Ce]=T:ge[Ce]+=ke)}this.a("colWidths",ge),this.a("treeColumnIndex",void 0);for(var Ve=0,De=oe.length;Ve<De;Ve++)if(oe[Ve].isTreeColumn){this.a("treeColumnIndex",Ve);break}for(var Ie=0,Te=ge.length;Ie<Te;Ie++)fe.push({x:pe,y:xe,width:ge[Ie],height:s}),D&&ve.push({x:fe[Ie].x+fe[Ie].width-T,y:xe,width:l+2*T,height:s}),pe+=l+ge[Ie];this.a({columnsRect:fe,columnLinesRect:ve,headRect:{x:t.x,y:t.y,width:t.width,height:s}})}}},{key:"getTreeIconInfo",value:function(e){var t=e.getValue("openIcon"),i=e.getValue("closeIcon"),o=e.getValue("loadingIcon"),a=e.getValue("defaultIcon"),r=e.getValue("checkIcon"),n=e.getValue("unCheckIcon"),l=e.getValue("unCheckAllIcon");return{open:{image:Ke(t||"ht.vector.treeOpenIcon"),color:t?void 0:e.getColor("openIconColor")},close:{image:Ke(i||"ht.vector.treeCloseIcon"),color:i?void 0:e.getColor("closeIconColor")},loading:{image:Ke(o||"ht.vector.treeLoadIcon"),color:o?void 0:e.getColor("loadingIconColor")},def:{image:Ke(a||"ht.vector.treeDefIcon"),color:a?void 0:e.getColor("defaultIconColor")},check:{image:Ke(r||"ht.vector.treeCheckIcon"),color:r?void 0:e.getColor("checkIconColor")},unCheck:{image:Ke(n||"ht.vector.treeUnCheckIcon"),color:n?void 0:e.getColor("unCheckIconColor")},unCheckAll:{image:Ke(l||"ht.vector.treeUnCheckAllIcon"),color:l?void 0:e.getColor("unCheckAllIconColor")}}}},{key:"drawTreeCable",value:function(f,e,v){if("left"===this.a("expandIconPos")){var t=this.getAttrObject(),i=t.showIcon,o=t.showCheckbox,a=t.lineColor,r=t.lineWidth,n=void 0===r?.5:r,l=t.linePattern,h=void 0===l?[1,1]:l,p=o?"checkRect":i?"iconRect":"treeTextRect";f.save(),f.strokeStyle=a,f.setLineDash(h),f.lineWidth=n,f.lineJoin="miter",e.forEach(function(e){var t=e.a("isLeaf"),i=cn(e.a(p)).leftMiddle,o=cn(e.a("toggleIconRect")),a=o.rightMiddle,r=o.topMiddle,n=o.middleMiddle;f.beginPath(),t?f.moveTo(n.x,n.y):f.moveTo(a.x,a.y),f.lineTo(i.x,i.y);var l=e.getPreVisibleSibling(v);if(l){var h=l.a("isLeaf"),s=cn(l.a("toggleIconRect")),u=s.bottomMiddle,d=s.middleMiddle;h?f.moveTo(d.x,d.y):f.moveTo(u.x,u.y),t?f.lineTo(n.x,n.y):f.lineTo(r.x,r.y)}else{var c=e.getParent();if(c){var g=cn(c.a(p)).bottomMiddle;f.moveTo(n.x,g.y),t?f.lineTo(n.x,n.y):f.lineTo(r.x,r.y)}}f.stroke()}),f.restore()}}},{key:"drawBorder",value:function(e,t){var i=this.a("borderWidth"),o=this.a("rect"),a=o.x,r=o.y,n=o.width,l=o.height;i&&(e.save(),Je(e,t,a,r,n,l,i),e.restore())}},{key:"drawTableHead",value:function(x,e,t){var b=t.comp,y=t.data,m=t.columnLineColor,w=t.thColor,i=t.thBackground,o=this.getAttrObject(),C=o.rect,k=o.columnLineWidth,V=o.columnsRect,D=o.visibleColumns,I=o.thFont,a=o.thHeight,T=o.showHead,r=o.borderWidth,_=o.cellPadding;x.save(),T&&(x.fillStyle=i,x.fillRect(C.x+r,C.y+r,C.width-2*r,a));for(var L=e.dragStartColumnIndex,S=e.dragColumnDistance,n=function(o){var a=V[o],e=D[o],r=a.x,n=a.y,l=a.width,h=a.height;if(x.beginPath(),x.fillStyle=m,x.fillRect(r+l,n,k,C.height),T){var s=e.displayName,t=e.align,u=void 0===t?"left":t,i=e.vAlign,d=void 0===i?"middle":i,c=e.headColor,g=e.color,f=e.drawHeadCell,v=w;c?v=c:g&&(v=g),r+=_,l=(l-=2*_)<0?0:l,x.save(),L!==o&&(x.rect(r,n,l,h),x.clip());var p=function(){if(void 0!==s){var e=sr(I,s),t=e.width,i=e.height;"center"===u&&(r+=(l-t)/2),"right"===u&&(r+=l-t),"middle"===d&&(n+=(h-i)/2),"bottom"===d&&(n+=h-i),L===o&&(r+=S,x.save(),x.fillStyle="rgb(217, 219, 220)",x.fillRect(r,a.y,l,h),x.restore()),x.fillStyle=v,x.font=I,x.fillText(s,r,n)}};f?f.call(b,x,s,a,{font:I,color:v,visibleColumn:e,index:o,defaultDraw:p,data:y}):p(),x.restore()}},l=0,h=V.length;l<h;l++)l!==L&&n(l);void 0!==L&&n(L),x.restore()}},{key:"drawScrollBar",value:function(e,t,i,o,a,r,n){var l=t.getValue("scrollBarWidthAbsolute"),h=t.getValue("scrollBarWidth"),s=t.getValue("autoHideScrollBar"),u=t.getValue("scrollable"),d=t.getValue("scrollBarColor"),c=o.translateX,g=o.translateY,f=o.scrollBarVisible,v=i.getZoom?i.getZoom():1,p=l?h/v:h,x=a,b=r;if(a-2>n.width&&(b=r+p),o&&(o.scrollBarInfo={x:n.x,y:n.y,width:n.width,height:n.height,boundWidth:x,boundHeight:b,absoluteScrollBarWidth:p},o.autoHideScrollBar=s),u){var y={x:n.x,y:n.y,width:n.width,height:n.height},m={width:x,height:b},w={x:c,y:g};n.height>b&&0!==g&&(m.height=n.height-g),Be(e,y,m,w,{visible:!s||f,color:d,gap:0,barWidth:p},o||{})}}},{key:"drawDragColumnLine",value:function(e,t){var i=t.dragColumnLineRect;if(i){var o=i.x,a=i.y,r=i.width,n=i.height;e.save(),e.fillStyle="rgb(49, 141, 251)",e.fillRect(o,a,r,n),e.restore()}}},{key:"onClickBadge",value:function(e,t,i){for(var o=Ie(e,3),a=o[0],r=o[1],n=o[2],l=this.a("onClickBadge"),h=0,s=i.length;h<s;h++){var u=i[h],d=u.node,c=u.info,g=u.badgeRect;if(qe(g,t)&&!d.a("disabled"))return l.call(this,a,d.a("dataInfo"),c,r,n),r.iv(),!0}return!1}},{key:"onClickCheck",value:function(e,t,i){for(var o=Ie(e,3),a=o[0],r=o[1],n=o[2],l=this.getAttrObject(),h=l.checkableFunc,s=l.onCheck,u=0,d=i.length;u<d;u++){var c=i[u],g=c.node,f=c.checkRect;if(qe(f,t)&&!g.a("disabled")&&h(g.a("dataInfo"),r,n))return g.a("checked",!g.a("checked")),s.call(this,a,g.a("dataInfo"),g.a("checked"),r,n),g.checkAfter(),g.checkBefore(),r.iv(),!0}return!1}},{key:"onClickToggle",value:function(e,n,l){for(var h=this,t=Ie(e,3),s=t[0],u=t[1],d=t[2],i=this.getAttrObject(),c=i.onExpand,g=i.loadData,f=i.expandableFunc,v=i.accordion,o=function(e){var t=l[e],i=t.node,o=t.toggleRect;if(i.a("isLeaf"))return"continue";if(qe(o,n)){if(i.a("_isLoading"))return{v:!0};if(!i.a("disabled")&&f(i.a("dataInfo"),u,d)){v&&h.getSiblings(i).each(function(e){e!==i&&e.a("expanded",!1)}),i.a("expanded",!i.a("expanded"));var a=i.getChildren().toArray(),r=i.a("expanded");return 0===a.length&&0<i.a("children").length?(h.init(i.a("children"),i),c.call(h,s,i.a("dataInfo"),r,u,d)):r&&0===a.length?new Promise(function(e){i.a("_isLoading",!0),g.call(h,i.a("dataInfo"),e)}).then(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];i.a({_isLoading:!1,children:e}),h.init(e,i),c.call(h,s,i.a("dataInfo"),r,u,d),u.iv()}):c.call(h,s,i.a("dataInfo"),r,u,d),u.iv(),{v:!0}}}},a=0,r=l.length;a<r;a++){var p=o(a);switch(p){case"continue":continue;default:if("object"===(void 0===p?"undefined":De(p)))return p.v}}return!1}},{key:"onClickVisibleRow",value:function(e,f,v,p){for(var x=this,t=Ie(e,3),b=t[0],y=t[1],m=t[2],i=this.getAttrObject(),w=i.selectableFunc,C=i.multiSelect,k=i.onSelect,o=function(e){var t=v[e],o=t.node,i=t.visibleRowRect;if(qe(i,f)){if(!o.a("disabled")&&w(o.a("dataInfo"),y,m)){var a=x.toDatas(function(e){return e.a("selected")}).toArray(),r=[];a.forEach(function(e){var t=e.a("_uuid"),i=e.a("text");r.push({_uuid:t,text:i}),C||e===o||e.a("selected",!1)}),p.selectedInfos=r,C?o.a("selected",!o.a("selected")):o.a("selected")||o.a("selected",!0),k.call(x,b,o.a("dataInfo"),o.a("selected"),y,m);var n=x.a("onClickCell"),l=o.a("cellsRect");if(n&&l&&0<l.length)for(var h=0,s=l.length;h<s;h++)if(qe(l[h],f)){var u=x.a("visibleColumns"),d=o.a("dataInfo").tableDataSource,c=void 0===d?{}:d,g=c[u[h].key]||"";n(b,0===h?o.a("text"):g,c,u,o.a("rowIndex"),h,y,m)}y.iv()}return{v:!0}}},a=0,r=v.length;a<r;a++){var n=o(a);if("object"===(void 0===n?"undefined":De(n)))return n.v}return!1}},{key:"onClickBack",value:function(e){var t=Ie(e,3),i=t[0],o=t[1],a=t[2],r=this.a("onClickBack");r&&r(i,o,a)}},{key:"onClickHeadCell",value:function(e,t){var i=Ie(e,3),o=i[0],a=i[1],r=i[2],n=this.getAttrObject(),l=n.columnsRect,h=n.onClickHeadCell,s=n.visibleColumns;if(h)for(var u=0,d=l.length;u<d;u++)if(qe(l[u],t))return h(o,s[u],u,a,r),!0;return!1}},{key:"onHoverRow",value:function(e,t,i,o,a){for(var r=Ie(e,3),n=(r[0],r[1]),l=r[2],h=0,s=i.length,u=this.a("selectableFunc");h<s;h++){var d=i[h],c=d.node,g=d.visibleRowRect;if(qe(g,t)&&u(c.a("dataInfo"),n,l)){o!==c&&(o&&o.a("_isHovering",!1),a.preHoverNode=c),c.a("disabled")?(Br(l,"not-allowed"),o!==c&&n.iv()):c.a("_isHovering")||(Br(l,"default"),c.a("_isHovering",!0),n.iv());break}}h===s&&o&&(Br(l,"default"),o.a("_isHovering",!1),delete a.preHoverNode,n.iv())}}]),et);function et(){l(this,et);var e=d(this,(et.__proto__||Object.getPrototypeOf(et)).call(this));return e._attrObject={},e}var tt=ht.Default.intersectsRect;var it=ht.Default.intersectsRect;var ot=ht.Default,at=ot.drawText,rt=ot.drawStretchImage,nt=ot.getImage;ot.darker;function lt(e,t,i,o,a){var r=t.x,n=t.y,l=t.width;n+=t.height,e.strokeStyle=a,e.beginPath(),o===xe?(e.moveTo(r+l,n),e.lineTo(r+l-i,n)):o===ge?(e.moveTo(r+(l-i)/2,n),e.lineTo(r+(l+i)/2,n)):(e.moveTo(r,n),e.lineTo(r+i,n)),e.stroke()}var st={};function ut(e,t,i,o){for(var a=[],r=0,n=sr(i,"图"),l=n.height/3,h=1,s=e.length;h<=s;h++)t<(l+=n.height+o)&&(r=h-1===r?(a.push(e.substring(r,h)),h):(a.push(e.substring(r,h-1)),h-1),l=n.height/3);return r!==h-1&&a.push(e.substring(r,h)),a}function dt(e,t,i,o,a,r){return t?r:ft===e?o||i:e===vt&&a||i}function ct(e,t){return 0===e&&1===t?3:0===e?0:e===t-1?2:1}var gt=ht.Default.drawText,ft=void 0,vt=void 0;function pt(e,t,i,o){for(var a=e,r=0;a<t;){r++,a=e;for(var n=0;n<r;n++)a+=2*i+2*e*(o+(1-o)*n/r)}return r}function xt(e,t,i,o,a,r,n,l,h,s,u,d){var c=t.x,g=t.y,f=t.width,v=t.height,p=void 0;i!==we&&i!==Ce&&(e.beginPath(),qr(e,c,g,f,v,n),e.closePath(),r&&l&&(e.strokeStyle=r,e.lineWidth=l,e.stroke()),h&&(e.fillStyle=h,e.fill())),0<=mt.indexOf(i)&&(p=i===we||i===Ce?s.hover?sn(yt+(i===we?ke:Ve).toLowerCase()):sn("ht.vector.pagination.ellipsis"):sn(yt+i.toLowerCase())),p?en(e,p,"uniform",c,g,f,v,u,d,a):Jr(e,i,o,a,c,g,f,v,ge,fe)}function bt(e,t,i,o,a,r){var n=e.active,l=e.disabled,h=e.hover;return l&&n?r:l?a:h?i:n?o:t}var yt="ht.vector.pagination.",mt=[ye,me,Ve,ke,we,Ce];function wt(e){this.mode=It.MODE_8BIT_BYTE,this.data=e,this.parsedData=[];for(var t=0,i=this.data.length;t<i;t++){var o=[],a=this.data.charCodeAt(t);65536<a?(o[0]=240|(1835008&a)>>>18,o[1]=128|(258048&a)>>>12,o[2]=128|(4032&a)>>>6,o[3]=128|63&a):2048<a?(o[0]=224|(61440&a)>>>12,o[1]=128|(4032&a)>>>6,o[2]=128|63&a):128<a?(o[0]=192|(1984&a)>>>6,o[1]=128|63&a):o[0]=a,this.parsedData.push(o)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function Ct(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}function kt(e,t){if(null==e.length)throw new Error(e.length+"/"+t);for(var i=0;i<e.length&&0==e[i];)i++;this.num=new Array(e.length-i+t);for(var o=0;o<e.length-i;o++)this.num[o]=e[o+i]}function Vt(e,t){this.totalCount=e,this.dataCount=t}function Dt(){this.buffer=[],this.length=0}wt.prototype={getLength:function(){return this.parsedData.length},write:function(e){for(var t=0,i=this.parsedData.length;t<i;t++)e.put(this.parsedData[t],8)}},Ct.prototype={addData:function(e){var t=new wt(e);this.dataList.push(t),this.dataCache=null},isDark:function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(e,t){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var i=0;i<this.moduleCount;i++){this.modules[i]=new Array(this.moduleCount);for(var o=0;o<this.moduleCount;o++)this.modules[i][o]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),7<=this.typeNumber&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=Ct.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},setupPositionProbePattern:function(e,t){for(var i=-1;i<=7;i++)if(!(e+i<=-1||this.moduleCount<=e+i))for(var o=-1;o<=7;o++)t+o<=-1||this.moduleCount<=t+o||(this.modules[e+i][t+o]=0<=i&&i<=6&&(0==o||6==o)||0<=o&&o<=6&&(0==i||6==i)||2<=i&&i<=4&&2<=o&&o<=4)},getBestMaskPattern:function(){for(var e=0,t=0,i=0;i<8;i++){this.makeImpl(!0,i);var o=Et.getLostPoint(this);(0==i||o<e)&&(e=o,t=i)}return t},createMovieClip:function(e,t,i){var o=e.createEmptyMovieClip(t,i);this.make();for(var a=0;a<this.modules.length;a++)for(var r=+a,n=0;n<this.modules[a].length;n++){var l=+n;this.modules[a][n]&&(o.beginFill(0,100),o.moveTo(l,r),o.lineTo(1+l,r),o.lineTo(1+l,1+r),o.lineTo(l,1+r),o.endFill())}return o},setupTimingPattern:function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},setupPositionAdjustPattern:function(){for(var e=Et.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var i=0;i<e.length;i++){var o=e[t],a=e[i];if(null==this.modules[o][a])for(var r=-2;r<=2;r++)for(var n=-2;n<=2;n++)this.modules[o+r][a+n]=-2==r||2==r||-2==n||2==n||0==r&&0==n}},setupTypeNumber:function(e){for(var t=Et.getBCHTypeNumber(this.typeNumber),i=0;i<18;i++){var o=!e&&1==(t>>i&1);this.modules[Math.floor(i/3)][i%3+this.moduleCount-8-3]=o}for(i=0;i<18;i++){o=!e&&1==(t>>i&1);this.modules[i%3+this.moduleCount-8-3][Math.floor(i/3)]=o}},setupTypeInfo:function(e,t){for(var i=this.errorCorrectLevel<<3|t,o=Et.getBCHTypeInfo(i),a=0;a<15;a++){var r=!e&&1==(o>>a&1);a<6?this.modules[a][8]=r:a<8?this.modules[a+1][8]=r:this.modules[this.moduleCount-15+a][8]=r}for(a=0;a<15;a++){r=!e&&1==(o>>a&1);a<8?this.modules[8][this.moduleCount-a-1]=r:a<9?this.modules[8][15-a-1+1]=r:this.modules[8][15-a-1]=r}this.modules[this.moduleCount-8][8]=!e},mapData:function(e,t){for(var i=-1,o=this.moduleCount-1,a=7,r=0,n=this.moduleCount-1;0<n;n-=2)for(6==n&&n--;;){for(var l=0;l<2;l++)if(null==this.modules[o][n-l]){var h=!1;r<e.length&&(h=1==(e[r]>>>a&1)),Et.getMask(t,o,n-l)&&(h=!h),this.modules[o][n-l]=h,-1==--a&&(r++,a=7)}if((o+=i)<0||this.moduleCount<=o){o-=i,i=-i;break}}}},Ct.PAD0=236,Ct.PAD1=17,Ct.createData=function(e,t,i){for(var o=Vt.getRSBlocks(e,t),a=new Dt,r=0;r<i.length;r++){var n=i[r];a.put(n.mode,4),a.put(n.getLength(),Et.getLengthInBits(n.mode,e)),n.write(a)}var l=0;for(r=0;r<o.length;r++)l+=o[r].dataCount;if(a.getLengthInBits()>8*l)throw new Error("code length overflow. ("+a.getLengthInBits()+">"+8*l+")");for(a.getLengthInBits()+4<=8*l&&a.put(0,4);a.getLengthInBits()%8!=0;)a.putBit(!1);for(;!(a.getLengthInBits()>=8*l)&&(a.put(Ct.PAD0,8),!(a.getLengthInBits()>=8*l));)a.put(Ct.PAD1,8);return Ct.createBytes(a,o)},Ct.createBytes=function(e,t){for(var i=0,o=0,a=0,r=new Array(t.length),n=new Array(t.length),l=0;l<t.length;l++){var h=t[l].dataCount,s=t[l].totalCount-h;o=Math.max(o,h),a=Math.max(a,s),r[l]=new Array(h);for(var u=0;u<r[l].length;u++)r[l][u]=255&e.buffer[u+i];i+=h;var d=Et.getErrorCorrectPolynomial(s),c=new kt(r[l],d.getLength()-1).mod(d);n[l]=new Array(d.getLength()-1);for(u=0;u<n[l].length;u++){var g=u+c.getLength()-n[l].length;n[l][u]=0<=g?c.get(g):0}}var f=0;for(u=0;u<t.length;u++)f+=t[u].totalCount;var v=new Array(f),p=0;for(u=0;u<o;u++)for(l=0;l<t.length;l++)u<r[l].length&&(v[p++]=r[l][u]);for(u=0;u<a;u++)for(l=0;l<t.length;l++)u<n[l].length&&(v[p++]=n[l][u]);return v};for(var It={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},Tt={L:1,M:0,Q:3,H:2},_t=0,Lt=1,St=2,Rt=3,Pt=4,At=5,Mt=6,Bt=7,Et={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;0<=Et.getBCHDigit(t)-Et.getBCHDigit(Et.G15);)t^=Et.G15<<Et.getBCHDigit(t)-Et.getBCHDigit(Et.G15);return(e<<10|t)^Et.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;0<=Et.getBCHDigit(t)-Et.getBCHDigit(Et.G18);)t^=Et.G18<<Et.getBCHDigit(t)-Et.getBCHDigit(Et.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return Et.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,i){switch(e){case _t:return(t+i)%2==0;case Lt:return t%2==0;case St:return i%3==0;case Rt:return(t+i)%3==0;case Pt:return(Math.floor(t/2)+Math.floor(i/3))%2==0;case At:return t*i%2+t*i%3==0;case Mt:return(t*i%2+t*i%3)%2==0;case Bt:return(t*i%3+(t+i)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new kt([1],0),i=0;i<e;i++)t=t.multiply(new kt([1,Ot.gexp(i)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case It.MODE_NUMBER:return 10;case It.MODE_ALPHA_NUM:return 9;case It.MODE_8BIT_BYTE:case It.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case It.MODE_NUMBER:return 12;case It.MODE_ALPHA_NUM:return 11;case It.MODE_8BIT_BYTE:return 16;case It.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else{if(!(t<41))throw new Error("type:"+t);switch(e){case It.MODE_NUMBER:return 14;case It.MODE_ALPHA_NUM:return 13;case It.MODE_8BIT_BYTE:return 16;case It.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),i=0,o=0;o<t;o++)for(var a=0;a<t;a++){for(var r=0,n=e.isDark(o,a),l=-1;l<=1;l++)if(!(o+l<0||t<=o+l))for(var h=-1;h<=1;h++)a+h<0||t<=a+h||0==l&&0==h||n==e.isDark(o+l,a+h)&&r++;5<r&&(i+=3+r-5)}for(o=0;o<t-1;o++)for(a=0;a<t-1;a++){var s=0;e.isDark(o,a)&&s++,e.isDark(o+1,a)&&s++,e.isDark(o,a+1)&&s++,e.isDark(o+1,a+1)&&s++,0!=s&&4!=s||(i+=3)}for(o=0;o<t;o++)for(a=0;a<t-6;a++)e.isDark(o,a)&&!e.isDark(o,a+1)&&e.isDark(o,a+2)&&e.isDark(o,a+3)&&e.isDark(o,a+4)&&!e.isDark(o,a+5)&&e.isDark(o,a+6)&&(i+=40);for(a=0;a<t;a++)for(o=0;o<t-6;o++)e.isDark(o,a)&&!e.isDark(o+1,a)&&e.isDark(o+2,a)&&e.isDark(o+3,a)&&e.isDark(o+4,a)&&!e.isDark(o+5,a)&&e.isDark(o+6,a)&&(i+=40);var u=0;for(a=0;a<t;a++)for(o=0;o<t;o++)e.isDark(o,a)&&u++;return i+=10*(Math.abs(100*u/t/t-50)/5)}},Ot={glog:function(e){if(e<1)throw new Error("glog("+e+")");return Ot.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;256<=e;)e-=255;return Ot.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},Ht=0;Ht<8;Ht++)Ot.EXP_TABLE[Ht]=1<<Ht;for(Ht=8;Ht<256;Ht++)Ot.EXP_TABLE[Ht]=Ot.EXP_TABLE[Ht-4]^Ot.EXP_TABLE[Ht-5]^Ot.EXP_TABLE[Ht-6]^Ot.EXP_TABLE[Ht-8];for(Ht=0;Ht<255;Ht++)Ot.LOG_TABLE[Ot.EXP_TABLE[Ht]]=Ht;kt.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),i=0;i<this.getLength();i++)for(var o=0;o<e.getLength();o++)t[i+o]^=Ot.gexp(Ot.glog(this.get(i))+Ot.glog(e.get(o)));return new kt(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=Ot.glog(this.get(0))-Ot.glog(e.get(0)),i=new Array(this.getLength()),o=0;o<this.getLength();o++)i[o]=this.get(o);for(o=0;o<e.getLength();o++)i[o]^=Ot.gexp(Ot.glog(e.get(o))+t);return new kt(i,0).mod(e)}},Vt.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],Vt.getRSBlocks=function(e,t){var i=Vt.getRsBlockTable(e,t);if(null==i)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var o=i.length/3,a=[],r=0;r<o;r++)for(var n=i[3*r+0],l=i[3*r+1],h=i[3*r+2],s=0;s<n;s++)a.push(new Vt(l,h));return a},Vt.getRsBlockTable=function(e,t){switch(t){case Tt.L:return Vt.RS_BLOCK_TABLE[4*(e-1)+0];case Tt.M:return Vt.RS_BLOCK_TABLE[4*(e-1)+1];case Tt.Q:return Vt.RS_BLOCK_TABLE[4*(e-1)+2];case Tt.H:return Vt.RS_BLOCK_TABLE[4*(e-1)+3];default:return}},Dt.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var i=0;i<t;i++)this.putBit(1==(e>>>t-i-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var Wt=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];document.documentElement.tagName.toLowerCase();function jt(e,t){for(var i,o,a=1,r=(i=e,(o=encodeURI(i).toString().replace(/\%[0-9a-fA-F]{2}/g,"a")).length+(o.length!=i?3:0)),n=0,l=Wt.length;n<=l;n++){var h=0;switch(t){case Tt.L:h=Wt[n][0];break;case Tt.M:h=Wt[n][1];break;case Tt.Q:h=Wt[n][2];break;case Tt.H:h=Wt[n][3]}if(r<=h)break;a++}if(a>Wt.length)throw new Error("Too long data");return a}var Nt=(t(Ft,Ct),Ft);function Ft(e){l(this,Ft);var t=d(this,(Ft.__proto__||Object.getPrototypeOf(Ft)).call(this,jt(e,Tt.H),Tt.H));return t.addData(e),t.make(),t}var zt={};var Yt,Gt=(Yt=ht.Data,t(Xt,Yt),e(Xt,[{key:"init",value:function(e,t){var i=e.getAttrObject(),o=i.dataSource,a=i.color,r=i.total,n=o[t],l=n.name,h=void 0===l?"":l,s=n.value,u=void 0===s?0:s,d=n.color;this.a({name:h,value:u,percent:u/r,color:void 0===d?a[t]:d})}},{key:"initNodeRect",value:function(e){var t=this.getDataModel();this._initItemRect(t,e),this._initDragIconRect(t)}},{key:"_initItemRect",value:function(e,t){var i=e.getAttrObject(),o=i.rect,a=i.barWidth,r=i.padding,n=i.totalWidth,l=this.getAttrObject().percent,h=o.x,s=o.y,u=o.height,d=t?t.a("itemRect"):null;this.a("itemRect",{x:d?d.x+d.width:h+r,y:s+(u-a)/2,width:l*n,height:a})}},{key:"_initDragIconRect",value:function(e){var t=e.getAttrObject(),i=t.rect,o=t.sliderWidth,a=t.sliderHeight,r=t.sliderOffsetX,n=t.sliderOffsetY,l=this.getAttrObject().itemRect,h=i.y,s=i.height,u=l.x,d=l.width;this.a("dragIconRect",{x:u+d-o/2+r,y:h+(s-a)/2+n,width:o,height:a})}}]),Xt);function Xt(e,t){l(this,Xt);var i=d(this,(Xt.__proto__||Object.getPrototypeOf(Xt)).call(this));return i.init(e,t),i}var Ut,Zt=(Ut=ht.DataModel,t(Kt,Ut),e(Kt,[{key:"init",value:function(){for(var e=this.a("dataSource"),t=0,i=e.length;t<i;t++){var o=e[t];if(o){var a=o._uuid;this.tagMap[a]&&(a=ln());var r=this.getDataByTag(a);r?r.init(this,t):(o._uuid=a=void 0===a?ln():a,(r=new Gt(this,t)).setTag(a),this.add(r)),r.a("index")===t&&!this.hierarchyChanged||(this.moveTo(r,t),this.hierarchyChanged=!0),r.a({dataInfo:o,index:t}),this.tagMap[a]=!0}}for(var n=this.getDatas().toArray(),l=n.length-1;0<=l;l--)this.tagMap[n[l].getTag()]||this.remove(n[l])}},{key:"reset",value:function(e,t){var i=e.dataSource,o=e.total,a=e.padding;this.a(e),this.a({rect:t,totalWidth:t.width-2*a,leftValue:o-i.reduce(function(e,t){return e+(t.value||0)},0)}),this.tagMap={},this.hierarchyChanged=!1}}]),Kt);function Kt(){return l(this,Kt),d(this,(Kt.__proto__||Object.getPrototypeOf(Kt)).call(this))}var Jt=ht.Default,qt=Jt.drawRoundRect,Qt=Jt.getImage,$t=Jt.drawStretchImage;var ei=(e(ti,[{key:"onClick",value:function(){}},{key:"onDoubleClick",value:function(){}},{key:"onDown",value:function(){}},{key:"onUp",value:function(){}},{key:"onMove",value:function(){}},{key:"onEnter",value:function(){}},{key:"onHover",value:function(){}},{key:"onLeave",value:function(){}},{key:"onBeginDrag",value:function(){}},{key:"onDrag",value:function(){}},{key:"onEndDrag",value:function(){}},{key:"onScroll",value:function(){}}]),ti);function ti(){l(this,ti)}var ii=ht.Default.containsPoint,oi=(t(ai,ei),e(ai,[{key:"onUp",value:function(){}},{key:"onMove",value:function(e,t,i,o){var a=Yr(i,t,this,o,e),r=Sr(i,t,this),n=r.rectInfo,l=r.dragSliderDataModel,h=r.dragInfo,s=l.getAttrObject(),u=s.toolTipFormat,d=s.showToolTip,c=ai.getLpInDragIconsRectInfo(a,n.dragIconsRect).dragSliderData;if(void 0===c&&h&&(c=h.dragNode),c){if(Br(i,"ew-resize"),d){var g=c.getAttrObject(),f=g.name,v=g.value,p=g.percent,x="名称:"+f+"<br>数值:"+v+"<br>百分比:"+Math.floor(100*p)/100;Rr.show(u?u(f,v,p):x,e)}}else Br(i,"default"),d&&Rr.hide()}},{key:"onEnter",value:function(){}},{key:"onLeave",value:function(){Rr.hide()}},{key:"onBeginDrag",value:function(e,t,i,o){var a=Yr(i,t,this,o,e),r=Sr(i,t,this),n=r.rectInfo.dragIconsRect,l=ai.getLpInDragIconsRectInfo(a,n),h=l.dragSliderData,s=l.index;if(h){r.dragInfo={dragNode:h,dragNodeStartValue:h.a("value"),dragStartX:a.x};var u=n[s+1];u&&(r.dragInfo.dragNextNode=u.dragSliderData,r.dragInfo.dragNextNodeStartValue=u.dragSliderData.a("value"))}}},{key:"onDrag",value:function(e,r,n,t){var l=Yr(n,r,this,t,e),h=Sr(n,r,this),i=h.dragSliderDataModel,o=h.dragInfo;if(!h._dragSliderTimer&&i&&o){var s=o.dragNode,u=o.dragNodeStartValue,d=o.dragStartX,c=o.dragNextNode,g=o.dragNextNodeStartValue,a=i.getAttrObject(),f=a.total,v=a.totalWidth,p=a.step,x=a.leftValue,b=a.onChange,y=x;g&&(y=g),h._dragSliderTimer=setTimeout(function(){var e=(l.x-d)/v,t=f*e,i=t%p,o=Math.floor(t/p)*p+(p/2<=i?p:0);if(0<=o+u&&o<=y){if(s.a("dataInfo").value=u+o,c&&(c.a("dataInfo").value=g-o),"function"==typeof b){var a=[s.a("dataInfo")];c&&a.push(c.a("dataInfo")),b(a,r,n)}r.iv()}delete h._dragSliderTimer},10)}}},{key:"onEndDrag",value:function(e,t,i){var o=Sr(i,t,this);o._dragSliderTimer&&(clearInterval(o._dragSliderTimer),delete o._dragSliderTimer),delete o.dragInfo}}],[{key:"getLpInDragIconsRectInfo",value:function(e,t){for(var i=t.length-1;0<=i;i--){var o=t[i],a=o.dragSliderData,r=o.dragIconRect;if(ii(r,e))return{dragSliderData:a,dragIconRect:r,index:i}}return{}}}]),ai);function ai(){return l(this,ai),d(this,(ai.__proto__||Object.getPrototypeOf(ai)).call(this))}var ri=(t(ni,ei),e(ni,[{key:"onEnter",value:function(e,t,i){var o=Sr(i,t,this);o.defaultCursor=i.getView().style.cursor,o.disabled?Br(i,"not-allowed"):Br(i,"text")}},{key:"onLeave",value:function(e,t,i){var o=Sr(i,t,this);Br(i,o.defaultCursor)}},{key:"onDown",value:function(e,a,r){var n=Sr(r,a,this);if(!n.disabled&&!n.editing){var t=n.font,i=n.value,o=n.textAlign,l=n.maxLength,h=n.textColor,s=n.wordBreak,u=n.selectTextOnFocus,d=n.padding,c=n.onKeyDown,g=n.onKeyUp,f=n.onChange,v=n.lineHeight,p=cr("textarea"),x=p.style,b=Or(this,"value",a),y=ur(d),m=Ie(y,4),w=m[0],C=m[1],k=m[2],V=m[3];x.color=h,x.font=t,x.paddingTop=w+"px",x.paddingRight=C+"px",x.paddingBottom=k+"px",x.paddingLeft=2+V+"px",x.textAlign=o,x.resize="none",x.overflow="hidden",x.lineHeight=v+"px",x.wordBreak=s?"break-all":"keep-word",p.value=i||"",l&&p.setAttribute("maxlength",l),r.appendHTML(p);var D=Lr(r,a,this,e);D&&gr(r,p,D),n.editing=!0,n.editingValue=i,n.inputDOM=p,a.iv();var I=function(){gr(r,p,D)},T=function e(t){var i=p.getBoundingClientRect(),o=ht.Default.getClientPoint(t);ht.Default.containsPoint(i,o)||(t.preventDefault(),Pr(a,r,p,n,b),r.ump(I),r.getView().removeEventListener("mousedown",e),r.getView().removeEventListener("touchstart",e))};n.handleWindowClick=T,setTimeout(function(){u&&p.addEventListener("focus",function(e){p.select()}),p.focus(),r.mp(I);var t=null;p.addEventListener("keydown",function(e){t&&clearTimeout(t),t=setTimeout(function(){n.editingValue=p.value,a.a(b,p.value)},10),9===e.keyCode&&(Pr(a,r,p,n,b),r.getView().removeEventListener("mousedown",T),r.getView().removeEventListener("touchstart",T)),c&&c(e,a,r)}),(g||f)&&(p.addEventListener("keyup",function(e){g&&g(e,a,r),rr&&f&&f(p.value,a,r)}),rr||p.addEventListener("input",function(e){f&&f(p.value,a,r)})),r.getView().addEventListener("mousedown",T),r.getView().addEventListener("touchstart",T)},1)}}},{key:"onDrag",value:function(e,t,i){var o=Sr(i,t,this),a=Or(this,"value",t);o.editing&&o.inputDOM&&(Pr(t,i,o.inputDOM,o,a),i.getView().removeEventListener("mousedown",o.handleWindowClick),i.getView().removeEventListener("touchstart",o.handleWindowClick))}}]),ni);function ni(){return l(this,ni),d(this,(ni.__proto__||Object.getPrototypeOf(ni)).call(this))}var li=(t(hi,ei),e(hi,[{key:"onEnter",value:function(e,t,i){var o=Sr(i,t,this);o.defaultCursor=i.getView().style.cursor,o.disabled?Br(i,"not-allowed"):Br(i,"text")}},{key:"onLeave",value:function(e,t,i){var o=Sr(i,t,this);Br(i,o.defaultCursor)}},{key:"onDown",value:function(e,a,r){var n=Sr(r,a,this);if(!n.disabled&&!n.editing){var t=n.font,i=n.value,o=n.textAlign,l=n.maxLength,h=n.textColor,s=n.inputType,u=n.enterEndInputable,d=n.padding,c=n.onKeyDown,g=n.onKeyUp,f=n.onChange,v=n.selectTextOnFocus,p=a.getAnchorRect(),x=cr(),b=h||Te.textColor,y=x.style,m=Or(this,"value",a),w=ur(d),C=Ie(w,4),k=C[0],V=C[1],D=C[2],I=C[3];s&&(x.type=s),y.color=b,y.font=t,y.paddingTop=k+"px",y.paddingRight=V+"px",y.paddingBottom=D+"px",y.paddingLeft=2+I+"px",y.lineHeight=p.height+"px",y.textAlign=o,x.value=i||"",x.spellcheck=!1,l&&x.setAttribute("maxlength",l),r.appendHTML(x);var T=Lr(r,a,this,e);T&&gr(r,x,T),n.editing=!0,n.editingValue=i,n.inputDOM=x,a.iv();var _=function(){gr(r,x,T)},L=function e(t){var i=x.getBoundingClientRect(),o=ht.Default.getClientPoint(t);ht.Default.containsPoint(i,o)||(t.preventDefault(),Pr(a,r,x,n,m),r.ump(_),r.getView().removeEventListener("mousedown",e),r.getView().removeEventListener("touchstart",e))};n.handleWindowClick=L,setTimeout(function(){v&&x.addEventListener("focus",function(e){x.select()}),x.focus(),r.mp(_);var t=null;x.addEventListener("keydown",function(e){t&&clearTimeout(t),t=setTimeout(function(){n.editingValue=x.value,a.a(m,x.value)},10),(9===e.keyCode||u&&ht.Default.isEnter(e))&&(Pr(a,r,x,n,m),r.getView().removeEventListener("mousedown",L),r.getView().removeEventListener("touchstart",L)),c&&c(e,a,r)}),(g||f)&&x.addEventListener("keyup",function(e){g&&g(e,a,r),f&&f(x.value,a,r)}),r.getView().addEventListener("mousedown",L),r.getView().addEventListener("touchstart",L)},1)}}},{key:"onDrag",value:function(e,t,i){var o=Sr(i,t,this),a=Or(this,"value",t);o.editing&&o.inputDOM&&(Pr(t,i,o.inputDOM,o,a),i.getView().removeEventListener("mousedown",o.handleWindowClick),i.getView().removeEventListener("touchstart",o.handleWindowClick))}}]),hi);function hi(){return l(this,hi),d(this,(hi.__proto__||Object.getPrototypeOf(hi)).call(this))}function si(e,t,i,o,a,r,n){if(o&&(o.editing=!1,delete o.dom),a){var l=parseFloat(i.value);Ar(n)||(l=Math.min(l,n)),Ar(r)||(l=Math.max(l,r)),e.a(a,l)}e.iv(),lr(i)}var ui=ht.Default.containsPoint,di=(t(ci,ei),e(ci,[{key:"onEnter",value:function(e,t,i){var o=Sr(i,t,this);o.defaultCursor=i.getView().style.cursor,o.disabled?Br(i,"not-allowed"):Br(i,"text")}},{key:"onLeave",value:function(e,t,i){var o=Sr(i,t,this);Br(i,o.defaultCursor)}},{key:"onDown",value:function(e,a,r,t){var n=Sr(r,a,this),i=Lr(r,a,this,e),o=n.buttonRects,l=n.onKeyDown,h=n.onKeyUp,s=n.onChange,u=n.min,d=n.max,c={x:t.x+i.rect.x,y:t.y+i.rect.y},g=o&&(ui(o[0],c)||ui(o[1],c));if(!n.disabled)if(n.editing||g){if(g){var f=n.step,v=Or(this,"value",a);if(!v)return;var p=n.dom&&n.dom.value||a.a(v)||u||0,x=void 0;ui(o[0],c)?(x=Hr(parseFloat(p),f),Ar(d)||(x=Math.min(x,d))):(x=Wr(parseFloat(p),f),Ar(u)||(x=Math.max(x,u))),n.editing?(n.editingValue=n.dom.value=x,a.iv()):a.a(v,x),s&&p!==x&&s(x,a,r)}}else{var b=n.font,y=n.value,m=n.textAlign,w=n.maxLength,C=n.textColor,k=n.enterEndInputable,V=n.padding,D=n.selectTextOnFocus,I=a.getAnchorRect(),T=cr(),_=C||Te.textColor,L=T.style,S=Or(this,"value",a),R=ur(V),P=Ie(R,4),A=P[0],M=P[1],B=P[2],E=P[3];L.color=_,L.font=b,L.paddingTop=A+"px",L.paddingRight=M+"px",L.paddingBottom=B+"px",L.paddingLeft=2+E+"px",L.lineHeight=I.height+"px",L.textAlign=m,T.value=y||"",T.spellcheck=!1,w&&T.setAttribute("maxlength",w),r.appendHTML(T);var O=Lr(r,a,this,e);O&&gr(r,T,O),n.editing=!0,n.editingValue=y,n.dom=T,a.iv();var H=function(){gr(r,T,O)},W=function e(t){var i=T.getBoundingClientRect(),o=ht.Default.getClientPoint(t);ht.Default.containsPoint(i,o)||(t.preventDefault(),si(a,0,T,n,S,u,d),r.ump(H),r.getView().removeEventListener("mousedown",e),r.getView().removeEventListener("touchstart",e))};n.handleWindowClick=W,setTimeout(function(){D&&T.addEventListener("focus",function(e){T.select()}),T.focus(),r.mp(H);var t=null;T.addEventListener("keydown",function(e){t&&clearTimeout(t),t=setTimeout(function(){if(n.editingValue=T.value,S){var e=parseFloat(T.value);Ar(d)||(e=Math.min(e,d)),Ar(u)||(e=Math.max(e,u)),a.a(S,e)}},10),(9===e.keyCode||k&&ht.Default.isEnter(e))&&(si(a,0,T,n,S,u,d),r.getView().removeEventListener("mousedown",W),r.getView().removeEventListener("touchstart",W)),l&&l(e,a,r)}),T.addEventListener("keyup",function(e){h&&h(e,a,r),s&&s(parseFloat(T.value),a,r)}),T.addEventListener("input",function(e){e.target.value=e.target.value.replace(/[^\d\.{1}]/g,"")}),r.getView().addEventListener("mousedown",W),r.getView().addEventListener("touchstart",W)},1)}}},{key:"onMove",value:function(e,t,i,o){var a=Sr(i,t,this),r=Lr(i,t,this,e),n=a.buttonRects,l={x:o.x+r.rect.x,y:o.y+r.rect.y},h="text";a.disabled?h="not-allowed":n&&(ht.Default.containsPoint(n[0],l)||ht.Default.containsPoint(n[1],l))&&(h="pointer"),Br(i,h),a.dom&&(a.dom.style.cursor=h)}},{key:"onDrag",value:function(e,t,i){var o=Sr(i,t,this),a=Or(this,"value",t);o.editing&&o.dom&&(si(t,0,o.dom,o,a),i.getView().removeEventListener("mousedown",o.handleWindowClick),i.getView().removeEventListener("touchstart",o.handleWindowClick))}}]),ci);function ci(){return l(this,ci),d(this,(ci.__proto__||Object.getPrototypeOf(ci)).call(this))}var gi=(t(fi,ei),e(fi,[{key:"onDown",value:function(e,t,i){var o=Sr(i,t,this);o.disabled||(o.pressed=!0,t.iv())}},{key:"onEnter",value:function(e,t,i){var o=Sr(i,t,this);o.defaultCursor=i.getView().style.cursor,o.disabled?Br(i,"not-allowed"):Br(i,"pointer"),o.disabled||(o.hover=!0,t.iv())}},{key:"onLeave",value:function(e,t,i){var o=Sr(i,t,this);Br(i,o.defaultCursor||"default"),delete o.defaultCursor,o.hover=!1,t.iv()}}]),fi);function fi(){return l(this,fi),d(this,(fi.__proto__||Object.getPrototypeOf(fi)).call(this))}var vi=(t(pi,gi),e(pi,[{key:"onUp",value:function(e,t,i,o,a,r){var n=Sr(i,t,this),l=n.onClick;n.disabled||(n.pressed=!1,t.iv(),l&&0<o.x&&o.x<a&&0<o.y&&o.y<r&&l(e,t,i))}}]),pi);function pi(){return l(this,pi),d(this,(pi.__proto__||Object.getPrototypeOf(pi)).call(this))}var xi=(t(bi,gi),e(bi,[{key:"onUp",value:function(e,t,i,o,a,r){var n=Sr(i,t,this),l=n.disabled,h=(n.pressed,Or(this,"checked",t)),s=Or(this,"group",t);if(!l){delete n.pressed,t.iv();var u=n.value,d=n.onChange,c=n.group;if(!t.a(h)&&0<o.x&&o.x<a&&0<o.y&&o.y<r){var g=t.a(h);i&&i.dm()&&!g&&c&&i.dm().each(function(e){c===e.a(s)&&e.a(h,!1)}),t.a(h,!0),d&&d(void 0===u||u,t,i)}}}}]),bi);function bi(){return l(this,bi),d(this,(bi.__proto__||Object.getPrototypeOf(bi)).call(this))}var yi=(t(mi,gi),e(mi,[{key:"onUp",value:function(e,t,i){var o=Sr(i,t,this);if(!o.disabled){delete o.pressed;var a=o.value,r=o.onChange,n=o.group,l=(o.checked,_r(i,t).vectorInfos),h=[],s=void 0;l.forEach(function(e){e.__inputType===y&&e.group===n&&(e.checked&&(s=e.value),h.push(e))}),s!==a&&(h.forEach(function(e){e.checked=!1}),o.checked=!0,r&&r(s,a,t,i)),t.iv()}}}]),mi);function mi(){return l(this,mi),d(this,(mi.__proto__||Object.getPrototypeOf(mi)).call(this))}var wi=(t(Ci,gi),e(Ci,[{key:"onUp",value:function(e,t,i,o,a,r){var n=Sr(i,t,this),l=n.disabled,h=n.pressed,s=Or(this,"checked",t),u=Or(this,"group",t),d=Or(this,"value",t);if(!l){t.a(h,!1),t.iv(),n.value;var c=n.group,g=n.onChange;if(0<o.x&&o.x<a&&0<o.y&&o.y<r){var f=t.a(s);if(t.a(s,!f),g)if(c){var v=[];i.dm().each(function(e){c===e.a(u)&&e.a(s)&&v.push(e.a(d))}),g(v,t,i)}else g(!f,t,i)}}}}]),Ci);function Ci(){return l(this,Ci),d(this,(Ci.__proto__||Object.getPrototypeOf(Ci)).call(this))}var ki=(e(Vi,[{key:"init",value:function(){var t=this;this._initing=!0;var e=this.data,i=this.graph,o=e.a("ht.dropDownProperty"),a=(i.getZoom(),i.tx(),i.ty(),this.value),r=new this.dropDownClazz;if(o)for(var n in o)r.setPropertyValue(n,o[n]);var l=r._dropDownView=r.initDropDownView(e,this.getDatas(),a);r.getDropDownView=function(){return l},l.on("d:click",function(e){e.stopPropagation()}),l.on("d:mousedown",function(e){e.stopPropagation()}),l.on("d:mousewheel",function(e){e.stopPropagation()}),l.on("d:mousemove",function(e){t.dropDownClazz!==ht.ui.ColorDropDown&&e.stopPropagation()}),this._dropDown=r,this._dropDownView=l,this.onInit(r,l);var h=Nr(this.vectorInfo.comp,this.data,this.graph);this.prepareLayoutDropDown(r,l,{left:h.x,top:h.y,width:h.widht,height:h.height}),hr(l.getView()),r.addValueChangeListener(this.handleDropDownValueChange,this),r.addDropDownListener(this.handleDropDownChange,this),setTimeout(function(){t.registerCloseEvent(t._documentClickHandler)},100),r.afterOpen(a),l.iv(!0),this._initing=!1}},{key:"onInit",value:function(){}},{key:"getDatas",value:function(){return null}},{key:"prepareLayoutDropDown",value:function(e,t,i){var o=e.getWidth(),a=e.getHeight(),r=ht.Default.getWindowInfo(),n=i.left+r.left,l=i.top+i.height+r.top;n+o>r.left+r.width&&(n=r.left+r.width-o),l+a>r.top+r.height&&(l-=i.height+a)<r.top&&(l=r.top),t.setX(Math.max(0,n)),t.setY(l),t.setWidth(o),t.setHeight(a)}},{key:"registerCloseEvent",value:function(e){var t=this.graph.getView();ht.Default.isTouchable?(document.addEventListener("touchstart",e),t.addEventListener("touchstart",e)):(document.addEventListener("mousedown",e),t.addEventListener("mousedown",e))}},{key:"unregisterCloseEvent",value:function(e){var t=this.graph.getView();ht.Default.isTouchable?(document.removeEventListener("touchstart",e),t.removeEventListener("touchstart",e)):(document.removeEventListener("mousedown",e),t.removeEventListener("mousedown",e))}},{key:"_clearDropDown",value:function(){this._dropDown=this._dropDownView=null,this.vectorInfo.editing=!1,this.data.iv()}},{key:"documentClickHandler",value:function(e){var t=this.data,i=this.graph;if(ht.Default.isLeftButton(e)){var o=this._dropDown,a=this._dropDownView,r=this.vectorInfo.comp,n=Nr(r,t,i);if(a){var l=a.containsEvent?a.containsEvent(e):o.isClickOnDropDownView(e);ht.Default.containsPoint(n,ht.Default.getClientPoint(e))||l||this.close()}}}},{key:"close",value:function(){!this._initing&&this._dropDown&&(this._dropDown.cancel(),this.vectorInfo.editing=!1,delete this._dropDown,delete this._dropDownView,this.data.iv())}},{key:"handleDropDownValueChange",value:function(e){this.value=e.value}},{key:"open",value:function(){this.isOpened()||(this.init(),this.vectorInfo.editing=!0,this.data.iv())}},{key:"isOpened",value:function(){return!!this._dropDown}},{key:"handleDropDownChange",value:function(e){this.data;var t=this._dropDown,i=this._dropDownView;if(t){if(t.beforeClose(),"stop"===e.kind){var o=t.getDropDownValue();void 0!==o&&(this.value=o)}this._clearDropDown(),ht.Default.removeHTML(i.getView()),t.removeValueChangeListener(this.handleDropDownValueChange,this),this.unregisterCloseEvent(this._documentClickHandler),t.afterClose()}}},{key:"value",get:function(){var e=this.data,t=this.valueType.split("@"),i=Ie(t,2),o=i[0],a=i[1];if("a"===o)return e.a(a);if("s"===o)return e.s(a);if("p"===o){var r=ht.Default.getter(a);if(e[r])return e[r]()}return null},set:function(e){var t=this.data,i=this.valueType,o=this.graph,a=i.split("@"),r=Ie(a,2),n=r[0],l=r[1],h=this.vectorInfo.onChange,s=this.value;if("a"===n)t.a(l,e);else if("s"===n)t.s(l,e);else if("p"===n){var u=ht.Default.setter(l);t[u]&&t[u](e)}h&&h(s,e,t,o)}}]),Vi);function Vi(t,e,i,o){l(this,Vi),this.data=t,this.graph=e,this.vectorInfo=i,this.valueType=o,this._documentClickHandler=this.documentClickHandler.bind(this),ht.Default.addMethod(t,{isInstant:function(){return this.s("instant")},setInstant:function(e){t.s("instant",e)}})}var Di=(t(Ii,ki),Ii);function Ii(e,t,i,o){l(this,Ii);var a=d(this,(Ii.__proto__||Object.getPrototypeOf(Ii)).call(this,e,t,i,o));return a.dropDownClazz=ht.ui.ColorDropDown,a}function Ti(e,t,i,o){var a=i.dropDown;a||(a=new Di(e,t,i,"a@"+o),i.dropDown=a),a.open()}var _i=(t(Li,ki),e(Li,[{key:"onInit",value:function(e){var t=this.data,i=t.a(g.DATE_TYPE),o=t.a("ht.selectableFunc"),a=t.a("ht.dropDownProperty");if(e.setPropertyValue("dateTimePane.type",i,!0),e.setPropertyValue("dateTimePane.selectableFunc",o,!0),a)for(var r in a)e.setPropertyValue(r,a[r],!0)}}]),Li);function Li(e,t,i,o){l(this,Li);var a=d(this,(Li.__proto__||Object.getPrototypeOf(Li)).call(this,e,t,i,o));return a.dropDownClazz=ht.ui.DateTimeDropDown,a}function Si(e,t,i,o){var a=i.dropDown;a||(e.getFormat=function(){return e.a(g.FORMAT)},a=new _i(e,t,i,o),i.dropDown=a),a.open()}var Ri=(t(Pi,ki),e(Pi,[{key:"onInit",value:function(e){var t=this.data,i=t.a(g.DATE_TYPE),o=t.a("ht.selectableFunc"),a=t.a("ht.dropDownProperty");if(e.setPropertyValue("dateTimePane.type",i,!0),e.setPropertyValue("dateTimePane.selectableFunc",o,!0),a)for(var r in a)e.setPropertyValue(r,a[r],!0)}}]),Pi);function Pi(e,t,i,o){l(this,Pi);var a=d(this,(Pi.__proto__||Object.getPrototypeOf(Pi)).call(this,e,t,i,o));return e.getDropDownConfig=function(){return e.a("dropDownConfig")||{}},a.dropDownClazz=ht.ui.DateRangeDropDown,a}t(Ai,ki),e(Ai,[{key:"getDatas",value:function(){return[{id:void 0,label:""},{id:"0",label:"Female"},{id:"1",label:"Male"}]}}]);function Ai(e,t,i){l(this,Ai);var o=d(this,(Ai.__proto__||Object.getPrototypeOf(Ai)).call(this,e,t,i));return o.dropDownClazz=ht.ui.ListDropDown,o}var Mi=(t(Bi,gi),e(Bi,[{key:"onUp",value:function(e,t,i,o,a,r){var n=Sr(i,t,this);if(!n.disabled){n.pressed=!1,t.iv();var l=Or(this,"value",t);0<o.x&&o.x<a&&0<o.y&&o.y<r&&Ti(t,i,n,l)}}}]),Bi);function Bi(){return l(this,Bi),d(this,(Bi.__proto__||Object.getPrototypeOf(Bi)).call(this))}var Ei=(t(Oi,gi),e(Oi,[{key:"onUp",value:function(e,t,i,o,a,r){var n=Sr(i,t,this);if(!n.disabled){var l=Or(this,"value",t);0<o.x&&o.x<a&&0<o.y&&o.y<r&&Si(t,i,n,"a@"+l)}}}]),Oi);function Oi(){return l(this,Oi),d(this,(Oi.__proto__||Object.getPrototypeOf(Oi)).call(this))}var Hi,Wi=(Hi=ht.graph.Interactor,t(ji,Hi),e(ji,[{key:"handle_mousedown",value:function(e){this.handle_touchstart(e)}},{key:"handle_touchstart",value:function(e){if(e.stopPropagation(),!this.gv.isOnScrollBar(e)){var t=this.gv,i=t.getDataAt(e);i&&t.sm().ss(i)}}},{key:"handle_mousemove",value:function(e){var t=this.gv,i=t._hoverData,o=t.getDataAt(e);o!==i&&(t._hoverData=o&&t.sm().contains(o)?null:o,t.redraw())}},{key:"handle_mouseleave",value:function(){var e=this.gv;e._hoverData&&(e._hoverData=null,e.redraw())}},{key:"handle_mouseup",value:function(e){this.handle_touchend(e)}},{key:"handle_touchend",value:function(){}}]),ji);function ji(e){return l(this,ji),d(this,(ji.__proto__||Object.getPrototypeOf(ji)).call(this,e))}var Ni,Fi={hoverDarker:5,activeDarker:11,baseColor:"#3399ff",baseColor2:"#737373",hoverBackground:"#eeeeee",emptyColor:"#ffffff",fontSize:12,fontFamily:"arial, sans-serif",font:"12px arial sans-serif",disabledColor:"#ebebeb",disabledBackground:"#fafafa",inputTextColor:"#111111",placeholderColor:"#737373"},zi=(Ni=ht.graph.GraphView,t(Yi,Ni),e(Yi,[{key:"adjustTranslateX",value:function(){return 0}},{key:"isMovable",value:function(){return!1}},{key:"adjustZoom",value:function(){return 1}},{key:"adjustTranslateY",value:function(e){var t=this,i=this.dm().toDatas(function(e){return t.isVisible(e)}),o=this.getHeight()-i.size()*this._rowHeight;return 0<=e||0<=o?0:o<e?e:o}},{key:"handleScroll",value:function(e){var t=ar?-e.detail:e.wheelDelta/40;!ar&&e.wheelDelta===e.wheelDeltaX||this.translate(0,t)}},{key:"onPropertyChanged",value:function(e){n(Yi.prototype.__proto__||Object.getPrototypeOf(Yi.prototype),"onPropertyChanged",this).call(this,e);var t=e.property;"dataModel"!==t&&"fileSize"!==t||this.doLayoutLater()}},{key:"doLayoutLater",value:function(){this._doLayoutLater||(this._doLayoutLater=!0,ht.Default.callLater(this.doLayout,this))}},{key:"onValidated",value:function(){this._lastWidth!==this.getWidth()&&this.doLayoutLater()}},{key:"isVisible",value:function(){return!0}},{key:"doLayout",value:function(){var t=this;this._doLayoutLater=!1,this._lastWidth=this.getWidth();var i=this._iconHeight,o=this._iconWidth,a=this._rowHeight,r=this._nodes=[];this.dm().getDatas().each(function(e){t.isVisible(e)&&r.push(e)}),this._lastHeight=this.getHeight();var n=8+.5*o,l=.5*a;r.forEach(function(e,t){e.setSize(o,i),e.p(n,l),l+=a})}},{key:"drawBottomPainter",value:function(i){var o=this,a=this._rowHeight,r=this.getWidth(),n=this._hoverData,l=this._dropBorderColor,h=this._dropBorderWidth;if(this.dm().toDatas(this.isVisible,this).each(function(e){if(i.beginPath(),i.rect(0,e.p().y-a/2,r,a),o.isSelected(e)?(i.fillStyle=o.getActiveColor()||Fi.baseColor,i.fill()):e===n&&(i.fillStyle=o.getHoverBackground()||Fi.hoverBackground,i.fill()),l&&h){var t=e.p().y+a/2-.5*h;i.beginPath(),i.moveTo(0,t),i.lineTo(r,t),i.strokeStyle=l,i.lineWidth=h,i.stroke()}}),l&&h){var e=this.getViewRect(),t=e.x,s=e.y,u=e.width,d=e.height;i.strokeStyle=l,i.lineWidth=h,i.strokeRect(t+.5*h,s+.5*h,u-h,d-h)}}},{key:"getDataAt",value:function(e){var t=Math.floor(this.lp(e).y/this._rowHeight);return this._nodes[t]}},{key:"handleSelectionChange",value:function(e){n(Yi.prototype.__proto__||Object.getPrototypeOf(Yi.prototype),"handleSelectionChange",this).call(this,e),this.redraw()}},{key:"getSelectWidth",value:function(){return 0}},{key:"isOnScrollBar",value:function(e){var t=this.getViewRect(),i=this.getScrollRect(),o=this.getScrollBarSize(),a=this.lp(e);return ht.Default.isTouchable&&(o*=1.5),i.height>t.height&&a.x-t.x>t.width-o}}]),Yi);function Yi(e){l(this,Yi);var t=d(this,(Yi.__proto__||Object.getPrototypeOf(Yi)).call(this,e));t.setInteractors([new ht.graph.ScrollBarInteractor(t),new Wi(t),new ht.graph.DefaultInteractor(t),new ht.graph.TouchInteractor(t,{editable:!1})]),t.addBottomPainter(t.drawBottomPainter.bind(t)),t.setAutoHideScrollBar(!1),t._nodes=[];var i=t.getView().style;return i.transition="all 0.2s",i.transitionOrigin="0 0",t}yr(zi,{ms_ac:["rowHeight","iconWidth","iconHeight","activeColor","hoverBackground","dropBorderWidth","dropBorderColor"],_rowHeight:26,_iconWidth:20,_iconHeight:20});var Gi=(t(Xi,zi),e(Xi,[{key:"_initStyleByMaster",value:function(e){var t=0<arguments.length&&void 0!==e?e:this._vectorInfo;this.setIconHeight(t.dropIconWidth),this.setIconWidth(t.dropIconHeight),this.setRowHeight(t.dropRowHeight),this.setDropWidth(t.dropWidth),this.setBackground(t.dropBackground),this.setHoverBackground(t.dropHoverBackground),this.setActiveColor(t.dropActiveBackground),this.setDropLabelColor(t.dropLabelColor),this.setDropActiveLabelColor(t.dropActiveLabelColor),this.setDropLabelFont(t.dropLabelFont),this.setMaxHeight(t.dropMaxHeight),this.setDropBorderColor(t.dropBorderColor),this.setDropBorderWidth(t.dropBorderWidth)}},{key:"handleSelectData",value:function(e){var t=this._master,i=this._vectorInfo,o=i.onChange,a=this.sm().getSelectionMode(),r=i.dataSource;if(r&&0!==r.length&&e){if(a===u)this.sm().ss(e);else{if(this.sm().co(e))return;this.sm().as(e)}var n=e.a("value");if(a===u)t.a(this._valueName,n),t.a(g.LABEL,this.__getLabel()),t.a(g.ICON,e.a("icon"));else{var l=this._previousValue,h=i.maxSelection;if(n=[n],l&&l.indexOf(n[0])<0)n=l.concat(n);else if(l)return;0<h&&n.length>h&&n.shift(),t.a(this._valueName,n)}o&&o(this._previousValue,n,t,this._masterGraph),this.close()}}},{key:"setSelectionMode",value:function(e){s!==e&&u!==e||this.sm().setSelectionMode(e)}},{key:"getNodeValue",value:function(e){return e.a("value")||e.s("label")||e.s("text")}},{key:"getNodeLabel",value:function(e){return e.s("label")||e.s("text")||e.a("value")}},{key:"setData",value:function(e){var i=this,o=this.dm();o.clear(),e&&e.length&&(e.forEach(function(e){var t;e.icon?((t=new ht.Node).setImage(e.icon),t.s({pixelPerfect:!1,"image.stretch":"uniform",label:(e.label||e.value)+"","label.position":20,"label.offset.x":4,"label.font":i.getDropLabelFont()})):(t=new ht.Text).s({text:(e.label||e.value)+"",pixelPerfect:!1,"text.color":i.getLabelColor(t),"text.font":i.getDropLabelFont()}),t.a(e),o.add(t)}),this.setDropHeight(Math.min(this.getMaxHeight(),e.length*this.getRowHeight())))}},{key:"getValue",value:function(){var t=this,e=this.sm(),i=e.getSelection(),o=e.getSelectionMode();if(u===o)return 0===i.size()?null:this.getNodeValue(i.get(0));if(s!==o)return null;var a=[];return i.each(function(e){a.push(t.getNodeValue(e))}),a}},{key:"__getLabel",value:function(){var t=this,e=this.sm(),i=e.getSelection(),o=e.getSelectionMode();if(u===o)return 0===i.size()?null:this.getNodeLabel(i.get(0));if(s!==o)return null;var a=[];return i.each(function(e){a.push(t.getNodeLabel(e))}),a}},{key:"toggle",value:function(){this._transition||(this._opened?this.close():this.open())}},{key:"__scrollToIndex",value:function(e){this.dm().getDatas(),this.sm();var t=this.getMaxHeight(),i=this.getRowHeight();t<e*i?this.ty(t-(e+1)*i):this.ty(0)}},{key:"open",value:function(){var i=this,e=this._master,t=(this._masterGraph,this.getView().style),o=this.getDropWidth(),a=this.getDropHeight(),r=e.a(this._valueName);this.sm().cs(),Zr(r)?Xr(r)?r.length&&r.forEach(function(t){i.dm().each(function(e){e.a("value")===t&&i.sm().as(e)})}):this.dm().each(function(e,t){e.a("value")===r&&(i.sm().ss(e),i.__scrollToIndex(t))}):this.ty(0),this._previousValue=r,this._vectorInfo.editing=!0,this._master.iv(),this.layoutByMaster(),this.setWidth(o),this.setHeight(a),fr(t,"transform","scaleY(0)"),hr(this.getView()),this._transition=!0,this.registerCloseEvent(this._documentClickHandler),this.doLayout(),ht.Default.callLater(function(){fr(t,"transform","scaleY(1)"),setTimeout(function(){i.redraw(),i.setOpened(!0),i._transition=!1},300)})}},{key:"layoutByMaster",value:function(){this._master,this._masterGraph;var e=Nr(this._vectorInfo.comp,this._master,this._masterGraph),t=ht.Default.getWindowInfo(),i=this.getView().style,o=this.getDropWidth(),a=this.getDropHeight(),r=Math.max(0,e.x),n=e.y+e.height,l="50% 0";n+a>t.height&&n-e.height>a&&(n=n-a-e.height,l="50% 100%"),r+o>t.width&&(r=t.width-o),i.left=r+"px",i.top=n+"px",fr(i,"transformOrigin",l)}},{key:"onOpen",value:function(){}},{key:"close",value:function(){var e=this;if(!this._transition){var t=this.getView(),i=t.style;this._vectorInfo.editing=!1,this._master.iv(),this._transition=!0,this.unRegisterCloseEvent(this._documentClickHandler),fr(i,"transform","scaleY(0)"),setTimeout(function(){lr(t),e._transition=!1,e.setOpened(!1)},301)}}},{key:"registerCloseEvent",value:function(e){var t=this._masterGraph.getView();ht.Default.isTouchable?(document.addEventListener("touchstart",e),t.addEventListener("touchstart",e)):(document.addEventListener("mousedown",e),t.addEventListener("mousedown",e))}},{key:"unRegisterCloseEvent",value:function(e){var t=this._masterGraph.getView();ht.Default.isTouchable?(document.removeEventListener("touchstart",e),t.removeEventListener("touchstart",e)):(document.removeEventListener("mousedown",e),t.removeEventListener("mousedown",e))}},{key:"documentClickHandler",value:function(e){var t=this._master,i=this._masterGraph,o=Nr(this._vectorInfo.comp,t,i);ht.Default.containsPoint(o,ht.Default.getClientPoint(e))||this.close()}},{key:"getLabelColor",value:function(e){return this.sm().co(e)?this.getDropActiveLabelColor():this.getDropLabelColor()}},{key:"getScrollRect",value:function(){return n(Xi.prototype.__proto__||Object.getPrototypeOf(Xi.prototype),"getScrollRect",this).call(this)}},{key:"isVisible",value:function(e){return!this._vectorInfo.hideSelected||!this.sm().co(e)}}]),Xi);function Xi(e,t,i,o,a){l(this,Xi);var r=d(this,(Xi.__proto__||Object.getPrototypeOf(Xi)).call(this));r.setSelectionMode(a?s:u),r._master=e,r._masterGraph=t,r._vectorInfo=i,r._valueName=o,r._transition=!1,r._documentClickHandler=r.documentClickHandler.bind(r),r._previousValue=null,r.dm().setAutoAdjustIndex(!1),r.setInteractors([new ht.graph.ScrollBarInteractor(r),new ht.graph.MoveInteractor(r),new ht.graph.DefaultInteractor(r),new ht.graph.TouchInteractor(r)]);var n=r.getView().style;return n.height=0,n.boxShadow="rgba(0, 0, 0, 0.3) 0px 8px 22px",fr(n,"transition","all 0.3s esse-in"),r.mi(function(e){e.event&&(e.event.preventDefault(),e.event.stopPropagation()),"clickData"===e.kind&&r.handleSelectData(e.data)}),r.sm().ms(function(e){r.dm().each(function(e){e instanceof ht.Text&&e.s("text.color",r.getLabelColor(e))})}),r.mp(function(e){"background"===e.property&&(n.background=e.newValue)}),r.getView().addEventListener("mousemove",function(e){var t=r._hoverData,i=r.getDataAt(e);i!==t&&(r._hoverData=i&&r.sm().contains(i)?null:i,r.redraw())}),r._initStyleByMaster(),r}function Ui(e,t,i,o,a){var r=i.dropDown;r||((r=new Gi(e,t,i,o,a)).getView().className="ht-vector-dropdown",i.dropDown=r),r._transition||(r.isOpened()||(r.setData(i.dataSource),r._initStyleByMaster(i)),r.toggle())}yr(Gi,{ms_ac:["background","dropWidth","dropHeight","maxHeight","opened","dropLabelFont","dropLabelColor","dropActiveLabelColor"],_background:Fi.emptyColor,_dropWidth:200,_dropHeight:100,_maxHeight:400,_opened:!1,_dropLabelColor:Fi.inputTextColor});var Zi=(t(Ki,gi),e(Ki,[{key:"onUp",value:function(e,t,i,o,a,r){var n=Sr(i,t,this);if(!n.disabled){n.pressed=!1,t.iv();var l=Or(this,"value",t);0<o.x&&o.x<a&&0<o.y&&o.y<r&&Ui(t,i,n,l)}}},{key:"onDrag",value:function(e,t){var i=t.__dropDown;i&&i._opened&&i.layoutByMaster()}}]),Ki);function Ki(){return l(this,Ki),d(this,(Ki.__proto__||Object.getPrototypeOf(Ki)).call(this))}function Ji(e,t,i,o,a){var r=Sr(i,t,o),n=r.rowLineWidth,l=void 0===n?0:n,h=r.columnLineWidth,s=void 0===h?0:h,u=r.rowHeights,d=r.colWidths,c=r.headHeight,g=r.translateY,f=r.translateX,v=null,p=null;if(0<(g=Math.floor(a.y-g-c))&&u&&u.length){for(var x=v=0;v<u.length&&!(g<(x+=u[v]+l));v++);v===u.length&&(v=null)}if(0<(f=Math.floor(a.x-f))&&d&&d.length){for(var b=p=0;p<d.length&&!(f<(b+=d[p]+s));p++);p===d.length&&(p=null)}return{row:v,col:p}}var qi=(t(Qi,ei),e(Qi,[{key:"onDown",value:function(e,t,i,o,a,r){if(!Pe(this,t,i,o,a,r,!0,e)){var n=Sr(i,t,this),l=n.hoverIndex,h=n.multiple,s=n.onClickCell,u=n.onClickHeadCell,d=n.headRect,c=n.headHeight,g=n.onClickCellImage,f=Yr(i,t,this,o,e),v=Or(this,"selectedIndex",t);if(d=d&&Tr(d),!Ar(l)){var p=n.dataSource||[],x=n.onSelectRow,b=n.selectedIndex;if(p&&p[l]){if(h)if(b="number"==typeof b?[b]:null==b?[]:b.slice(0),ht.Default.isCtrlDown()){var y=b.indexOf(l);0<=y?b.splice(y,1):b.push(l)}else if(ht.Default.isShiftDown()&&0<b.length){var m=b[b.length-1];if(m<l)for(var w=m+1;w<=l;w++)b.indexOf(w)<0&&b.push(w);else if(l<m)for(var C=m-1;l<=C;C--)b.indexOf(C)<0&&b.push(C)}else b=[l];else b=[l];v&&t.a(v,b),x&&x(p[l],t,i)}}if(s){var k=n.colWidths,V=n.rowHeights,D=n.columns,I=n.dataSource,T=n.rawColIndexs,_=n.rawIndexs,L=Ji(0,t,i,this,o),S=_[L.row],R=T[L.col];if(null!=R&&null!=S&&L.row<=V.length&&L.col<=k.length&&D&&I&&D[R].key){var P=D[R],A=I[S],M=A[P.key];P.format&&(M=P.format(M,A,S,R)),s(e,M,A,P,S,R,t,i)}}if(u&&c&&d&&Ar(n.resizeColIndex)&&Qr(d,f))for(var B=n.rawCols,E=n.colWidths,O=n.headHeight,H=n.rawColIndexs,W=d.x,j=0;j<E.length;j++){var N={x:W,y:d.y,width:E[j],height:O};if(Qr(N,f)){u(e,B[j],H[j],t,i);break}W+=E[j]}if(g){var F=n.drawCellImageInfo,z=void 0===F?[]:F,Y=n.columns,G=n.dataSource,X=n.rawColIndexs,U=n.rawIndexs;if(0<z.length)for(var Z=Ji(0,t,i,this,o),K=U[Z.row],J=X[Z.col],q=0,Q=z.length;q<Q;q++){var $=z[q].rect;if(Qr($,f)){g(e,z[q],G[K],Y[J],K,J,t,i);break}}}}}},{key:"onMove",value:function(e,t,i,o,a,r){var n=Sr(i,t,this),l=n.rowHeights,h=n.colWidths,s=n.hoverIndex,u=n.columns,d=n.rawDatas,c=n.rawIndexs,g=(n.rawCols,n.rawColIndexs),f=n.onHoverCell,v=n.resizable,p=n.headRect,x=n.bodyRect,b=Ji(0,t,i,this,o),y=n.scrollInfo,m=n.scrollBarInteractiveSize||ht.Default.scrollBarInteractiveSize,w=b.row,C=b.col,k=Yr(i,t,this,o,e);if(!n._scrollDragInfo&&c&&d){p=p&&Tr(p),x=Tr(x);var V=n.onClickCellImage,D=n.drawCellImageInfo,I=void 0===D?[]:D;if(V&&0<I.length){for(var T=0,_=I.length;T<_;T++){var L=I[T].rect;if(Qr(L,k)){Br(i,"pointer");break}}T===_&&Br(i,"default")}if(Qr(x,k)&&n.autoHideScrollBar&&y&&(y.scrollBarX&&o.y>r-m||y.scrollBarY&&o.x>a-m))return n.scrollBarVisible=!0,t.iv(),void H(t,n);if(Qr(x,k)){if(f)if(null!=C&&null!==w&&w<=l.length&&C<=h.length&&u&&d&&u[C].key){var S=u[C],R=d[w],P=c[w],A=g[C],M=R[S.key];S.format&&(M=S.format(M,R,P,A)),f(e,M,R,S,P,A,t,i)}else f(e,null,null,null,null,null,t,i);s!==c[w]&&(n.hoverIndex=c[w],t.iv())}else if(p&&!n.resizeBeginPoint&&v&&Qr(p,k)){for(var B=n.resizeRects,E=void 0,O=0;O<B.length;O++)if(Qr(B[O],k)){E=O;break}n.resizeColIndex=E,Zr(E)?Br(i,"ew-resize"):Br(i,"default")}}}},{key:"onLeave",value:function(e,t,i){var o=Sr(i,t,this);o.hoverIndex=null,t.iv();var a=o.onHoverCell;a&&a(e,null,null,null,null,null,t,i),Br(i,"default")}},{key:"onBeginDrag",value:function(e,t,i,o,a,r){b.apply(this,arguments);var n=Sr(i,t,this);if(Zr(n.resizeColIndex)){var l=n.colWidths,h=n.rawColIndexs,s=n.rawCols;n.resizeSourceWidth=l[h[n.resizeColIndex]],n.resizeBeginPoint=o,s.forEach(function(e,t){e.width=l[t]})}}},{key:"onDrag",value:function(e,t,i,o,a,r){var n=Sr(i,t,this),l=n.resizeBeginPoint;if(l){var h=n.rawCols,s=n.rawColIndexs,u=n.resizeColIndex,d=n.resizeSourceWidth,c=n.resizeRects,g=h[s[u]],f=o.x-l.x,v=c[u],p=v.x,x=v.y,b=v.width;return v.height,n.resizeDragPoint={x:p+b/2,y:x},g.width=Math.max(d+f,1),void t.iv()}m.apply(this,arguments)}},{key:"onEndDrag",value:function(e,t,i,o,a,r){_.apply(this,arguments);var n=Sr(i,t,this);if(n.resizeBeginPoint){var l=Or(this,"translateX",t),h=(t.a(l),n.colWidths),s=0;h.forEach(function(e){s+=e}),delete n.resizeBeginPoint,delete n.resizeDragPoint,delete n.resizeColIndex,s<a?t.a(l,0):t.iv()}}},{key:"onScroll",value:function(e,t,i,o,a,r){x.apply(this,arguments)}}]),Qi);function Qi(){return l(this,Qi),d(this,(Qi.__proto__||Object.getPrototypeOf(Qi)).call(this))}function $i(e,t,i,o,a){var r=t.max,n=t.min,l=t.step,h=r-n,s=t.value,u=(i.x-o.x)/o.width*h+n,d=t.onChange,c=Or(t.comp,"value",e);if(u=Math.min(r,u),u=Math.max(n,u),l){var g=u%l;u=u-g+(Math.abs(g)>l/2)*(g<0?-l:l)}e.a(c,u),d&&d(s,u,e,a)}var eo=ht.Default.containsPoint,to=(t(io,ei),e(io,[{key:"onDown",value:function(e,t,i,o){var a=Sr(i,t,this);if(!a.disabled){var r=jr(a.barRect,2),n=Yr(i,t,this,o,e);eo(r,n)&&$i(t,a,n,a.barRect,i)}}},{key:"onMove",value:function(e,t,i,o){var a=Sr(i,t,this),r=jr(a.sliderRect,2),n=a.showToolTip,l=a.toolTipFormat,h=Or(this,"value",t),s=Yr(i,t,this,o,e);if(eo(r,s)&&n){var u=t.a(h);u=Ar(u)?"0":u+"",Rr.show(l?l(u):u,e)}else this.dragging||Rr.hide()}},{key:"onEnter",value:function(e,t,i){Sr(i,t,this).disabled?Br(i,"not-allowed"):Br(i,"pointer")}},{key:"onLeave",value:function(e,t,i){var o=Sr(i,t,this);Br(i,"default"),o.dragging||Rr.hide()}},{key:"onBeginDrag",value:function(e,t,i,o){var a=Sr(i,t,this);if(!a.disabled){var r=jr(a.sliderRect,2),n=Yr(i,t,this,o,e);eo(r,n)&&(a.dragging=!0)}}},{key:"onDrag",value:function(e,t,i,o){var a=Sr(i,t,this);if(a.dragging){var r=Yr(i,t,this,o,e),n=a.barRect;$i(t,a,r,n,i);var l=a.showToolTip,h=a.toolTipFormat,s=a.value;l&&Rr.show(h?h(s):s,e)}}},{key:"onEndDrag",value:function(e,t,i){delete Sr(i,t,this).dragging,Rr.hide()}}]),io);function io(){return l(this,io),d(this,(io.__proto__||Object.getPrototypeOf(io)).call(this))}function oo(e,t,i,o,a,r){var n=t.max,l=t.min,h=t.step,s=n-l,u=(i.x-o.x)/o.width*s+l,d=t.value,c=d[0],g=d[1],f=Or(t.comp,"value",e),v=t.onChange;if(u=Math.min(n,u),u=Math.max(l,u),h){var p=u%h;u=u-p+(Math.abs(p)>h/2)*(p<0?-h:h)}var x=null;if(t.dragging){var b=t.dragging;x=b<=u?[b,u]:[u,b]}else{var y=Math.abs(c-u);x=Math.abs(g-u)<=y?[c,u]:[u,g]}return r||e.a(f,x),v&&v(d,x,e,a),u}var ao=(t(ro,ei),e(ro,[{key:"onDown",value:function(e,t,i,o){var a=Sr(i,t,this);if(!a.disabled){var r=jr(a.barRect,2),n=a.valueBarRect,l=a.valueBarDraggable,h=Yr(i,t,this,o,e);l&&ht.Default.containsPoint(n,h)||ht.Default.containsPoint(r,h)&&oo(t,a,h,a.barRect,i)}}},{key:"onMove",value:function(e,t,i,o){var a=Sr(i,t,this);if(a&&a.sliderRect&&a.sliderRect2){var r=jr(a.sliderRect,2),n=jr(a.sliderRect2,2),l=a.showToolTip,h=a.toolTipFormat,s=a.value,u=Yr(i,t,this,o,e);ht.Default.containsPoint(r,u)&&l?Rr.show(h?h(s[0]):s[0],e):ht.Default.containsPoint(n,u)&&l?Rr.show(h?h(s[1]):s[1],e):this.dragging||Rr.hide()}}},{key:"onEnter",value:function(e,t,i){Sr(i,t,this).disabled?Br(i,"not-allowed"):Br(i,"pointer")}},{key:"onLeave",value:function(e,t,i){var o=Sr(i,t,this);Br(i,"default"),o.dragging||Rr.hide()}},{key:"onBeginDrag",value:function(e,t,i,o){var a=Sr(i,t,this);if(!a.disabled){jr(a.barRect,2);var r=jr(a.sliderRect,2),n=jr(a.sliderRect2,2),l=jr(a.valueBarRect,2),h=a.value,s=a.valueBarDraggable,u=Yr(i,t,this,o,e);ht.Default.containsPoint(r,u)?a.dragging=h[1]:ht.Default.containsPoint(n,u)?a.dragging=h[0]:s&&ht.Default.containsPoint(l,u)&&(a.draggingValueBar=oo(t,a,u,a.barRect,i,!0))}}},{key:"onDrag",value:function(e,t,i,o){var a=Sr(i,t,this),r=a.showToolTip,n=a.toolTipFormat,l=a.barRect,h=Yr(i,t,this,o,e);if(void 0!==a.dragging){var s=oo(t,a,h,l,i);r&&Rr.show(n?n(s):s,e)}else if(void 0!==a.draggingValueBar){var u=a.draggingValueBar,d=oo(t,a,h,l,i,!0),c=d-u,g=a.value,f=a.min,v=a.max,p=[g[0]+c,g[1]+c],x=Or(this,"value",t);if(p[0]<f?p=[f,f+(g[1]-g[0])]:p[1]>v&&(p=[v-(g[1]-g[0]),v]),a.draggingValueBar=d,t.a(x,p),r){var b=p.join(",");n&&(b=p.map(function(e){return n(e)}).join(", ")),Rr.show(b,e)}}}},{key:"onEndDrag",value:function(e,t,i){var o=Sr(i,t,this);delete o.dragging,delete o.draggingValueBar,Rr.hide()}}]),ro);function ro(){return l(this,ro),d(this,(ro.__proto__||Object.getPrototypeOf(ro)).call(this))}function no(e,t){if(t&&0<t.length)for(var i=0;i<t.length;i++){var o=Ie(t[i].rect,4),a=o[0],r=o[1],n=o[2],l=o[3];if(ht.Default.containsPoint({x:a,y:r,width:n,height:l},e))return t[i].value}}var lo=(t(ho,ei),e(ho,[{key:"onDown",value:function(e,t,i,o){var a=Sr(i,t,this),r=Or(this,"value",t);if(!a.disabled&&r){var n=void 0;if((n=a.dropDown)&&n.isOpened())n.close();else{var l=a.value,h=l?l.slice(0):null,s=a.valueItemInfo,u=no(o,s);if(u&&l&&0<=l.indexOf(u)){var d=l.indexOf(u);l.splice(d,1);var c=l.slice(0);t.a(r,c),a.onChange&&a.onChange(h,c,t,i),Br(i,"default"),this._hitValue=l}}}}},{key:"onUp",value:function(e,t,i,o,a,r){var n=Sr(i,t,this);if(!n.disabled)if(this._hitValue)delete this._hitValue;else{var l=Or(this,"value",t);0<o.x&&o.x<a&&0<o.y&&o.y<r&&Ui(t,i,n,l,!0)}}},{key:"onMove",value:function(e,t,i,o){var a=Sr(i,t,this);if(a.disabled)Br(i,"not-allowed");else{var r=a.valueItemInfo;no(o,r)?(this._oldCursor=i.getView().style.cursor,Br(i,"pointer")):Br(i,"default")}}},{key:"onEnter",value:function(e,t,i){var o=Sr(i,t,this);o.disabled?Br(i,"not-allowed"):Br(i,"pointer"),o.disabled}},{key:"onLeave",value:function(e,t,i){Br(i,"default")}}]),ho);function ho(){return l(this,ho),d(this,(ho.__proto__||Object.getPrototypeOf(ho)).call(this))}function so(e,t,i,o){if(e){var a=e.x,r=e.y,n=e.width,l=e.height,h=e.boundWidth,s=e.boundHeight,u=e.absoluteScrollBarWidth;if(l<s){var d=l/s;if(uo({x:a+n-u,y:r-i*d,width:u,height:l*d},o))return 1}if(n<h-2){var c=n/h;if(uo({x:a-t*c,y:r+l-u,width:n*c,height:u},o))return 1}}else;}var uo=ht.Default.containsPoint,co=(t(go,ei),e(go,[{key:"onDown",value:function(e,t,i,o,a,r){var n=Yr(i,t,this,o,e),l=Sr(i,t,this),h=l.treeTableDataModel,s=l.scrollBarInfo,u=l.translateX,d=l.translateY,c=l.isScrollBarDragging,g=l.rectInfo;if(h)if(c)l.isScrollBarDragging=!1;else if(!so(s,u,d,n)&&g){var f=g.togglesRect,v=g.checksRect,p=g.visibleRowsRect,x=g.badgesRect;if(h.onClickBadge(arguments,n,x))return;if(h.onClickCheck(arguments,n,v))return;if(h.onClickToggle(arguments,n,f))return;if(h.onClickVisibleRow(arguments,n,p,l))return;h.onClickBack(arguments)}}},{key:"onMove",value:function(e,t,i,o,a,r){var n=Yr(i,t,this,o,e),l=Sr(i,t,this),h=l.treeTableDataModel,s=l.scrollBarInfo,u=l.translateX,d=l.translateY,c=l.isScrollBarDragging,g=l.rectInfo,f=l.preHoverNode;if(h&&!c)if(so(s,u,d,n))f&&(f.a("disabled")&&Br(i,"default"),f.a("_isHovering",!1),t.iv());else if(g){var v=g.visibleRowsRect;h.onHoverRow(arguments,n,v,f,l)}}},{key:"onLeave",value:function(e,t,i){var o=Sr(i,t,this),a=o.preHoverNode;a&&(Br(i,"default"),a.a("_isHovering",!1),delete o.preHoverNode,t.iv())}},{key:"onBeginDrag",value:function(e,t,i,o,a,r){var n=Yr(i,t,this,o,e),l=Sr(i,t,this),h=l.scrollBarInfo,s=l.translateX,u=l.translateY;so(h,s,u,n)&&(l.isScrollBarDragging=!0),b.apply(this,arguments)}},{key:"onDrag",value:function(e,t,i,o,a,r){m.apply(this,arguments)}},{key:"onEndDrag",value:function(e,t,i,o,a,r){var n=Sr(i,t,this);n&&(n.isScrollBarDragging=!1),_.apply(this,arguments)}},{key:"onScroll",value:function(e,t,i,o,a,r){x.apply(this,arguments)}}]),go);function go(){return l(this,go),d(this,(go.__proto__||Object.getPrototypeOf(go)).call(this))}function fo(e,t,i,o){if(e){var a=e.x,r=e.y,n=e.width,l=e.height,h=e.boundWidth,s=e.boundHeight,u=e.absoluteScrollBarWidth;if(l<s){var d=l/s;if(vo({x:a+n-u,y:r-i*d,width:u,height:l*d},o))return 1}if(n<h-2){var c=n/h;if(vo({x:a-t*c,y:r+l-u,width:n*c,height:u},o))return 1}}else;}var vo=ht.Default.containsPoint,po=(t(xo,ei),e(xo,[{key:"onDown",value:function(e,t,i,o,a,r){var n=Yr(i,t,this,o,e),l=Sr(i,t,this),h=l.treeTableDataModel,s=l.scrollBarInfo,u=l.translateX,d=l.translateY,c=l.isScrollBarDragging,g=l.rectInfo;if(h)if(c)l.isScrollBarDragging=!1;else if(!fo(s,u,d,n)&&g){var f=g.togglesRect,v=g.checksRect,p=g.visibleRowsRect;if(h.onClickHeadCell(arguments,n))return;if(h.onClickCheck(arguments,n,v))return;if(h.onClickToggle(arguments,n,f))return;if(h.onClickVisibleRow(arguments,n,p,l))return;h.onClickBack(arguments)}}},{key:"onMove",value:function(e,t,i,o,a,r){var n=Yr(i,t,this,o,e),l=Sr(i,t,this),h=l.treeTableDataModel,s=l.scrollBarInfo,u=l.translateX,d=l.translateY,c=l.isScrollBarDragging,g=l.rectInfo,f=l.preHoverNode;if(h&&!c)if(fo(s,u,d,n))f&&(f.a("disabled")&&Br(i,"default"),f.a("_isHovering",!1),t.iv());else{if(g){var v=g.visibleRowsRect;h.onHoverRow(arguments,n,v,f,l)}var p=!1;if(h.a("headLineDraggable")){for(var x=h.a("columnLinesRect"),b=0,y=x.length;b<y;b++)if(vo(x[b],n)){Br(i,"ew-resize"),p=!0;break}b===y&&Br(i,"default")}h.a("headDraggable")&&!p&&vo(h.a("headRect"),n)&&Br(i,"pointer")}}},{key:"onLeave",value:function(e,t,i){var o=Sr(i,t,this),a=o.preHoverNode;a&&(a.a("_isHovering",!1),delete o.preHoverNode,t.iv()),Br(i,"default")}},{key:"onBeginDrag",value:function(e,t,i,o,a,r){var n=Yr(i,t,this,o,e),l=Sr(i,t,this),h=l.treeTableDataModel,s=l.scrollBarInfo,u=l.translateX,d=l.translateY;if(fo(s,u,d,n)&&(l.isScrollBarDragging=!0),b.apply(this,arguments),h){if(h.a("headLineDraggable"))for(var c=h.a("columnLinesRect"),g=0,f=c.length;g<f;g++)if(vo(c[g],n))return l.dragColumnLineIndex=g,void(l.columnLineBegingDragX=n.x);if(h.a("headDraggable"))for(var v=h.a("columnsRect"),p=0,x=v.length;p<x;p++)if(vo(v[p],n))return l.dragStartColumnIndex=p,void(l.dragStartColumnBeginDragX=n.x)}}},{key:"onDrag",value:function(e,s,t,i,o,a){var u=Yr(t,s,this,i,e),d=Sr(t,s,this),c=d.treeTableDataModel,r=d.dragColumnLineIndex,n=d.columnLineBegingDragX,g=d.dragStartColumnBeginDragX,l=d.dragStartColumnIndex;if(m.apply(this,arguments),c){if(c.a("headLineDraggable")){if(d._dragColumnLineTimer)return;d._dragColumnLineTimer=setTimeout(function(){void 0!==r&&(d.dragColumnLineDistance=u.x-n,s.iv()),delete d._dragColumnLineTimer},10)}if(void 0===r&&c.a("headDraggable")&&void 0!==l){if(d._dragColumnTimer)return;d._dragColumnTimer=setTimeout(function(){for(var e=c.a("columnsRect"),t=0,i=e.length;t<i;t++){var o=e[t];if(vo(o,u)){var a=o.x,r=o.y,n=o.width,l=o.height,h=c.a("columnLineWidth");u.x<a+n/2?(d.dragColumnLineRect={x:a-h,y:r,width:h,height:l},d.dragColumnDirection="left"):(d.dragColumnLineRect={x:a+n,y:r,width:h,height:l},d.dragColumnDirection="right"),d.dragEndColumnIndex=t,d.dragColumnDistance=u.x-g,s.iv();break}}delete d._dragColumnTimer},10)}}}},{key:"onEndDrag",value:function(e,t,i,o,a,r){var n=Sr(i,t,this),l=n.treeTableDataModel,h=n.dragColumnLineIndex,s=n.dragColumnLineDistance,u=(n.columnLineBegingDragX,n.dragStartColumnIndex),d=n.dragEndColumnIndex,c=n.dragColumnDirection;if(n&&(n.isScrollBarDragging=!1),_.apply(this,arguments),l){if(l.a("headLineDraggable")){var g=l.a("dragColumnsLineDiff")||{},f=l.a("colWidths"),v=l.a("defColWidths"),p=l.a("visibleColumns");void 0!==h&&void 0!==s&&(g[p[h].key]=f[h]-v[h],l.a("dragColumnsLineDiff",g))}if(void 0!==h)return n._dragColumnLineTimer&&(clearTimeout(n._dragColumnLineTimer),delete n._dragColumnLineTimer),delete n.dragColumnLineIndex,delete n.dragColumnLineDistance,void delete n.columnLineBegingDragX;if(l.a("headDraggable")){if(void 0!==u&&void 0!==d){var x=!0;d-u==1&&"left"===c&&(x=!1),d-u==-1&&"right"===c&&(x=!1),u===d&&(x=!1),x&&l.a("dragColumnsInfo",{dragStartColumnIndex:u,dragEndColumnIndex:d}),t.iv()}n._dragColumnTimer&&(clearTimeout(n._dragColumnTimer),delete n._dragColumnTimer),delete n.dragStartColumnIndex,delete n.dragEndColumnIndex,delete n.dragColumnLineRect,delete n.dragColumnDirection,delete n.dragStartColumnBeginDragX,delete n.dragColumnDistance}}}},{key:"onScroll",value:function(e,t,i,o,a,r){x.apply(this,arguments)}}]),xo);function xo(){return l(this,xo),d(this,(xo.__proto__||Object.getPrototypeOf(xo)).call(this))}var bo=10,yo=10;ht.Default.setCompType("htVectorChartTip",{width:50,height:50,func:function(d,e,t){var r=t.getValue("labelFont"),c=t.getValue("labelColor"),g=t.getValue("itemFont"),f=(t.getValue("itemColor"),t.getValue("itemIconSize")),i=t.getValue("info");if(i){ht.Default.isArray(i)||(i=[i]);var v=e.x,o=e.y,p=(e.width,e.height,0),x=0,b=o;i.forEach(function(e,t){var i=e.label,o=e.datas,u=e.colors;if(0<t&&(b+=8,p+=8),i){var a=sr(r,i);p+=a.height,x=a.width,ht.Default.drawText(d,i,r,c,v,b,a.width,a.height,"left"),b+=a.height+2}o.forEach(function(e,t){var i=Ie(e,3),o=i[0],a=i[1],r=i[2],n=null!=o?o+"："+a:a,l=sr(g,n);p+=l.height+2,x=Math.max(x,l.width+f+3);var h=v;if(!ht.Default.isEmptyObject(u)){var s=f/2;d.fillStyle=r||u[t],d.beginPath(),d.moveTo(s,b+s),d.arc(s,b+s,s,0,2*Math.PI),d.fill(),h+=3+f}ht.Default.drawText(d,n,g,c,h,b,l.width,l.height,"left"),b+=l.height+2})}),yo=p,bo=x}},properties:{labelFont:{valueType:"Font",defaultValue:"14px arial, sans-serif"},labelColor:{valueType:"Color",defaultValue:"rgb(247, 247, 247)"},itemFont:{valueType:"Font",defaultValue:"14px arial, sans-serif"},itemColor:{valueType:"Color",defaultValue:"rgb(247, 247, 247)"},itemIconSize:{valueType:"PositiveNumber",defaultValue:12},info:{valueType:"Object",defaultValue:{}}}}),ht.Default.setImage("htVectorChartTip",{width:50,height:50,fitSize:!0,pixelPerfect:!1,interactive:!0,boundExtend:2,comps:[{type:"htVectorChartTip",displayName:"htVectorChartTip",rect:[0,0,50,50],info:{func:"attr@info",value:{}},itemColor:{func:"attr@itemColor",value:"rgb(247, 247, 247)"}}]});var mo,wo=(mo=ht.graph.GraphView,t(Co,mo),e(Co,[{key:"setInfo",value:function(e){this._tipNode.a("info",e),this.getWidth()===bo&&this.getHeight()===yo||(this._tipNode.setWidth(bo),this._tipNode.setHeight(yo),this.setWidth(bo),this.setHeight(yo),this.fitContent(!1,0))}},{key:"setAttr",value:function(e){this._tipNode.a(e)}}]),Co);function Co(){l(this,Co);var e=d(this,(Co.__proto__||Object.getPrototypeOf(Co)).call(this));e.getView().style.position="relative";var t=e._tipNode=new ht.Node;return t.setImage("htVectorChartTip"),e.dm().add(t),e.setWidth(bo),e.setHeight(yo),e}var ko=new wo,Vo=(t(Do,ei),e(Do,[{key:"onDown",value:function(){}},{key:"onMove",value:function(e,t,i,o){var a=Sr(i,t,this),r=a.ui,n=a.option;if(n&&r&&(a._moveTimer&&clearTimeout(a._moveTimer),n&&n.tooltip.show&&!a._dragging)){var l=r.interactiveInfo,h=r.bounds.bodyRect,s=l.axisInfos,u=Yr(i,t,this,o,e),d=n.tooltip.formatter;if(Qr(h,u)&&s.length){for(var c=r.valueAxis===S?u.y:u.x,g=void 0,f=1/0,v=s[0],p=0;p<v.length;p++){var x=Math.abs(v[p].position-c);x<f&&(f=x,g=p)}if(v[g]){var b=[],y=r.seriesColors.slice(0);s.forEach(function(e){var t=e[g];b.push({label:t.label,datas:t.series,colors:y.splice(0,t.series.length)})}),b=Gr(b),d&&d(b,t,i),ko.setInfo(b),Rr.show(ko.getView(),e)}a.hoverIndex!==g&&(a.hoverIndex=g,t.iv())}else delete a.hoverIndex,t.iv(),Rr.hide()}}},{key:"onLeave",value:function(e,t,i){var o=Sr(i,t,this);void 0!==o.hoverIndex&&(delete o.hoverIndex,t.iv(),Rr.hide())}},{key:"onBeginDrag",value:function(e,t,i,o){var a=Lr(i,t,this,e),r=Sr(i,t,this),n=r.option,l=r.ui;if(r&&n&&n.onRectSelected){void 0!==r.hoverIndex&&(delete r.hoverIndex,t.iv(),Rr.hide());var h=l.bounds.bodyRect,s={x:o.x+a.rect.x,y:o.y+a.rect.y};Qr(h,s)&&(r._dragging=!0,r.rectPoint1=s)}}},{key:"onDrag",value:function(e,t,i,o){var a=Lr(i,t,this,e),r=Sr(i,t,this);if(r&&r._dragging){var n=r.ui.bounds.bodyRect,l={x:o.x+a.rect.x,y:o.y+a.rect.y};r.rectPoint2=rn(n,l),t.iv()}}},{key:"onEndDrag",value:function(e,t,i){var o=Sr(i,t,this);if(o&&o._dragging){var c=o.ui,a=o.option,r=c.rectPoint1,n=c.rectPoint2,s=c.valueAxis,l=a.xAxis,h=a.yAxis,g=$r(r,n);delete o._dragging,delete o.rectPoint1,delete o.rectPoint2,t.iv();var f={x:[],y:[]};l.forEach(function(e){var t=e.type,i=[];if(f.x.push(i),v===t){var o=c.interactiveInfo;o.axisInfos&&o.axisInfos.length&&o.axisInfos[0].forEach(function(e,t){e.position>g.x&e.position<g.x+g.width&&i.push(t)})}else if(E===t){var a=e._axisObj.timeRange;if(a){var r=Ie(a,2),n=r[0],l=r[1],h=l-n,s=c.bounds.bodyRect,u=Math.floor((g.x-s.x)/s.width*h+n),d=Math.floor((g.x-s.x+g.width)/s.width*h+n);u=Math.max(u,n),d=Math.min(d,l),i.push(u),i.push(d)}}}),h.forEach(function(e){var t=[];if(f.y.push(t),te===s){var i=Ie(e._axisObj.zoomValueRange,2),o=i[0],a=i[1],r=a-o,n=c.bounds.bodyRect,l=(n.height-g.height-g.y+n.y)/n.height*r+o,h=(n.height-g.y+n.y)/n.height*r+o;l=Math.max(l,o),h=Math.min(h,a),t.push(l),t.push(h)}}),a.onRectSelected(f,t,i)}}}]),Do);function Do(){return l(this,Do),d(this,(Do.__proto__||Object.getPrototypeOf(Do)).call(this))}var Io=(t(To,gi),e(To,[{key:"onUp",value:function(e,t,i,o,a,r){var n=Sr(i,t,this);if(!n.disabled){var l,h,s,u,d,c=Or(this,"value",t);0<o.x&&o.x<a&&0<o.y&&o.y<r&&(l=t,h=i,u="a@"+c,(d=(s=n).dropDown)||(l.getFormat=function(){return l.a(g.FORMAT)},d=new Ri(l,h,s,u),s.dropDown=d),d.open())}}}]),To);function To(){return l(this,To),d(this,(To.__proto__||Object.getPrototypeOf(To)).call(this))}function _o(e,t){for(var i=0;i<e.length;i++){var o=e[i],a=o.rect,r=o.index;if(ht.Default.containsPoint(a,t))return r}}var Lo=(t(So,ei),e(So,[{key:"onEnter",value:function(e,t,i){var o="pointer";Sr(i,t,this).disabled&&(o="not-allowed"),Br(i,o)}},{key:"onLeave",value:function(e,t,i){var o=Sr(i,t,this);Br(i,"default"),o.hoverIndex=null,t.iv()}},{key:"onMove",value:function(e,t,i,o){var a=Sr(i,t,this),r=a.buttonRects,n=(a.values,a.disabled),l=Yr(i,t,this,o,e),h=null;n||(r&&(h=_o(r,l)),h!==a.hoverIndex&&(a.hoverIndex=h,t.iv()))}},{key:"onDown",value:function(e,t,i,o){var a=Sr(i,t,this),r=a.buttonRects,n=a.values,l=a.disabled,h=a.onChange,s=Yr(i,t,this,o,e),u=Or(this,"value",t),d=null;if(!l&&u){r&&(d=_o(r,s));var c=Ar(d)?null:n[d],g=t.a(u);c!==g&&(t.a(u,c),h&&h(g,c,t,i))}}}]),So);function So(){return l(this,So),d(this,(So.__proto__||Object.getPrototypeOf(So)).apply(this,arguments))}var Ro=Math.PI,Po=Math.pow,Ao=Math.sin,Mo={swing:function(e){return-Math.cos(e*Ro)/2+.5},easeNone:function(e){return e},easeIn:function(e){return e*e},easeOut:function(e){return(2-e)*e},easeBoth:function(e){return(e*=2)<1?.5*e*e:.5*(1- --e*(e-2))},easeInStrong:function(e){return e*e*e*e},easeOutStrong:function(e){return 1- --e*e*e*e},easeBothStrong:function(e){return(e*=2)<1?.5*e*e*e*e:.5*(2-(e-=2)*e*e*e)},elasticIn:function(e){return 0===e||1===e?e:-(Po(2,10*--e)*Ao(2*Ro*(e-.075)/.3))},elasticOut:function(e){return 0===e||1===e?e:Po(2,-10*e)*Ao(2*Ro*(e-.075)/.3)+1},elasticBoth:function(e){return 0===e||1===e?e:e<1?Po(2,10*--e)*Ao(2*Ro*(e-.1125)/.45)*-.5:Po(2,-10*--e)*Ao(2*Ro*(e-.1125)/.45)*.5+1},backIn:function(e){if(1===e)return e;return e*e*(2.70158*e-1.70158)},backOut:function(e){return--e*e*(2.70158*e+1.70158)+1},backBoth:function(e){var t=1.70158;return(e*=2)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},bounceIn:function(e){return 1-Easing.bounceOut(1-e)},bounceOut:function(e){var t=7.5625;return e<1/2.75?t*e*e:e<2/2.75?t*(e-=1.5/2.75)*e+.75:e<2.5/2.75?t*(e-=2.25/2.75)*e+.9375:t*(e-=2.625/2.75)*e+.984375},bounceBoth:function(e){return e<.5?.5*Easing.bounceIn(2*e):.5*Easing.bounceOut(2*e-1)+.5}},Bo=(t(Eo,ei),e(Eo,[{key:"onDown",value:function(e,t,i,o){var a=Sr(i,t,this),r=Yr(i,t,this,o,e),n=a.itemInfos,l=a.index,h=a.animation,s=a.onClickItem,u=a.dataSource,d=void 0;if(n&&n.length)for(var c=0;c<n.length;c++){var g=n[c];if(Qr(g.rect,r)){d=g.index;break}}if(Zr(d)&&l!==d){var f=Or(this,"index",t);if(f)if(h){a._animationObj&&a._animationObj.stop();var v=d-l;a._animationObj=ht.Default.startAnim({frames:30,interval:16,easing:Mo.easeOut,finishFunc:function(){delete a._animationObj},action:function(e){t.a(f,l+v*e)}})}else t.a(f,d)}Zr(d)&&s&&s(u[d],d,t,i)}},{key:"onEnter",value:function(){}},{key:"onMove",value:function(e,t,i,o){var a=Sr(i,t,this),r=Yr(i,t,this,o,e),n=a.itemInfos,l=!1;if(n&&n.length)for(var h=0;h<n.length;h++){var s=n[h];if(Qr(s.rect,r)){l=!0;break}}Br(i,l?"pointer":"default")}},{key:"onLeave",value:function(){}},{key:"onScroll",value:function(e,t,i){var o=Sr(i,t,this),a=o.scrollable,r=o.index,n=o.dataSource,l=0<e.scrollDelta?1:-1;if(a){var h=n.length,s=Or(this,"index",t),u=r+l;0<=u&&u<h&&t.a(s,u)}}}]),Eo);function Eo(){return l(this,Eo),d(this,(Eo.__proto__||Object.getPrototypeOf(Eo)).apply(this,arguments))}var Oo=(t(Ho,ei),e(Ho,[{key:"onDown",value:function(e,t,i,o){var a=Sr(i,t,this),r=Yr(i,t,this,o,e),n=a.itemInfos,l=a.index,h=a.animation,s=a.onClickItem,u=a.dataSource,d=void 0;if(n&&n.length)for(var c=0;c<n.length;c++){var g=n[c];if(Qr(g.rect,r)){d=g.index;break}}if(Zr(d)&&l!==d){var f=Or(this,"index",t);if(f)if(h){a._animationObj&&a._animationObj.stop();var v=d-l;a._animationObj=ht.Default.startAnim({frames:30,interval:16,easing:Mo.easeOut,finishFunc:function(){delete a._animationObj},action:function(e){t.a(f,l+v*e)}})}else t.a(f,d)}Zr(d)&&s&&s(u[d],d,t,i)}},{key:"onEnter",value:function(){}},{key:"onMove",value:function(e,t,i,o){var a=Sr(i,t,this),r=Yr(i,t,this,o,e),n=a.itemInfos,l=!1;if(n&&n.length)for(var h=0;h<n.length;h++){var s=n[h];if(Qr(s.rect,r)){l=!0;break}}Br(i,l?"pointer":"default")}},{key:"onLeave",value:function(){}},{key:"onScroll",value:function(e,t,i){var o=Sr(i,t,this),a=o.scrollable,r=o.index,n=o.dataSource,l=0<e.scrollDelta?1:-1;if(a){var h=n.length,s=Or(this,"index",t),u=r+l;0<=u&&u<h&&t.a(s,u)}}}]),Ho);function Ho(){return l(this,Ho),d(this,(Ho.__proto__||Object.getPrototypeOf(Ho)).apply(this,arguments))}function Wo(n,e){var l=e.data,h=e.view,s=n.xAxis.map(function(e){return e._axisObj.boundHeight}),u=n.yAxis.map(function(e){return e._axisObj.boundWidth}),t=2,d=e.leftAxis=[],c=e.rightAxis=[],g=e.topAxis=[],f=e.bottomAxis=[],v=0,i=0,p=0,o=0;n.xAxis.forEach(function(e,t){e.show&&(e._axisObj.position===ue?(p+=s[t],g.push(t)):(o+=s[t],f.push(t)))}),n.yAxis.forEach(function(e,t){e.show&&(e._axisObj.position===xe?(i+=u[t],c.push(t)):(v+=u[t],d.push(t)))}),n.yAxis.forEach(function(e){t=Math.max(t,2+e._axisObj.labelHeight)}),p<t&&(p=t),o<t&&(o=t);var a=e.contentRect,x=0,b=0;if(e.valueAxis===te&&n.xAxis.forEach(function(e){if(e.axisLabel.show&&e.data){var t=sr(e.axisLabel.font,e.data[0]),i=t.width/2;b<i&&(b=i),t=sr(e.axisLabel.font,e.data[e.data.length-1]),x=Math.max(t.width/2,x)}else if(e.axisLabel.show&&e.type===E){var o=e._axisObj.formatter;if("string"==typeof o){var a=o;o=function(e){return an(new Date(e),a)}}var r=sr(e.axisLabel.font,o?o(Date.now(),l,h):"e"),n=r.width/2;b<n&&(b=n),x=Math.max(r.width/2,x)}}),n.yAxis.forEach(function(r){r.markLines&&r.markLines.forEach(function(e){var t=e.value,i=e.labelStyle,o=i&&i.font||qo,a=sr(o,t).width+6;r._axisObj.position===be&&x<a?x=a:b<a&&(b=a)})}),v<b){var r=b-v;u[0]+=r,v=b}var y,m=a.x,w=a.y,C=a.width,k=a.height,V=[],D=[],I=m,T=w,_=C-v-i,L=k-p-o;i<x&&(_=_-x+i),_=Math.max(0,_),L=Math.max(0,L),T=w+p,u.forEach(function(e,t){if(n.yAxis[t]._axisObj.position===xe){for(var i=0,o=c.indexOf(t);0<o;)i+=u[c[--o]];V.push({x:m+v+_+i,y:T,width:e,height:L})}else{for(var a=0,r=d.indexOf(t);0<r;)a+=u[d[--r]];V.push({x:I+a,y:T,width:e,height:L})}}),I=m+v,T=w,s.forEach(function(e,t){if(n.xAxis[t]._axisObj.position===ue){for(var i=0,o=g.indexOf(t);0<o;)i+=s[g[--o]];D.push({x:I,y:T+i,width:_,height:e})}else{for(var a=0,r=f.indexOf(t);0<r;)a+=s[f[--r]];D.push({x:I,y:T+L+p+a,width:_,height:e})}}),y={x:m+v,y:w+p,width:Math.max(0,_),height:Math.max(0,L)},e.bounds={xAxisRects:D,yAxisRects:V,bodyRect:y}}function jo(o,a){return(o=Ko(o)?o.slice(0):[o]).forEach(function(e,t){var i=Jo(a);Mr(i,e),o[t]=i}),o}function No(e,t,i,o,a,r){var n=t.max,l=t.min,h=t.step,s=n-l,u=(i.x-o.x)/o.width*s+l,d=t.value,c=d[0],g=d[1];if(u=Math.min(n,u),u=Math.max(l,u),h){var f=u%h;u=u-f+(Math.abs(f)>h/2)*(f<0?-h:h)}var v=null;if(Zr(a))v=a<=u?[a,u]:[u,a];else{var p=Math.abs(c-u);v=Math.abs(g-u)<=p?[c,u]:[u,g]}return!r&&e&&e(v),u}function Fo(e,t,i,o,a,r){var n=t.max,l=t.min,h=t.step,s=n-l,u=(o.height-(i.y-o.y))/o.height*s+l,d=t.value,c=d[0],g=d[1];if(u=Math.min(n,u),u=Math.max(l,u),h){var f=u%h;u=u-f+(Math.abs(f)>h/2)*(f<0?-h:h)}var v=null;if(Zr(a))v=a<=u?[a,u]:[u,a];else{var p=Math.abs(c-u);v=Math.abs(g-u)<=p?[c,u]:[u,g]}return!r&&e&&e(v),u}function zo(e,t,i,o,a){var r=t-e,n=i.x,l=i.y,h=i.width,s=i.height,u=a?l:n,d=a?s:h;return(d-((a?o.y:o.x)-u))/d*r+e}function Yo(s,e,t,i,o){var a=Sr(t,e,i),r=a.ui,n=a.option,l=r.bounds.bodyRect,h=Yr(t,e,i,o,s);if(r&&n&&Qr(l,h)){var u=r.xAxisDataZoom,d=r.yAxisDataZoom,c=u?u.slider:null,g=d?d.slider:null,f=!1;return[c,g].forEach(function(e){if(e){var t=e.value,i=e.zoomIncrement,o=e.min,a=e.max,r=e.setter,n=(a-o)*i*(0<s.scrollDelta?1:-1),l=Math.max(o,t[0]-n),h=Math.min(a,t[1]+n);if(h<=l&&(l=h-1),Math.abs(h-l)<Math.abs(n))return;r([l,h]),f=!0}}),f}}function Go(e,t,i,o){return"function"==typeof t?t(e,i,o):"string"==typeof t?an(new Date(e),t):e}function Xo(e,t,i){e.x;var o=e.y,a=(e.width,e.height),r=i-t;return 0<=t?o+a:i<=0?o:o+a*(1-Math.abs(t)/r)}function Uo(e,t,i,o){var a=Ie(e,2),r=a[0],n=a[1],l=Ie(t,2),h=l[0],s=l[1],u=(i-s)/(h-s)*(n-r)+r;return o?u:Math.max(r,Math.min(n,u))}var Zo=ht.Default,Ko=Zo.isArray,Jo=Zo.clone,qo="12px arial",Qo=new wo,$o=(t(ea,ei),e(ea,[{key:"onMove",value:function(e,t,i,o){Lr(i,t,this,e);var a=Sr(i,t,this),n=a.ui,r=a.option;if(n&&r&&r.tooltip.show){var l=r.tooltip;if(a._dragging||a.dragging)return delete a.hoverTime,delete a.hoverPositionX,t.iv(),void Rr.hide();a._moveTimer&&clearTimeout(a._moveTimer);var h,s=Yr(i,t,this,o,e),u=r.xAxis[0]._axisObj.zoomTimeRange,d=n.xAxisDataZoom,c=n.yAxisDataZoom,g=d?d.slider:null,f=c?c.slider:null;if(u&&r.series){var v=n.seriesDatas,p=n.bounds.bodyRect,x=p.x,b=(p.y,u[0]),y=u[1],m={},w=[];if(h=r.series.map(function(e){return e.name}),Qr(p,s)){for(var C in v.forEach(function(e,o){if(e){var a={},r=n.seriesColors[o];e.forEach(function(e){var t=e[0];if(!(t<b||y<t)){var i=m[t];i=i||(m[t]={time:t,series:[]}),a[t]||(i.series.push([h[o],e[1],r]),a[t]=!0)}})}}),m)w.push(m[C]);if(w.sort(function(e,t){return e.time>t.time?1:-1}),w.length){var k=Math.floor((s.x-x)/p.width*(y-b)+b),V=function(e,t){var i=t.length;if(1===i)return t[0];for(var o=void 0,a=void 0,r=void 0;1!==i;){var n=Math.floor(i/2),l=t[n],h=l.time;if(e===h)return l;if(r=Math.abs(e-h),Zr(o)&&a<r){for(var s=1/0,u=void 0,d=0;d<t.length;d++){var c=t[d],g=Math.abs(e-c.time);g<s&&(u=c,s=g)}return s<a&&u?u:o}i=(t=h<e?t.slice(Math.min(i-1,n+1)):t.slice(0,n)).length,o=l,a=r}var f=t[0];return a<(r=Math.abs(f.time-e))?o:f}(k,w);if(V){var D=r.xAxis[0]._axisObj.formatter;if("string"==typeof D){var I=D;D=function(e){return an(new Date(e),I)}}var T=D(V.time,t,i),_=(n.seriesColors.slice(0),[{label:T,datas:V.series,colors:V.series.map(function(e){return e[2]})}]);_=Gr(_),l.formatter&&l.formatter(_,V.time,t,i),Qo.setInfo(_),k=V.time,a.hoverTime!==k&&(a.hoverTime=k,t.iv()),Rr.show(Qo.getView(),e)}}if(g||f){var L=a.sliderInfo={info:[],body:!0};return g&&L.info.push({axis:S,info:g}),void(f&&L.info.push({axis:te,info:f}))}}else{if(delete a.hoverTime,t.iv(),Rr.hide(),g&&(Qr(jr(g.sliderRect,3),s)||Qr(jr(g.sliderRect2,3),s)||Qr(g.valueBarRect,s)))return Br(i,"ew-resize"),void(a.sliderInfo={axis:S,info:g});if(f&&(Qr(jr(f.sliderRect,3),s)||Qr(jr(f.sliderRect2,3),s)||Qr(f.valueBarRect,s)))return Br(i,"ns-resize"),void(a.sliderInfo={axis:te,info:f});delete a.sliderInfo,Br(i,"default")}}}}},{key:"onLeave",value:function(e,t,i){var o=Sr(i,t,this);void 0!==o.hoverTime&&(delete o.hoverTime,t.iv(),Rr.hide())}},{key:"onBeginDrag",value:function(e,t,i,o){var a=Lr(i,t,this,e),r=Sr(i,t,this),n=r.option,l=r.ui,h=r.sliderInfo;if(r&&n.onRectSelected){void 0!==r.hoverIndex&&(delete r.hoverIndex,t.iv(),Rr.hide());var s=l.bounds.bodyRect,u={x:o.x+a.rect.x,y:o.y+a.rect.y};if(Qr(s,u))return r._dragging=!0,void(r.rectPoint1=u)}if(h){var d=h.info,c=d.sliderRect,g=d.sliderRect2,f=d.valueBarRect,v=d.value,p=d.barRect,x=Yr(i,t,this,o,e);r.dragging=!0,h.body?h.info.forEach(function(e){e.draggingValue=zo(e.info.value[0],e.info.value[1],e.info.barRect,x,e.axis===te)}):Qr(jr(c,3),x)?h.fixed=v[1]:Qr(jr(g,3),x)?h.fixed=v[0]:Qr(f,x)&&(S===h.axis?h.draggingValue=No(null,h.info,x,p,null,!0):h.draggingValue=Fo(null,h.info,x,p,null,!0))}}},{key:"onDrag",value:function(e,t,i,o){var a=Lr(i,t,this,e),r=Sr(i,t,this);if(r&&r._dragging){var n=r.ui.bounds.bodyRect,l={x:o.x+a.rect.x,y:o.y+a.rect.y};r.rectPoint2=rn(n,l),r._drawTimer&&clearTimeout(r._drawTimer),r._drawTimer=setTimeout(function(){t.iv(),delete r._drawTimer},2)}var h=r.sliderInfo,s=r.option;if(r.dragging&&h){var u=h.info,d=u.barRect,c=u.setter,g=Yr(i,t,this,o,e),f=h.axis===S?No:Fo,v=void 0;if(v=S===h.axis?s.xAxis[0]._axisObj.formatter:s.yAxis[0].axisLabel?s.yAxis[0].axisLabel.formatter:null,Zr(h.fixed)){var p=f(c,h.info,g,d,h.fixed);Rr.show(v?Go(p,v,t,i):p,e)}else if(Zr(h.draggingValue)){var x=h.draggingValue,b=f(null,h.info,g,d,null,!0)-x,y=h.info.value,m=h.info.min,w=h.info.max,C=[y[0]+b,y[1]+b];C[0]<m?C=[m,m+(y[1]-y[0])]:C[1]>w&&(C=[w-(y[1]-y[0]),w]),c(C);var k=C.join(",");v&&(k=C.map(function(e){return Go(e,v,t,i)}).join(",")),Rr.show(k,e)}else h.body&&h.info.forEach(function(e){var t=e.info,i=t.barRect,o=t.setter,a=t.min,r=t.max,n=e.info.value,l=e.draggingValue,h=zo(n[0],n[1],i,g,e.axis===te)-l;e.axis===te&&(h=-h);var s=e.info.value,u=[s[0]+h,s[1]+h];u[0]<a?u=[a,a+(s[1]-s[0])]:u[1]>r&&(u=[r-(s[1]-s[0]),r]),o(u)});t.iv()}}},{key:"onEndDrag",value:function(e,t,i){var o=Sr(i,t,this);if(o&&(delete o.sliderInfo,delete o.dragging,Rr.hide(),o._dragging)){var u=o.ui,a=o.option,r=u.rectPoint1,n=u.rectPoint2,s=u.valueAxis,l=a.xAxis,h=a.yAxis,d=$r(r,n);delete o._dragging,delete o.rectPoint1,delete o.rectPoint2,t.iv();var c={x:[],y:[]};l.forEach(function(e){e.type;var t=[];c.x.push(t);var i=e._axisObj.zoomTimeRange;if(i){var o=Ie(i,2),a=o[0],r=o[1],n=r-a,l=u.bounds.bodyRect,h=Math.floor((d.x-l.x)/l.width*n+a),s=Math.floor((d.x-l.x+d.width)/l.width*n+a);h=Math.max(h,a),s=Math.min(s,r),t.push(h),t.push(s)}}),h.forEach(function(e){var t=[];if(c.y.push(t),te===s){var i=Ie(e._axisObj.zoomValueRange,2),o=i[0],a=i[1],r=a-o,n=u.bounds.bodyRect,l=(n.height-d.height-d.y+n.y)/n.height*r+o,h=(n.height-d.y+n.y)/n.height*r+o;l=Math.max(l,o),h=Math.min(h,a),t.push(l),t.push(h)}}),a.onRectSelected(c,t,i)}}},{key:"onDown",value:function(e,t,i,o){var a=Sr(i,t,this),r=a.ui,n=a.option;if(r&&n&&!a.dragging){var l=r.xAxisDataZoom,h=r.yAxisDataZoom,s=Yr(i,t,this,o,e),u=l?l.slider:null,d=h?h.slider:null;u&&Qr(u.barRect,s)&&!a.sliderInfo&&(No(u.setter,u,s,u.barRect),t.iv()),d&&Qr(d.barRect,s)&&!a.sliderInfo&&(Fo(d.setter,d,s,d.barRect),t.iv())}}},{key:"onScroll",value:function(e,t,i,o){Yo(e,t,i,this,o)&&(delete Sr(i,t,this).hoverTime,t.iv())}}]),ea);function ea(){return l(this,ea),d(this,(ea.__proto__||Object.getPrototypeOf(ea)).call(this))}var ta=(t(ia,ei),e(ia,[{key:"onMove",value:function(e,t,i,o){var a=Sr(i,t,this),r=a.hoverIndex;if(a.tipShow){var n,l=void 0,h=t._div;if(!h){var s=(h=t._div=document.createElement("div")).style;s.boxSizing="border-box",s.position="absolute",s.background="rgba(0,0,0,0.3)",s.margin=0,s.padding="8px",s.borderRadius="5px",s.color="#fff",s.pointerEvents="none"}if(n=a.tipInfoList){for(var u=0;u<n.length;u++)if(Qr(n[u],o)){var d=ht.Default.getClientPoint(e),c=d.x+10,g=d.y-40;h.style.left=c+"px",h.style.top=g+"px",l=u;break}if(r!==l&&(a.hoverIndex=l,t.iv()),void 0===l)h.parentNode&&h.parentNode.removeChild(h);else if(hr(h),l!==r){var f=a.tipInfoList[l];f.name,f.text&&(f.name,f.text),t._div.innerHTML=f.text?f.name+":"+f.text:f.name}}}}},{key:"onLeave",value:function(e,t,i){var o=ht.vector.getVectorInfo(i,t,this);if(o.tipShow){void 0!==o.hoverIndex&&(o.hoverIndex=void 0,t.iv());var a=t._div;a.parentNode&&a.parentNode.removeChild(a)}}}]),ia);function ia(){return l(this,ia),d(this,(ia.__proto__||Object.getPrototypeOf(ia)).call(this))}function oa(e,t){for(var i=0;i<e.length;i++)if(Qr(e[i].rect,t))return e[i]}var aa=[ye,me,ke,Ve,we,Ce],ra=(t(na,ei),e(na,[{key:"onMove",value:function(e,t,i,o){var a=Sr(i,t,this),r=Yr(i,t,this,o,e);if(a.itemList){var n=oa(a.itemList,r);Br(i,n?n.isDisabled?"not-allowed":"pointer":"default");var l=n?n.label:void 0;a.hoverLabel!==l&&(a.hoverLabel=l,t.iv())}}},{key:"onDown",value:function(e,t,i,o){var a=Sr(i,t,this),r=Yr(i,t,this,o,e);if(a.itemList){var n=oa(a.itemList,r),l=n?n.label:void 0,h=Or(this,"current",t),s=a.onChange,u=a.totalPage,d=t.a(h),c=l;!n||n&&n.isDisabled||(0<=aa.indexOf(c)&&(c=c===ye?d-1:c===me?d+1:c===ke?1:c===we?Math.max(1,d-5):c===Ce?Math.min(u,d+5):u),d!==c&&(t.a(h,c),s&&s(d,c,t,i)))}}},{key:"onLeave",value:function(e,t,i){var o=Sr(i,t,this);Br(i,"default"),o.hoverLabel&&(delete o.hoverLabel,t.iv())}}]),na);function na(){return l(this,na),d(this,(na.__proto__||Object.getPrototypeOf(na)).call(this))}var la=(t(ha,ei),e(ha,[{key:"onBeginDrag",value:function(e,t,i,o,a,r){b.apply(this,arguments)}},{key:"onDrag",value:function(e,t,i,o,a,r){m.apply(this,arguments)}},{key:"onEndDrag",value:function(e,t,i,o,a,r){_.apply(this,arguments)}},{key:"onScroll",value:function(e,t,i,o,a,r){x.apply(this,arguments)}}]),ha);function ha(){return l(this,ha),d(this,(ha.__proto__||Object.getPrototypeOf(ha)).call(this))}var sa=ht.Default.setImage;sa("ht.vector.date",{width:16,height:16,comps:[{type:"roundRect",borderColor:"#ffffff",cornerRadius:1,rect:[1.5,6.54942,12.94,8]},{type:"shape",borderWidth:1,borderColor:"#ffffff",borderCap:"round",closePath:!0,points:[1.5,2.4523,14.44,2.4523,14.44,2.4523,14.44,2.4523,14.44,14.54942,14.44,14.54942,14.44,14.54942,1.5,14.54942,1.5,14.54942,1.5,14.54942,1.5,2.4523,1.5,2.4523,1.5,2.4523,1.5,2.4523],segments:[1,2,3,2,3,2,3,2,3,2]},{type:"shape",borderWidth:1,borderColor:"rgb(255,255,255)",borderCap:"round",points:[4.46,1,4.46,4]},{type:"shape",borderWidth:1,borderColor:"rgb(255,255,255)",borderCap:"round",points:[11.5,1,11.5,4]},{type:"shape",borderWidth:1,borderColor:"rgb(255,255,255)",borderCap:"round",points:[3.52013,9.50677,7.00013,9.50677,9.00013,9.50677,12.50756,9.50677],segments:[1,2,1,2]},{type:"shape",borderWidth:1,borderColor:"rgb(255,255,255)",borderCap:"round",points:[3.52,12.52535,12.50756,12.52535]},{type:"shape",borderWidth:1,borderColor:"rgb(255,255,255)",borderCap:"round",points:[3.52013,6.54942,7.00013,6.54942,9.00013,6.54942,12.50756,6.54942],segments:[1,2,1,2]}]}),sa("ht.vector.dropDownIcon",{width:18,height:10,comps:[{type:"shape",borderWidth:1,borderColor:"rgb(255,255,255)",points:[1,1,9,9,17,1]}]}),sa("ht.vector.treeOpenIcon",{width:10,height:10,attachStyle:"close",blendMode:"override",comps:[{type:"shape",background:"rgb(0,0,0)",borderColor:"rgb(0,0,0)",closePath:!0,points:[0,0,10,5,0,10]}]}),sa("ht.vector.treeCloseIcon",{width:10,height:10,attachStyle:"close",blendMode:"override",comps:[{type:"shape",background:"rgb(0,0,0)",borderColor:"rgb(0,0,0)",closePath:!0,points:[0,0,10,0,5,10]}]}),sa("ht.vector.treeDefIcon",{width:22,height:16,blendMode:"override",comps:[{type:"shape",background:"rgb(0,0,0)",pixelPerfect:!0,points:[19.46829,3.58619,19.46829,1.10347,7.80392,1.10347,6.77294,0,0,0,0,16,19.46157,16,22,3.58619,19.46829,3.58619,6.04692,1.12664,7.07791,2.23011,18.26449,2.23011,18.26449,3.59706,2.82065,3.59706,1.12837,10.10776,1.12837,1.12664,6.04692,1.12664,18.43055,14.74166,1.12837,14.74166,1.12837,14.63244,3.68405,4.67291,20.5368,4.67291,18.43055,14.74166],segments:[1,2,2,2,2,2,2,2,2,5,1,2,2,2,2,2,2,2,5,1,2,2,2,2,2,5]}]}),sa("ht.vector.treeLoadIcon",{width:32,height:32,blendMode:"override",comps:[{type:"shape",background:"rgb(0,0,0)",pixelPerfect:!0,points:[16.5125,32,7.69062,32,.5125,24.82187,.5125,16,.5125,7.17813,7.6875,0,16.5125,0,20.60625,0,24.5,1.54375,27.48125,4.35,27.84688,4.69375,27.8625,5.26563,27.51875,5.63125,27.175,5.99375,26.60313,6.0125,26.2375,5.66875,23.59375,3.18125,20.14063,1.8125,16.5125,1.8125,8.6875,1.8125,2.325,8.17812,2.325,16,2.325,23.82187,8.69062,30.1875,16.5125,30.1875,22.40937,30.1875,27.60312,26.6375,29.74063,21.14063,29.92188,20.675,30.44688,20.44063,30.9125,20.625,31.37813,20.80625,31.60938,21.33125,31.42813,21.79688,29.01563,27.99687,23.1625,32,16.5125,32],segments:[1,4,4,4,4,4,4,4,4,4,4,4,4,5]}]}),sa("ht.vector.treeCheckIcon",{dataBindings:[],width:160,height:160,attachStyle:"close",blendMode:"override",comps:[{type:"shape",background:"rgb(0,0,0)",pixelPerfect:!0,points:[139.3,.47663,20.5,.47663,9.52832,.47663,.5,9.50496,.5,20.47663,.5,139.57663,.5,150.54831,9.52832,159.57663,20.5,159.57663,139.5,159.57663,150.47168,159.57663,159.5,150.54831,159.5,139.57663,159.5,20.37663,159.47367,15.05689,157.32589,9.96152,153.53619,6.22809,149.74648,2.49467,144.61954,.42337,139.3,.47663,133.1,47.37663,61.3,119.57663,60.37719,120.51835,59.11835,121.05785,57.8,121.07663,56.41253,121.11208,55.0711,120.56825,54.1,119.57663,26.4,88.27663,24.93292,87.00925,24.32978,84.99815,24.85726,83.13258,25.38474,81.26701,26.95166,79.86949,28.86517,79.55795,30.77868,79.24642,32.70799,80.07473,33.8,81.67663,57.9,108.57663,126.1,40.37663,127.27177,38.81427,129.2561,38.07551,131.1643,38.49122,133.07249,38.90692,134.56971,40.40414,134.98541,42.31234,135.40112,44.22053,134.66236,46.20486,133.1,47.37663],segments:[1,2,4,2,4,2,4,2,4,4,5,1,2,4,4,2,4,4,4,2,2,4,4,4,5]}]}),sa("ht.vector.treeUnCheckIcon",{width:160,height:160,blendMode:"override",comps:[{type:"shape",background:"rgb(0,0,0)",pixelPerfect:!0,points:[130,5,30,5,16.25,5,5,16.25,5,30,5,130,5,143.75,16.25,155,30,155,130,155,143.75,155,155,143.75,155,130,155,30,155,16.25,143.75,5,130,5,142.5,130,142.5,136.875,136.875,142.5,130,142.5,30,142.5,23.125,142.5,17.5,136.875,17.5,130,17.5,30,17.5,23.125,23.125,17.5,30,17.5,130,17.5,136.875,17.5,142.5,23.125,142.5,30,142.5,130],segments:[1,2,4,2,4,2,4,2,4,5,1,4,2,4,2,4,2,4,2,5]}]}),sa("ht.vector.treeUnCheckAllIcon",{width:160,height:160,blendMode:"override",comps:[{type:"shape",background:"rgb(0,0,0)",pixelPerfect:!0,points:[158.11523,31.17188,158.11523,128.82813,158.11523,136.89453,155.24414,143.80859,149.52148,149.53125,143.79883,155.25391,136.9043,158.125,128.81836,158.125,31.18164,158.125,23.11523,158.125,16.20117,155.25391,10.47852,149.53125,4.75586,143.80859,1.88477,136.91406,1.88477,128.82813,1.88477,31.17188,1.88477,23.10547,4.75586,16.19141,10.47852,10.46875,16.20117,4.74609,23.0957,1.875,31.18164,1.875,128.83789,1.875,136.9043,1.875,143.81836,4.74609,149.54102,10.46875,155.24414,16.19141,158.11523,23.10547,158.11523,31.17188,132.06055,86.52344,132.06055,73.49609,132.06055,71.73828,131.41602,70.19531,130.12695,68.92578,128.83789,67.63672,127.29492,66.99219,125.55664,66.99219,34.42383,66.99219,32.66602,66.99219,31.12305,67.63672,29.85352,68.92578,28.56445,70.21484,27.91992,71.75781,27.91992,73.49609,27.91992,86.52344,27.91992,88.28125,28.56445,89.82422,29.85352,91.09375,31.14258,92.38281,32.64648,93.02734,34.42383,93.02734,125.55664,93.02734,127.31445,93.02734,128.85742,92.38281,130.12695,91.09375,131.41602,89.78516,132.06055,88.26172,132.06055,86.52344],segments:[1,2,4,4,2,4,4,2,4,4,2,4,4,5,1,2,4,4,2,4,4,2,4,4,2,4,4,5]}]}),sa("ht.vector.pagination.previous",{background:"rgb(61,61,61)",width:50,height:50,blendMode:"override",comps:[{type:"shape",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",points:[28,17,18,25,28,33]}]}),sa("ht.vector.pagination.next",{background:"rgb(61,61,61)",width:50,height:50,blendMode:"override",comps:[{type:"shape",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",rotation:3.14159,points:[32,17,22,25,32,33]}]}),sa("ht.vector.pagination.first",{background:"rgb(61,61,61)",width:50,height:50,blendMode:"override",comps:[{type:"shape",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",rotation:0,points:[35,17,25,25,35,33]},{type:"shape",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",rotation:0,points:[29,17,19,25,29,33]}]}),sa("ht.vector.pagination.last",{background:"rgb(61,61,61)",width:50,height:50,blendMode:"override",comps:[{type:"shape",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",rotation:3.14159,points:[29,17,19,25,29,33]},{type:"shape",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",rotation:3.14159,points:[35,17,25,25,35,33]}]}),sa("ht.vector.pagination.ellipsis",{modified:"Mon Aug 26 2019 15:46:29 GMT+0800 (中国标准时间)",background:"rgb(61,61,61)",width:50,height:50,blendMode:"override",comps:[{type:"oval",background:"rgb(255,255,255)",borderColor:"#979797",rect:[12.18756,23,4,4]},{type:"oval",background:"rgb(255,255,255)",borderColor:"#979797",rect:[23,23,4,4]},{type:"oval",background:"rgb(255,255,255)",borderColor:"#979797",rect:[33.81244,23,4,4]}]});var ua=(e(da,[{key:"show",value:function(e,t){"number"==typeof e&&(e+=""),"string"==typeof e?this._container.innerHTML=e:(this._container.innerHTML="",this._container.appendChild(e)),hr(this._container),this.update(t)}},{key:"update",value:function(e){var t=this._container.getBoundingClientRect(),i=ht.Default.getWindowInfo(),o=this._container.style,a=(e.clientX||e.pageX)+8,r=(e.clientY||e.pageY)+8;o.pointerEvents="none",a=Math.max(0,a),r=Math.max(0,r),a+t.width>i.width&&(a=i.width-t.width),r+t.height>i.height&&(r=i.height-t.height),this._container.style.left=a+"px",this._container.style.top=r+"px"}},{key:"hide",value:function(){lr(this._container)}}]),da);function da(){l(this,da),(this._container=document.createElement("div")).className="ht-vector-tooltip"}var ca=function(o,e,t,i,a){var r=a.seriesDatas[t],n=a.data,l=a.view,h=e.name,s=e.itemStyle||{},u=e.lineStyle||{},d=e.areaStyle||{},c=a.bounds,g=(c.xAxisRects,c.yAxisRects,c.bodyRect),f=g.x,v=g.y,p=g.width,x=g.height,b=Er(i.color,t),y=i.xAxis[e.xAxisIndex||0],m=i.yAxis[e.yAxisIndex||0],w=(y._axisObj.unitWidth,m._axisObj.valueRange),C=a.hoverIndex,k=w[0],V=w[1],D=y._axisObj.axisInfos,I=e.smooth,T=!!e.connectNulls,_=[],L=[],S=void 0,R=null,P=[];if(r&&r.length&&D){var A=a.interactiveInfo.axisInfos[a.valueAxis===te?e.xAxisIndex||0:e.yAxisIndex||0];if(r.forEach(function(e,t){if(D[t]){var i={x:D[t].position,y:Uo([v,v+x],w,e,!0)};if(Zr(e)){var o=R?2:1;T&&1===o&&L.length&&(o=2),_.push(i),L.push(o),R=o,A[t].series.push([h,e,u.color||b,i.x,i.y]),P.push(i)}else A[t].series.push([h,"-",u.color||b,i.x,i.y]),R=null,P.push(null)}}),S=_.slice(0),I&&2<=_.length){var M=nn(_,"number"==typeof I?I:void 0);_=M.points,L=M.segments}if(o.save(),o.beginPath(),o.rect(f,v,p,x),o.clip(),d.color){var B=_[0],E=_[_.length-1],O=Xo(g,k,V);Kr(o,_,L),o.lineTo(E.x,O),o.lineTo(B.x,O),o.closePath(),o.fillStyle=dn(o,d.color,g),o.fill()}var H=u.color||b;o.lineWidth=u.width||2,o.strokeStyle=dn(o,H),a.seriesColors.push(H),u.pattern&&o.setLineDash(u.pattern),Kr(o,_,L),o.stroke(),o.restore();var W=s.size||0,j=s.activeSize||3;W||1!==_.length||(W=1);var N=s.background,F=void 0===N?H:N,z=s.borderWidth,Y=void 0===z?1:z,G=s.borderColor,X=void 0===G?H:G,U=s.visible;if(!1!==U&&S.forEach(function(e,t){o.beginPath();var i=W;i&&("function"!=typeof U||!active&&U(e,t,r,active,n,l))&&(i&&o.arc(e.x,e.y,i,0,2*Math.PI),F&&(o.fillStyle=F,o.fill()),Y&&X&&(o.lineWidth=Y,o.strokeStyle=X,o.stroke()))}),void 0!==C&&j){var Z=s.activeBackground,K=void 0===Z?F:Z,J=s.activeBorderColor,q=void 0===J?X:J,Q=s.activeBorderWidth,$=void 0===Q?Y:Q;a._hoverHandlers||(a._hoverHandlers=[]);var ee=P[C];if(!ee||"function"==typeof U&&!U(ee,C,r,!0,n,l))return;a._hoverHandlers.push(function(){o.beginPath(),o.arc(ee.x,ee.y,j,0,2*Math.PI),K&&(o.fillStyle=K,o.fill()),$&&q&&(o.lineWidth=$,o.strokeStyle=q,o.stroke())})}}},ga=function(n,e,t,l,i){var o=i.seriesDatas[t],a=e.name,r=i.bounds.bodyRect,h=(r.x,r.y),s=(r.width,r.height),u=e.color||Er(l.color,t),d=l.xAxis[e.xAxisIndex||0],c=l.yAxis[e.yAxisIndex||0],g=d._axisObj.unitWidth,f=c._axisObj.valueRange,v=(i.hoverIndex,f[0]),p=f[1],x=d._axisObj.axisInfos,b=e.shadow,y=e.barWidth||.8,m=i.barSeries,w=m.length,C=m.indexOf(e),k=i.barCategoryGap||0,V=(g-2*(1<=k?k:g*k))/w,D=e.drawBar,I=i.view&&i.view.getZoom?i.view.getZoom():1;if(y<1&&(y*=V),o&&o.length&&x){var T=[],_=i.interactiveInfo.axisInfos[i.valueAxis===te?e.xAxisIndex||0:e.yAxisIndex||0],L=Xo(r,v,p),S=[h,h+s];o.forEach(function(e,t){var i=void 0;if(i="function"==typeof u?u(e,t,Er(l.color,t)):u,x[t]){var o={x:x[t].position,y:Uo(S,f,e)};_[t].series.push([a,Zr(e)?e:"-",i,o.x,o.y]),T.push({x:o.x-g/2+V*C+(V-y)/2+k,y:o.y<L?o.y:o.y-Math.abs(o.y-L),width:y,height:Math.abs(o.y-L)})}}),i.seriesColors.push(Er(l.color,t)),n.save(),T.forEach(function(a,e){var r=void 0;r=dn(n,"function"==typeof u?u(o[e],e,Er(l.color,e)):u,a);function t(){if(n.fillStyle=r,b){var e=b.color||ht.Default.darker(r),t=b.opacity;if(Zr(t)){var i=hn(e),o=i.splice(3,1)[0]||255;e="rgba("+i.join(",")+","+o/255*t+")"}n.shadowColor=e,n.shadowBlur=b.blur||0,n.shadowOffsetX=(b.offsetX||0)*I,n.shadowOffsetY=(b.offsetY||0)*I}n.fillRect(a.x,a.y,a.width,a.height)}D?D(n,o[e],a,{defaultDraw:t,color:r,data:i.data,view:i.view}):t()}),n.restore()}};var fa={show:!0,type:"value",splitNumber:5,axisLine:{show:!0,width:1,color:"rgb(61,61,61)"},axisLabel:{show:!0,align:"auto",font:"12px arial",color:"rgb(61,61,61)"},axisTick:{show:!0,color:"rgb(61,61,61)",length:5},splitLine:{show:!0,color:"#cccccc",width:1}},va={show:!0,type:"category",data:[],axisLine:{show:!0,width:1,color:"rgb(61,61,61)"},axisLabel:{show:!0,align:"auto",font:"12px arial",color:"rgb(61,61,61)"},axisTick:{show:!0,color:"rgb(61,61,61)",length:5},splitLine:{show:!1,color:"#cccccc",width:1}},pa=["rgb(51,153,255)","rgb(93,217,174)","#FEB64D","rgb(241,125,164)","rgb(135,144,204)","rgb(124,145,155)","rgb(48,242,120)","rgb(212,0,0)","#32D3EB","#c4ccd3"],xa=(e(ba,[{key:"initTimeAxis",value:function(){var o=this,e=this.series,a=[];if(e.forEach(function(e,t){var i=o.ui.seriesDatas[t];i&&(a=a.concat(i))}),a.length){var t=[];a.forEach(function(e){Xr(e)&&t.push(e[0])}),t.sort(function(e,t){return t<e?1:-1});var i=this.timeRange=[t[0],t[t.length-1]],r=this.axisOption.axisLabel.formatter;if(!r){var n=this.adjustTimeFormatString(this.timeRange);r=function(e){return an(new Date(e),n)}}this.formatter=r;var l=this.getDataZoomOption();if(l&&t.length){var h=i[0],s=i[1],u=this.zoomTimeRange=[Zr(l.min)?Math.max(h,l.min):h,Zr(l.max)?Math.min(s,l.max):s];u[1]-u[0]==0&&(u[0]===h?u[1]+=1:--u[0]),u.push(this.getUnitFromMaxAndMin(u[1],u[0])||1)}else this.zoomTimeRange=this.timeRange}}},{key:"getBoundWidth",value:function(){}},{key:"getBoundHeight",value:function(){}},{key:"getAxisValues",value:function(){var h=this,e=this.series,s=this.seriesIndexs,u=[];e.forEach(function(e,t){var i=h.ui.seriesDatas[s[t]];if(i)if(Xr(i))u=u.concat(i);else if(Ur(i)){for(var o=i.x,a=i.y,r=Math.min(o.length,a.length),n=[],l=0;l<r;l++)n.push([0,a[l]]);u=u.concat(n)}});var t=[];return u.forEach(function(e){Xr(e)?t.push(e[1]):Zr(e)&&t.push(parseFloat(e))}),t}},{key:"getMaxValueBound",value:function(){var e=this.axisOption,t=this.getAxisValues(),i=this.ui,o=i.data,a=i.view;this.valueRange||this.caluValueRange(t);var r=Ie(this.valueRange,2),n=r[0],l=r[1],h=n.toString().length>l.toString().length?n:l,s=e.axisLabel.formatter;return s&&(h=s(h,o,a)),on(e.axisLabel.font,h,e.axisLabel.rotate)}},{key:"caluValueRange",value:function(e){var t=this.axisOption,i=t.max,o=t.min,a=void 0,r=t.splitNumber||5,n=Math.max.apply(this,e),l=Math.min.apply(this,e);n<0&&(n=0);var h=n,s=l,u=l<0?n-l:n;if(Zr(o)&&Zr(i))a=(i-o)/r;else if(Zr(i)&&i/r%1==0){var d=Zr(o)?o:s;Ar(o)&&0<s&&(d=0),a=(i-(Zr(d)?d:s))/r}else if(1<n||n<=0){for(var c=1,g=u/c;100<=parseInt(g);)g=u/(c*=10);for(g=Math.ceil(g)*c;g%r!=0||g/r%c!=0;)g+=c;a=(n=g)/r}else a=n/r;if(a=a||1,Ar(o))if(0<=l)o=0;else{for(var f=0;l<f;)f-=a;l=f}if(Ar(i))for(i=n+(l<0?l:0);i<h;)i+=a;Ar(o)&&(o=l),o||i||(a=i=1),this.valueRange=[o,i,a];var v=this.getDataZoomOption();if(v&&e.length){var p=this.zoomValueRange=[Zr(v.min)?Math.max(o,v.min):o,Zr(v.max)?Math.min(i,v.max):i];p[1]-p[0]==0&&(p[0]===o?p[1]+=a/1e3:p[0]-=a/1e3),p.push(this.getUnitFromMaxAndMin(p[1],p[0])||1)}else this.zoomValueRange=this.valueRange}},{key:"getUnitFromMaxAndMin",value:function(e,t,i){for(var o=2<arguments.length&&void 0!==i?i:5,a=e-t,r=1,n=a/r;100<=parseInt(n);)n=a/(r*=10);for(n=Math.ceil(n)*r;n%o!=0||n/o%r!=0;)n+=r;return n/o}},{key:"caluValueRange2",value:function(e){var t,i,o=this.axisOption,a=o.max,r=o.min;o.splitNumber,i=Math.min(this,e),t=Math.max(this,e),Ar(r)&&Ar(a)?t<0?a=0:0<i?(r=0,valueMax):(valueMax,valueMin):Ar(r)&&Zr(a)||Zr(r)&&Ar(a),this.valueRange=[r,a,void 0]}},{key:"adjustTimeFormatString",value:function(e){e.sort(function(e,t){return t<e?1:-1});var t=e[0],i=e[e.length-1]-t;return i<18e5?"mm:ss":i<1728e5?"HH:mm":"YYYY-MM-DD"}},{key:"getDataZoomOption",value:function(){return this.axisOption.dataZoom}},{key:"getValuesByValueRange",value:function(e){var t=Ie(this.zoomValueRange,3),i=t[0],o=t[1],a=t[2],r=[],n=0;if(0<=i){for(r.push(i);n<o;)i<=n&&r.push(n),n+=a;r.push(o)}else if(o<=0){for(r.push(o);i<n;)n<=o&&r.unshift(n),n-=a;r.unshift(i)}else{for(;n<o;)r.push(n),n+=a;for(r.push(o),n=0;i<n;)r.unshift(n),n-=a;r.unshift(i)}var l=r.length;if(3<l){var h=e?.4:.6,s=r[0],u=r[1];(r[l-1]-r[l-2])/a<h&&r.splice(l-2,1),(u-s)/a<h&&r.splice(1,1)}return r}},{key:"drawMarkLine",value:function(){}}]),ba);function ba(e,t,i){l(this,ba),this.option=t,this.axisOption=e,this.ui=i,this.series=[],this.seriesIndexs=[],this.axisInfos=[],this.data=Fr(e.data,i.data,i.view)}var ya=(t(ma,xa),e(ma,[{key:"getTimeAxisTimes",value:function(){var o=this,e=this.series,a=[];e.forEach(function(e,t){var i=o.ui.seriesDatas[t];i&&(a=a.concat(i))});var t=[];return a.forEach(function(e){Xr(e)?t.push(e[0]):t.push(parseFloat(e))}),t.sort(function(e,t){return t<e?1:-1}),t}},{key:"getBoundHeight",value:function(){var e=this.axisOption,t=this.ui,i=(t.data,t.view);if(!e.show)return 2;var o=e.axisLabel.rotate,a=e.axisTick.show?e.axisTick.length:0,r=this.getDataZoomOption(),n=0;if(r&&!1!==r.sliderVisible&&(n+=18),this.isValueAxis)return n+2;var l=e.data,h=K;return l&&(e.type===E?(this.getTimeAxisTimes(),h=this.formatter(Date.now(),l,i)):e.type===v&&l.forEach(function(e){e.toString().length>h.length&&(h=e)})),o?(o=Math.max(-45,o),o=Math.min(45,o),n+on(e.axisLabel.font,h,o).height+4+a):n+sr(e.axisLabel.font,K).height+4+a}},{key:"draw",value:function(a){var o=this,e=this.ui,r=e.data,n=e.view,t=this.axisOption,i=t.type===E,l=this.axisIndex,h=e.bounds.xAxisRects[l],s=e.boundaryGap,u=h.x,d=h.y,c=h.width,g=h.height,f=this.data||[],v=this.formatter||t.axisLabel.formatter,p=this.timeRange,x=void 0;if(!1!==t.show&&t.axisLine.show&&(a.strokeStyle=t.axisLine.color,a.lineWidth=t.axisLine.width,a.beginPath(),this.position===ue?(a.moveTo(u,d+g),a.lineTo(u+c,d+g)):(a.moveTo(u,d),a.lineTo(u+c,d)),a.stroke()),t.type===E){if(f=[],this.series.forEach(function(e,t){var i=o.ui.seriesDatas[t];i&&i.length>f.length&&(f=i.map(function(e){return e[0]}))}),!(p&&p[0]&&p[1]))return;x=p[1]-p[0]}var b=0,y=0,m=1,w=void 0;if(1<f.length?y=b=s?(m=1,c/(f.length-1+m)):(m=1,c/(f.length-1)):b=c/2,f&&f.length&&(this.unitWidth=b,w=1===f.length?this.axisInfos=[{position:u+b,label:v?v(f[0],r,n):f[0]}]:this.axisInfos=f.map(function(e,t){return{position:(i?u+(e-p[0])/x*c:u+t*b)+s*b/2,label:v?v(e,r,n):e}}),!1!==t.show&&(t.axisLabel.show||t.axisTick.show))){var C=t.axisLabel.font,k=t.axisLabel.color,V=t.axisLabel.align,D=t.axisTick.length,I=this.position===ue?d:d+2+(t.axisTick.show?t.axisTick.length:0),T=0,_=[];if(f.forEach(function(e){v&&(e=v(e,r,n));var t=sr(C,e);_.push(t),T+=t.width}),T>h.width&&!l&&(m=Math.ceil(T/h.width)),t.axisTick.show&&D){var L=Zr(t.axisTick.interval)?t.axisTick.interval:m;0===L&&(L=1),a.strokeStyle=t.axisTick.color,a.beginPath(),f.forEach(function(e,t){if(t%L==0){var i=u+t*y;o.position===ue?(a.moveTo(i,d+g),a.lineTo(i,d+g-D)):(a.moveTo(i,d),a.lineTo(i,d+D))}}),a.stroke()}if(t.axisLabel.show){var S=Zr(t.axisLabel.interval)?t.axisLabel.interval:m;0===S&&(S=1),f.forEach(function(e,t){if(t%S==0){var i=_[t],o=w[t].position;Ar(e)&&(e=""),v&&(e=v(e,r,n)),s?ht.Default.drawText(a,e.toString(),C,k,o-b/2,I,b,i.height,"center"):ht.Default.drawText(a,e.toString(),C,k,o-i.width/2,I,i.width,i.height,V)}})}if(a.save(),t.splitLine.show){var R=Zr(t.splitLine.interval)?t.splitLine.interval:m;0===R&&(R=1);var P=e.bounds.bodyRect,A=P.x,M=P.y,B=(P.width,P.height);a.strokeStyle=t.splitLine.color,a.lineWidth=t.splitLine.width||1,t.splitLine.pattern&&a.setLineDash(t.splitLine.pattern),a.beginPath(),f.forEach(function(e,t){if(t%R==0){var i=A+t*y;a.moveTo(i,M),a.lineTo(i,M+B)}}),a.stroke()}a.restore()}}}]),ma);function ma(e,t,i){l(this,ma);var o=d(this,(ma.__proto__||Object.getPrototypeOf(ma)).call(this,e,t,i));return o.axisIndex=t.xAxis.indexOf(e),o.isValueAxis=i.valueAxis===S,o.position=e.position||(o.axisIndex?ue:de),t.series.forEach(function(e){(e.xAxisIndex||0)===o.axisIndex&&o.series.push(e)}),o.boundHeight=o.getBoundHeight(),e.type===E&&o.initTimeAxis(),o}var wa=(t(Ca,xa),e(Ca,[{key:"getLabelHeight",value:function(){return this.getMaxValueBound().height}},{key:"getBoundWidth",value:function(){var e=this.axisOption;if(e.size)return e.size;var t=this.getMaxValueBound(),i=e.axisTick.show?e.axisTick.length:0,o=0,a=this.getDataZoomOption();return a&&!1!==a.sliderVisible&&(o+=18),this.isValueAxis?o+t.width+i+4:o+50}},{key:"draw",value:function(o){var i=this,a=this.ui,r=a.data,n=a.view,e=this.axisOption,t=this.axisIndex,l=a.bounds.yAxisRects[t];if(!1!==e.show){var h=this.getDataZoomOption(),s=this.zoomValueRange,u=void 0;h&&(u={x:l.x,y:l.y,width:18,height:l.height},this.drawSlider(o,u),l={x:l.x+18,y:l.y,width:l.width-18,height:l.height});var d=l.x,c=l.y,g=l.width,f=l.height;if(e.axisLine.show&&(o.strokeStyle=e.axisLine.color,o.lineWidth=e.axisLine.width,o.beginPath(),this.position===xe?(o.moveTo(d,c),o.lineTo(d,c+f)):(o.moveTo(d+g,c),o.lineTo(d+g,c+f)),o.stroke()),e.axisLabel.show){var v=Ie(s,3),p=v[0],x=v[1],b=(v[2],x-p),y=this.getValuesByValueRange(!0),m=0;e.axisTick.show&&(m=e.axisTick.length)&&(o.strokeStyle=e.axisTick.color,o.beginPath(),y.forEach(function(e){var t=c+f*(1-(e-p)/b);i.position===xe?(o.moveTo(d,t),o.lineTo(d+m,t)):(o.moveTo(d+g,t),o.lineTo(d+g-m,t))}),o.stroke());var w=g-2-(e.axisTick.show?m:0),C=e.axisLabel.font,k=e.axisLabel.color,V="auto"===e.axisLabel.align?this.position===be?xe:be:e.axisLabel.align,D=e.axisLabel.formatter,I=sr(C,K),T=d+(this.position===xe?m:0);if(y.forEach(function(e){var t=c+f*(1-(e-p)/b)-I.height/2;"function"==typeof D&&(e=D(e,r,n)),ht.Default.drawText(o,e.toString(),C,k,T,t,w,I.height,V)}),o.save(),e.splitLine.show){var _=a.bounds.bodyRect,L=_.x,S=_.y,R=_.width,P=_.height;o.strokeStyle=e.splitLine.color,o.lineWidth=e.splitLine.width||1,e.splitLine.pattern&&o.setLineDash(e.splitLine.pattern),o.beginPath(),y.forEach(function(e,t){if(!(0===t&&a.bottomAxis.length||t===y.length-1&&a.topAxis.length)){var i=S+P*(1-(e-p)/b);o.moveTo(L,i),o.lineTo(L+R,i)}}),o.stroke()}o.restore()}}}},{key:"drawSlider",value:function(e,t){var o=this,i=t.x,a=(t.y,t.width),r=t.height,n=Ie(this.valueRange,2),l=n[0],h=n[1],s=this.ui,u=s.data,d=s.view,c=this.getDataZoomOption(),g=this.getDataZoomOption(),f=g.barBackground,v=void 0===f?"#eee":f,p=g.barValueBackground,x=void 0===p?"rgb(51,153,255)":p,b=g.barWidth,y=void 0===b?Math.min(12,a):b,m=g.barBorderRadius,w=void 0===m?0:m,C=g.min,k=void 0===C?l:C,V=g.max,D=void 0===V?h:V,I=g.sliderOffsetX,T=void 0===I?0:I,_=g.sliderOffsetY,L=void 0===_?0:_,S=g.sliderWidth,R=void 0===S?14:S,P=g.sliderHeight,A=void 0===P?5:P,M=g.sliderBackground,B=void 0===M?"#32D3EB":M,E=g.sliderBorderColor,O=void 0===E?"#32D3EB":E,H=g.sliderBorderWidth,W=void 0===H?1:H,j=g.sliderBorderRadius,N=void 0===j?0:j,F=g.sliderImage,z=g.sliderVisible,Y=g.zoomIncrement,G=void 0===Y?.05:Y,X=g.onChange,U=h-l;k=Math.max(l,k),D=Math.min(h,D),h<k&&(k=h),D<l&&(D=l);var Z=Gr(t);Z.x=i+(a-y)/2,Z.width=y;var K=Gr(Z);K.height*=(D-k)/U,K.y+=(h-D)/U*r;var J=Z.x+(y-R)/2+T,q=K.y+K.height-A/2+L,Q=K.y-A/2+L;!1!==z&&(zr(e,Z,v,w),zr(e,K,x,w),F?(drawImage(e,ht.Default.getImage(F),J,q,R,A),drawImage(e,ht.Default.getImage(F),J,Q,R,A)):(N<1&&(N*=Math.min(R,A)),e.beginPath(),qr(e,J,q,R,A,N),e.closePath(),e.fillStyle=B,e.fill(),W&&(e.lineWidth=W,e.strokeStyle=O,e.stroke()),e.beginPath(),qr(e,J,Q,R,A,N),e.closePath(),e.fillStyle=B,e.fill(),W&&(e.lineWidth=W,e.strokeStyle=O,e.stroke()))),this.ui.yAxisDataZoom={slider:{dataZoom:c,rect:t,barRect:Z,zoomIncrement:G,min:l,max:h,value:[k,D],setter:function(e){var t=o.ui.originalOption.yAxis[0].dataZoom,i=[t.min,t.max];e[0]===l?delete t.min:t.min=e[0],e[1]===h?delete t.max:t.max=e[1],X&&X(i,e,u,d)},valueBarRect:K,sliderRect:{x:J,y:q,width:R,height:A},sliderRect2:{x:J,y:Q,width:R,height:A}}}}},{key:"drawMarkLine",value:function(T){var e=this.axisOption.markLines;if(e){var t=this.ui.bounds.bodyRect,_=t.x,L=t.y,S=t.width,R=t.height,i=this.valueRange,P=i[0],A=i[1]-P,M=this.position;e.forEach(function(e){var t=e.color,i=void 0===t?"rgba(242,83,75,0.7)":t,o=e.lineStyle,a=void 0===o?{}:o,r=e.itemStyle,n=void 0===r?{}:r,l=e.labelStyle,h=void 0===l?{}:l,s=e.arrowStyle,u=void 0===s?{}:s,d=e.value,c=n.radius,g=void 0===c?2:c,f=n.background,v=void 0===f?i:f,p=a.pattern,x=void 0===p?[4,4]:p,b=h.font,y=void 0===b?qo:b,m=a.color||i,w=a.width||1,C=h.color||i,k=u.background||i,V=L+R*(1-Math.abs(d-P)/A);if(T.save(),x&&T.setLineDash(x),T.lineWidth=w,T.strokeStyle=m,T.beginPath(),T.moveTo(_,V),T.lineTo(_+S,V),T.stroke(),T.beginPath(),T.arc(M===be?_:_+S,V,g,0,2*Math.PI),T.fillStyle=v,T.fill(),T.beginPath(),M===be){T.moveTo(_+S+3,V),T.lineTo(_+S-4,V-3),T.quadraticCurveTo(_+S-1,V,_+S-4,V+3),T.closePath(),T.fillStyle=k,T.fill();var D=sr(y,d);Jr(T,d,y,C,_+S+6,V-D.height/2,D.width,D.height,ge,fe)}else{T.moveTo(_-3,V),T.lineTo(_+4,V-3),T.quadraticCurveTo(_+1,V,_+4,V+3),T.closePath(),T.fillStyle=k,T.fill();var I=sr(y,d);Jr(T,d,y,C,_-I.width-6,V-I.height/2,I.width,I.height,ge,fe)}T.restore()})}}}]),Ca);function Ca(e,t,i){l(this,Ca);var o=d(this,(Ca.__proto__||Object.getPrototypeOf(Ca)).call(this,e,t,i));return o.axisIndex=t.yAxis.indexOf(e),o.isValueAxis=i.valueAxis===te,o.position=e.position||(o.axisIndex?xe:be),t.series.forEach(function(e,t){(e.yAxisIndex||0)===o.axisIndex&&(o.series.push(e),o.seriesIndexs.push(t))}),o.labelHeight=o.getLabelHeight(),o.boundWidth=o.getBoundWidth(),e.type===E&&o.initTimeAxis(),o}var ka=ht.Default,Va=ka.clone,Da=ka.unionPoint;var Ia={show:!0,type:"time",axisLine:{show:!0,width:1,color:"rgb(61,61,61)"},axisLabel:{show:!0,align:"auto",font:"12px arial",color:"rgb(61,61,61)"},axisTick:{show:!0,color:"rgb(61,61,61)",length:5},splitLine:{show:!1,color:"#cccccc",width:1}},Ta=(t(_a,ya),e(_a,[{key:"draw",value:function(e){var t=this.ui,i=t.data,o=t.view,a=this.axisOption,r=this.axisIndex,n=t.bounds.xAxisRects[r],l=n.x,h=n.y,s=n.width,u=n.height,d=this.getTimeAxisTimes(),c=this.formatter||a.axisLabel.formatter,g=this.zoomTimeRange,f=this.getDataZoomOption(),v=void 0,p=void 0;if(a.show&&(f&&g&&(p={x:n.x,y:n.y+n.height-18,width:n.width,height:18},this.drawSlider(e,p),n={x:n.x,y:n.y,width:n.width,height:n.height-18}),a.axisLine.show&&(e.strokeStyle=a.axisLine.color,e.lineWidth=a.axisLine.width,e.beginPath(),this.position===ue?(e.moveTo(l,h+u),e.lineTo(l+s,h+u)):(e.moveTo(l,h),e.lineTo(l+s,h)),e.stroke()),d&&d.length)){var x=sr(a.axisLabel.font,Go(Date.now(),c,i,o));if(g&&g[0]&&g[1]){v=g[1]-g[0];var b=0,y=0,m=a.axisLabel.interval;if(v?(b=s/(m=m||Math.max(Math.floor(s/(x.width+10)),1)),y=v/m):b=s/2,b&&(this.unitWidth=b,a.axisLabel.show||a.axisTick.show)){var w=a.axisLabel.font,C=a.axisLabel.color,k=a.axisLabel.align,V=a.axisTick.length,D=this.position===ue?h:h+2+(a.axisTick.show?a.axisTick.length:0);if(a.axisTick.show&&V){e.strokeStyle=a.axisTick.color,e.beginPath();var I=l;if(v)for(;I<=l+s+2;)e.moveTo(I,h),e.lineTo(I,h+V),I+=b;else e.moveTo(I+s/2,h),e.lineTo(I+s/2,h+V);e.stroke()}if(a.axisLabel.show){var T=l,_=g[0];if(v)for(;T<=l+s+2;)ht.Default.drawText(e,Go(_,c,i,o),w,C,T-x.width/2,D,x.width,x.height,k),T+=b,_+=y;else ht.Default.drawText(e,Go(_,c,i,o),w,C,T+s/2-x.width/2,D,x.width,x.height,k)}if(e.save(),a.splitLine.show){var L=Zr(a.splitLine.interval)?a.splitLine.interval:1;0===L&&(L=1);var S=t.bounds.bodyRect,R=S.x,P=S.y,A=S.width,M=S.height;e.strokeStyle=a.splitLine.color,e.lineWidth=a.splitLine.width||1,a.splitLine.pattern&&e.setLineDash(a.splitLine.pattern),e.beginPath();var B=R;if(g[0],v)for(;B<=R+A+2;)0%L==0&&(e.moveTo(B,P),e.lineTo(B,P+M)),B+=b;else{var E=B+A/2;e.moveTo(E,P),e.lineTo(E,P+M)}e.stroke()}e.restore()}}}}},{key:"drawSlider",value:function(e,t){var o=this,i=(t.x,t.y),a=t.width,r=t.height,n=Ie(this.timeRange,2),l=n[0],h=n[1],s=this.ui,u=s.data,d=s.view,c=this.getDataZoomOption(),g=c.barBackground,f=void 0===g?"#eee":g,v=c.barValueBackground,p=void 0===v?"rgb(51,153,255)":v,x=c.barWidth,b=void 0===x?Math.min(12,a):x,y=c.barBorderRadius,m=void 0===y?0:y,w=c.min,C=void 0===w?l:w,k=c.max,V=void 0===k?h:k,D=c.sliderOffsetX,I=void 0===D?0:D,T=c.sliderOffsetY,_=void 0===T?0:T,L=c.sliderWidth,S=void 0===L?5:L,R=c.sliderHeight,P=void 0===R?14:R,A=c.sliderBackground,M=void 0===A?"#32D3EB":A,B=c.sliderBorderColor,E=void 0===B?"#32D3EB":B,O=c.sliderBorderWidth,H=void 0===O?1:O,W=c.sliderBorderRadius,j=void 0===W?0:W,N=c.sliderImage,F=c.sliderVisible,z=c.zoomIncrement,Y=void 0===z?.05:z,G=c.onChange,X=h-l;C=Math.max(l,C),V=Math.min(h,V),h<C&&(C=h),V<l&&(V=l);var U=Gr(t);U.y=i+(r-b)/2,U.height=b;var Z=Gr(U);Z.width*=(V-C)/X,Z.x+=(C-l)/X*a;var K=Z.x-S/2+I,J=Z.x+Z.width-S/2+I,q=Z.y+(b-P)/2+_;!1!==F&&(zr(e,U,f,m),zr(e,Z,p,m),N?(tn(e,ht.Default.getImage(N),K,q),tn(e,ht.Default.getImage(N),J,q)):(j<1&&(j*=Math.min(S,P)),e.beginPath(),qr(e,K,q,S,P,j),e.closePath(),e.fillStyle=M,e.fill(),H&&(e.lineWidth=H,e.strokeStyle=E,e.stroke()),e.beginPath(),qr(e,J,q,S,P,j),e.closePath(),e.fillStyle=M,e.fill(),H&&(e.lineWidth=H,e.strokeStyle=E,e.stroke()))),this.ui.xAxisDataZoom={slider:{dataZoom:c,rect:t,barRect:U,valueBarRect:Z,zoomIncrement:Y,min:l,max:h,step:1,value:[C,V],setter:function(e){var t=o.ui.originalOption.xAxis[0].dataZoom,i=[t.min,t.max];e[0]===l?delete t.min:t.min=e[0],e[1]===h?delete t.max:t.max=e[1],G&&G(i,e,u,d)},sliderRect:{x:K,y:q,width:S,height:P},sliderRect2:{x:J,y:q,width:S,height:P}}}}}]),_a);function _a(e,t,i){return l(this,_a),d(this,(_a.__proto__||Object.getPrototypeOf(_a)).call(this,e,t,i))}var La=function(a,e,t,i,r){var o=r.seriesDatas[t],n=i.xAxis[e.xAxisIndex||0]._axisObj.zoomTimeRange,l=Er(i.color,t),h=e.itemStyle||{},s=e.lineStyle||{},u=e.areaStyle||{},d=s.color||l;if(r.seriesColors.push(d),o&&o.length){var c=function(e,t,i,o){var a=e.slice(0);if(o){for(var r=o[0],n=o[1],l=void 0,h=void 0,s=0;s<a.length;s++)if(a[s][0]>=r){l=s;break}for(var u=a.length-1;0<=u;u--)if(a[u][0]<=n){h=u+1;break}a=a.slice(l,h)}if(!t)return a;var d=[],c=a.length;if(i){if(c<=i)return a;Array.prototype.push.apply(d,a.splice(c-i,i))}var g=[];if(!(t<(c=a.length)))return i&&a.push.apply(a,d),a;var f=2*(c/t|0);if(f<3)return i&&a.push.apply(a,d),a;for(var v=0;v<c;v+=f){for(var p=a.slice(v,Math.min(v+f,c)),x=p.length,b=p[0],y=p[0],m=1;m<x;m++){var w=p[m];w[1]<y[1]&&(y=w),w[1]>b[1]&&(b=w)}b[0]>y[0]?(g.push(y),g.push(b)):(g.push(b),g.push(y))}return d=g.concat(d)}(o,r.maxVisiblePoint,r.endProtectPoint,n),g=[],f=(e.name,r.data),v=r.view,p=r.bounds.bodyRect,x=p.x,b=p.y,y=p.width,m=p.height,w=i.yAxis[e.yAxisIndex||0]._axisObj.zoomValueRange,C=w[0],k=w[1],V=n[0],D=n[1]-V,I=e.smooth,T=!!e.connectNulls,_=[],L=[],S=void 0,R=null;if(c.forEach(function(e){var t=e[0],i=e[1];if(Zr(i)){var o={x:x+y*((t-V)/D),y:Uo([b,b+m],w,i,!0)};_.push(o);var a=R?2:1;T&&1===a&&L.length&&(a=2),L.push(a),R=a,g.push(e)}else R=null}),S=_.slice(0),I&&2<=_.length){var P="number"==typeof I?I:void 0,A=[],M=void 0;L.forEach(function(e,t){1===e&&(M=[],A.push(M)),M.push(_[t])}),_=[],L=[],A.forEach(function(e){var t=nn(e,P);_=_.concat(t.points),L=L.concat(t.segments)})}if(a.save(),a.beginPath(),a.rect(x,b,y,m),a.clip(),u.color&&1<_.length){var B=_[0],E=_[_.length-1],O=Xo(p,C,k);Kr(a,_,L),a.lineTo(E.x,O),a.lineTo(B.x,O),a.closePath(),a.fillStyle=dn(a,u.color,p),a.fill()}a.lineWidth=s.width||2,a.strokeStyle=dn(a,d),s.pattern&&a.setLineDash(s.pattern),Kr(a,_,L),a.stroke(),a.restore();var H=h.size||0,W=h.activeSize||3;H||1!==_.length||(H=1);var j=h.background,N=void 0===j?d:j,F=h.borderWidth,z=void 0===F?1:F,Y=h.borderColor,G=void 0===Y?d:Y,X=h.visible;if(!1!==X&&S.forEach(function(e,t){a.beginPath();var i=H,o=g[t][0]===r.hoverTime;("function"!=typeof X||!o&&X(e,t,g,!1,f,v))&&(i&&Qr(p,e)&&a.arc(e.x,e.y,i,0,2*Math.PI),a.closePath(),N&&(a.fillStyle=N,a.fill()),z&&G&&(a.lineWidth=z,a.strokeStyle=G,a.stroke()))}),r.hoverTime&&W){var U=h.activeBackground,Z=void 0===U?N:U,K=h.activeBorderColor,J=void 0===K?G:K,q=h.activeBorderWidth,Q=void 0===q?z:q;r._hoverHandlers||(r._hoverHandlers=[]);var $=void 0,ee=void 0;for(ee=0;ee<g.length;ee++)if(g[ee][0]===r.hoverTime){$=S[ee];break}if(!$||"function"==typeof X&&!X($,ee,g,!0,f,v))return;r._hoverHandlers.push(function(){a.beginPath(),a.arc($.x,$.y,W,0,2*Math.PI),Z&&(a.fillStyle=Z,a.fill()),Q&&J&&(a.lineWidth=Q,a.strokeStyle=J,a.stroke())})}}};var Sa=function(o,e,a,t,i){var r=i.seriesDatas[a],n=e.name,l=e.itemStyle||{},h=e.lineStyle||{},s=i.bounds.bodyRect,u=s.x,d=s.y,c=s.width,g=s.height,f=Er(t.color,a),v=t.xAxis[e.xAxisIndex||0],p=t.yAxis[e.yAxisIndex||0]._axisObj.zoomValueRange,x=p[0],b=p[1]-x,y=v._axisObj.zoomValueRange,m=y[0],w=y[1]-m,C=e.smooth,k=void 0,V=i.hitSeriesIndex,D=i.hitPointIndex,I=t.clipMode;if(!Xr(r)&&Ur(r)){var T=r.x||[],_=r.y||[],L=_<T.length;r=[],(L?T:_).forEach(function(e,t){L?r.push([e,_[t]]):r.push([T[t],e])})}if(r&&r.length){var S=[],R=[],P=[],A=void 0;if(r.forEach(function(e,t){var i=Ie(e,2),o=i[0],a=i[1],r={x:u+c*((o-m)/w),y:d+g*(1-(a-x)/b)};if(I)S.push(r),P.push(t?2:1),R.push(e);else if(Qr(s,r)){S.push(r),R.push(e);var n=A?2:1;P.push(n),A=n}else A=null}),i.pointsInfo[a]={values:R,name:n,points:S},k=S.slice(0),C&&2<=S.length){var M="number"==typeof C?C:void 0,B=[],E=void 0;P.forEach(function(e,t){1===e&&(E=[],B.push(E)),E.push(S[t])}),S=[],P=[],B.forEach(function(e){var t=nn(e,M);S=S.concat(t.points),P=P.concat(t.segments)})}o.save(),o.beginPath(),o.rect(u,d,c,g),o.clip();var O=h.color||f;o.lineWidth=h.width||2,o.strokeStyle=dn(o,O),i.seriesColors.push(O),h.pattern&&o.setLineDash(h.pattern),Kr(o,S,P),o.stroke(),o.restore();var H=l.size||2,W=l.activeSize||4;H||1!==S.length||(H=1);var j=l.background,N=void 0===j?O:j,F=l.borderWidth,z=void 0===F?1:F,Y=l.borderColor,G=void 0===Y?O:Y;H&&(o.beginPath(),k.forEach(function(e,t){if(Qr(s,e)){var i=V===a&&D===t?W:H;i&&(o.moveTo(e.x,e.y),o.arc(e.x,e.y,i,0,2*Math.PI))}}),z&&G&&(o.lineWidth=z,o.strokeStyle=G,o.stroke()),N&&(o.fillStyle=N,o.fill()))}};var Ra=(t(Pa,xa),e(Pa,[{key:"getAxisValues",value:function(){var h=this,e=this.series,s=this.seriesIndexs,u=[];e.forEach(function(e,t){var i=h.ui.seriesDatas[s[t]];if(i)if(Xr(i))u=u.concat(i);else if(Ur(i)){for(var o=i.x,a=i.y,r=Math.min(o.length,a.length),n=[],l=0;l<r;l++)n.push([o[l],0]);u=u.concat(n)}});var t=[];return u.forEach(function(e){t.push(e[0])}),t}},{key:"getBoundHeight",value:function(){var e=this.axisOption;if(!e.show)return 2;var t=e.axisLabel.rotate,i=e.axisTick.show?e.axisTick.length:0,o=this.getDataZoomOption(),a=0;o&&!1!==o.sliderVisible&&(a+=18);var r=K,n=this.getAxisValues();return n&&n.forEach(function(e){e.toString().length>r.length&&(r=e)}),t?(t=Math.max(-45,t),t=Math.min(45,t),a+on(e.axisLabel.font,r,t).height+4+i):a+sr(e.axisLabel.font,K).height+4+i}},{key:"draw",value:function(a){var e=this.ui,r=e.data,n=e.view,t=this.axisOption,i=this.axisIndex,o=e.bounds.xAxisRects[i],l=this.getDataZoomOption(),h=this.zoomValueRange,s=void 0;l&&(s={x:o.x,y:o.y+o.height-18,width:o.width,height:18},this.drawSlider(a,s),o={x:o.x,y:o.y,width:o.width,height:o.height-18});var u=o.x,d=o.y,c=o.width,g=o.height;if(!1!==t.show&&(t.axisLine.show&&(a.strokeStyle=t.axisLine.color,a.lineWidth=t.axisLine.width,a.beginPath(),i?(a.moveTo(u,d+g),a.lineTo(u+c,d+g)):(a.moveTo(u,d),a.lineTo(u+c,d)),a.stroke()),t.axisLabel.show)){var f=Ie(h,3),v=f[0],p=f[1],x=(f[2],p-v),b=this.getValuesByValueRange(),y=void 0;t.axisTick.show&&(y=t.axisTick.length)&&(a.strokeStyle=t.axisTick.color,a.beginPath(),b.forEach(function(e){var t=u+c*((e-v)/x);i?(a.moveTo(t,d+g),a.lineTo(t,d+g-y)):(a.moveTo(t,d),a.lineTo(t,d+y))}),a.stroke()),t.axisTick.show;var m=t.axisLabel.font,w=t.axisLabel.color,C=t.axisLabel.formatter,k=d+(i?0:y);if(b.forEach(function(e,t){var i=sr(m,e.toString()),o=u+c*((e-v)/x)-i.width/2;"function"==typeof C&&(e=C(e,r,n)),ht.Default.drawText(a,e.toString(),m,w,o,k,i.width,i.height,"center")}),a.save(),t.splitLine.show){var V=e.bounds.bodyRect,D=V.x,I=V.y,T=V.width,_=V.height;a.strokeStyle=t.splitLine.color,a.lineWidth=t.splitLine.width||1,t.splitLine.pattern&&a.setLineDash(t.splitLine.pattern),a.beginPath(),b.forEach(function(e,t){if(0!==t){var i=D+T*((e-v)/x);a.moveTo(i,I),a.lineTo(i,I+_)}}),a.stroke()}a.restore()}}},{key:"drawSlider",value:function(e,t){var o=this,i=(t.x,t.y),a=t.width,r=t.height,n=Ie(this.valueRange,2),l=n[0],h=n[1],s=this.ui,u=s.data,d=s.view,c=this.getDataZoomOption(),g=c.barBackground,f=void 0===g?"#eee":g,v=c.barValueBackground,p=void 0===v?"rgb(51,153,255)":v,x=c.barWidth,b=void 0===x?Math.min(12,a):x,y=c.barBorderRadius,m=void 0===y?0:y,w=c.min,C=void 0===w?l:w,k=c.max,V=void 0===k?h:k,D=c.sliderOffsetX,I=void 0===D?0:D,T=c.sliderOffsetY,_=void 0===T?0:T,L=c.sliderWidth,S=void 0===L?5:L,R=c.sliderHeight,P=void 0===R?14:R,A=c.sliderBackground,M=void 0===A?"#32D3EB":A,B=c.sliderBorderColor,E=void 0===B?"#32D3EB":B,O=c.sliderBorderWidth,H=void 0===O?1:O,W=c.sliderBorderRadius,j=void 0===W?0:W,N=c.sliderImage,F=c.sliderVisible,z=c.zoomIncrement,Y=void 0===z?.05:z,G=c.onChange,X=h-l;C=Math.max(l,C),V=Math.min(h,V),h<C&&(C=h),V<l&&(V=l);var U=Gr(t);U.y=i+(r-b)/2,U.height=b;var Z=Gr(U);Z.width*=(V-C)/X,Z.x+=(C-l)/X*a;var K=Z.x-S/2+I,J=Z.x+Z.width-S/2+I,q=Z.y+(b-P)/2+_;!1!==F&&(zr(e,U,f,m),zr(e,Z,p,m),N?(tn(e,ht.Default.getImage(N),K,q),tn(e,ht.Default.getImage(N),J,q)):(j<1&&(j*=Math.min(S,P)),e.beginPath(),qr(e,K,q,S,P,j),e.closePath(),e.fillStyle=M,e.fill(),H&&(e.lineWidth=H,e.strokeStyle=E,e.stroke()),e.beginPath(),qr(e,J,q,S,P,j),e.closePath(),e.fillStyle=M,e.fill(),H&&(e.lineWidth=H,e.strokeStyle=E,e.stroke()))),this.ui.xAxisDataZoom={slider:{dataZoom:c,rect:t,barRect:U,valueBarRect:Z,zoomIncrement:Y,min:l,max:h,value:[C,V],setter:function(e){var t=o.ui.originalOption.xAxis[0].dataZoom,i=[t.min,t.max];e[0]===l?delete t.min:t.min=e[0],e[1]===h?delete t.max:t.max=e[1],G&&G(i,e,u,d)},sliderRect:{x:K,y:q,width:S,height:P},sliderRect2:{x:J,y:q,width:S,height:P}}}}}]),Pa);function Pa(e,t,i){l(this,Pa);var o=d(this,(Pa.__proto__||Object.getPrototypeOf(Pa)).call(this,e,t,i));return o.axisIndex=t.xAxis.indexOf(e),t.series.forEach(function(e,t){(e.xAxisIndex||0)===o.axisIndex&&(o.series.push(e),o.seriesIndexs.push(t))}),o.labelHeight=o.getMaxValueBound().height,o.boundHeight=o.getBoundHeight(),o}var Aa=ht.Default,Ma=Aa.clone;Aa.unionPoint;function Ba(e,t){for(var i=ht.Math.Vector2,o=Math.cos,a=Math.sin,r=e.arcStartAngle,n=e.arcEndAngle,l=e.roseRadius,h=e.innerRadius,s=h+l,u=n-r,d={x:s*o(r),y:s*a(r)},c={x:s*o(n),y:s*a(n)},g={x:h*o(r),y:h*a(r)},f={x:h*o(n),y:h*a(n)},v=t,p=v+Math.PI/2,x=p+Math.PI/2,b=x+Math.PI/2,y=[{x:s*o(v),y:s*a(v)},{x:s*o(p),y:s*a(p)},{x:s*o(x),y:s*a(x)},{x:s*o(b),y:s*a(b)}],m=[d,c,g,f],w=0;w<4;w++){var C=y[w],k=new i(d),V=new i(C),D=k.clone().normalize().dot(V.normalize()),I=Math.acos(D);0<k.x*V.y-V.x*k.y?I<u&&m.push(C):2*Math.PI-I<u&&m.push(C)}for(var T=-1/0,_=1/0,L=0,S=m.length;L<S;L++){var R=m[L].y;T=Math.max(T,R),_=Math.min(_,R)}return{minY:_,maxY:T}}function Ea(e,t){var i=t.isEmphasis,o=t.type,a=t.outFormatter,r=e.name,n=e.value,l=e.percent,h=e.seriesName,s=e.labelEmphasis,u=e.labelNormal,d=e.labelLineNormal,c=e.labelLineEmphasis,g=void 0,f=void 0;"label"===o?f=i?(g=s.font,s.formatter):(g=u.font,u.formatter):"labelLine"===o&&(f=i?(g=c.font,c.formatter):(g=d.font,d.formatter)),a&&(f=a);var v=r.toString();f&&(v=(f=f.replace(/\\n/g,"<br>")).replace(/\{(\w)\}/g,function(e,t){return"a"===t?h:"b"===t?r:"c"===t?n:"d"===t?(100*l).toFixed(1)+"%":e}));var p=v.split("<br>"),x=void 0,b=void 0;return g&&(b=(x=sr(g,"e").height+1)*p.length/2),{labelTextArray:p,textHeight:x,beginHeight:b}}var Oa=ht.Default.isBoolean,Ha=(e(Wa,[{key:"initGLabel",value:function(e){var t=e.getValue("label.normal.show"),i=e.getValue("label.normal.position"),o=e.getValue("label.normal.formatter"),a=e.getValue("label.normal.color"),r=e.getValue("label.normal.font");this.gLabelNormal={show:!Oa(t)||t,position:i||"center",formatter:o||"",color:a,font:r||"12px serif"};var n=e.getValue("label.emphasis.show"),l=e.getValue("label.emphasis.position"),h=e.getValue("label.emphasis.formatter"),s=e.getValue("label.emphasis.color"),u=e.getValue("label.emphasis.font");this.gLabelEmphasis={show:!Oa(n)||n,position:l||"center",formatter:h||"",color:s,font:u||"13px serif"}}},{key:"initGLabelLine",value:function(e){var t=e.getValue("labelLine.normal.show"),i=e.getValue("labelLine.normal.length"),o=e.getValue("labelLine.normal.length2"),a=e.getValue("labelLine.normal.formatter"),r=e.getValue("labelLine.normal.width"),n=e.getValue("labelLine.normal.type"),l=e.getValue("labelLine.normal.font"),h=e.getValue("labelLine.normal.lineColor"),s=e.getValue("labelLine.normal.textColor");this.gLabelLineNormal={show:!Oa(t)||t,length:void 0===i?15:i,length2:void 0===o?10:o,formatter:a||"",width:void 0===r?1:r,type:n||"dashed",font:l||"12px serif",lineColor:h,textColor:s};var u=e.getValue("labelLine.emphasis.show"),d=e.getValue("labelLine.emphasis.length"),c=e.getValue("labelLine.emphasis.length2"),g=e.getValue("labelLine.emphasis.formatter"),f=e.getValue("labelLine.emphasis.width"),v=e.getValue("labelLine.emphasis.type"),p=e.getValue("labelLine.emphasis.font"),x=e.getValue("labelLine.emphasis.lineColor"),b=e.getValue("labelLine.emphasis.textColor");this.gLabelLineEmphasis={show:!Oa(u)||u,length:void 0===d?15:d,length2:void 0===c?10:c,formatter:g||"",width:void 0===f?2:f,type:v||"dashed",font:p||"13px serif",lineColor:x,textColor:b}}}]),Wa);function Wa(e){l(this,Wa),this.initGLabel(e),this.initGLabelLine(e)}var ja=ht.Default.isEmptyObject,Na=(e(Fa,[{key:"initDefaultValue",value:function(e){var t=this.data,i=this.index,o=this.color,a=t.name,r=void 0===a?"系列名":a,n=t.value,l=void 0===n?0:n,h=t.itemStyle,s=void 0===h?{}:h,u=t.labelLine,d=void 0===u?{}:u,c=t.label,g=void 0===c?{}:c,f=e.gLabelNormal,v=e.gLabelEmphasis,p=e.gLabelLineNormal,x=e.gLabelLineEmphasis,b=o[i%o.length];if(this.name=r,this.value=l,this.itemStyle=Object.assign({color:b,borderColor:"#000"},s),this.labelNormal=Object.assign({},f,g.normal||{}),this.labelEmphasis=Object.assign({},v,g.emphasis||{}),this.labelLineNormal=Object.assign({},p,d.normal||{}),this.labelLineEmphasis=Object.assign({},x,d.emphasis||{}),ja(this.labelNormal.color)){var y=this.labelNormal.position;this.labelNormal.color="center"===y?b:"black"}if(ja(this.labelEmphasis.color)){var m=this.labelEmphasis.position;this.labelEmphasis.color="center"===m?b:"black"}ja(this.labelLineNormal.lineColor)&&(this.labelLineNormal.lineColor=b),ja(this.labelLineNormal.textColor)&&(this.labelLineNormal.textColor=b),ja(this.labelLineEmphasis.lineColor)&&(this.labelLineEmphasis.lineColor=b),ja(this.labelLineEmphasis.textColor)&&(this.labelLineEmphasis.textColor=b),this.pieColor=b}},{key:"getLabelPoints",value:function(){var e=this.centerX,t=this.centerY,i=this.roseType,o=this.roseRadius,a=this.innerRadius,r=this.outerRadius,n=this.lineAngle,l=e+(i?o+a:r)*Math.cos(n),h=t+(i?o+a:r)*Math.sin(n);return{textX:(l+(e+a*Math.cos(n)))/2,textY:(h+(t+a*Math.sin(n)))/2}}},{key:"getLabelInfo",value:function(e){return Ea(this,{isEmphasis:e,type:"label"})}},{key:"getLabelLinePoints",value:function(e){var t=this.labelLineNormal,i=this.labelLineEmphasis,o=this.centerX,a=this.centerY,r=this.roseType,n=this.roseRadius,l=this.innerRadius,h=this.outerRadius,s=this.lineAngle,u=this.hoverOffset,d=t.length,c=i.length,g=e?l+n+u:l+n,f=e?h+u:h,v=o+(r?g:f)*Math.cos(s),p=a+(r?g:f)*Math.sin(s),x=void 0,b=void 0;if(e){var y=h+u+c;x=o+y*Math.cos(s),b=a+y*Math.sin(s)}else{var m=h+d;x=o+m*Math.cos(s),b=a+m*Math.sin(s)}return{x0:v,y0:p,x1:x,y1:b}}},{key:"getLabelLineLabelInfo",value:function(e){return Ea(this,{isEmphasis:e,type:"labelLine"})}}]),Fa);function Fa(e,t){l(this,Fa),Object.assign(this,e),this.initDefaultValue(t)}var za=ht.Default.isBoolean,Ya=Math.PI,Ga=Ya/180;function Xa(e,t,i,o,a){var r=Sr(i,t,a);if(r){var n=r.arcPoints,l=r.arcAngles,h=r.center,s=r.radius,u=r.foucusArcNum,d=r.hoverOffset,c=r.tooltip,g=void 0===c?{}:c,f=r.pieItems,v=Yr(i,t,a,o);if(n){var p=ht.Math.Vector2,x=2*Math.PI,b=new p(h),y=s.outerRadius,m=s.innerRadius,w=ht.Default.getDistance(v,h);if(m<w&&w<(void 0!==u?y+d:y))for(var C=0,k=l.length;C<k;C++){var V=f[C],D=V.roseType,I=V.roseRadius;if(D&&(C===u?m+I+d:m+I)<w)C===u&&(delete r.foucusArcNum,t.iv());else{var T=new p(n[C]).sub(b),_=new p(v).sub(b),L=T.clone().normalize().dot(_.normalize()),S=Math.acos(L);if(0<T.x*_.y-_.x*T.y){if(S<l[C]){u!=C&&(r.foucusArcNum=C,t.iv());break}u===C&&(delete r.foucusArcNum,t.iv())}else{if(x-S<l[C]){u!=C&&(r.foucusArcNum=C,t.iv());break}u===C&&(delete r.foucusArcNum,t.iv())}}}else void 0!==u&&(delete r.foucusArcNum,t.iv())}if(g.show){var R=r.foucusArcNum;if(void 0!==R){var P=f[R],A=P.value,M=P.percent,B=P.name,E=P.seriesName,O=g.formatter,H=[];if(O)Ea(P,{outFormatter:O}).labelTextArray.forEach(function(e,t){H.push([null,e])});else H=[["名称",B],["百分比",(100*M).toFixed(1)+"%"],["数值",A]];Ua.setInfo({label:E,datas:H}),Rr.show(Ua.getView(),e)}else Rr.hide()}}}var Ua=new wo,Za=(t(Ka,ei),e(Ka,[{key:"onMove",value:function(e,t,i,o){Xa(e,t,i,o,this)}},{key:"onUp",value:function(e,t,i,o){Xa(e,t,i,o,this)}},{key:"onLeave",value:function(e,t,i){var o=Sr(i,t,this);void 0!==o.foucusArcNum&&(delete o.foucusArcNum,t.iv(),Rr.hide())}}]),Ka);function Ka(){return l(this,Ka),d(this,(Ka.__proto__||Object.getPrototypeOf(Ka)).call(this))}var Ja=(t(qa,ei),e(qa,[{key:"onMove",value:function(g,f,v,e){var p=Sr(v,f,this),x=p.ui,b=p.option;if(x&&b&&!p.dragging){var t=x.bounds,y=Yr(v,f,this,e,g),i=t.bodyRect,o=x.xAxisDataZoom,a=x.yAxisDataZoom,m=o?o.slider:null,w=a?a.slider:null;if(Qr(i,y)&&b.tooltip.show){var r=function(){function e(o){var e=i[o],t=e.points,a=e.values,r=e.name;t.forEach(function(e,t){var i=un(e,y);i<n&&i<1/0&&(l=parseInt(o),u=r,s=a[h=t])})}var n=6/(v.getZoom?v.getZoom():1),i=x.pointsInfo,t=b.tooltip.formatter,l=void 0,h=void 0,s=void 0,u=void 0;for(var o in i)e(o);if(Zr(s)){var a=s.join(",");t?a=t({name:u,value:s},f,v).toString():u&&(a=u+"<br/>"+a),Rr.show(a,g)}else Rr.hide();var r=p.hitSeriesIndex,d=p.hitPointIndex;if(p.hitSeriesIndex=l,d===(p.hitPointIndex=h)&&r===l||f.iv(),m||w){var c=p.sliderInfo={info:[],body:!0};m&&c.info.push({axis:S,info:m}),w&&c.info.push({axis:te,info:w})}return{v:void 0}}();if("object"===(void 0===r?"undefined":De(r)))return r.v}if(m&&(Qr(jr(m.sliderRect,3),y)||Qr(jr(m.sliderRect2,3),y)||Qr(m.valueBarRect,y)))return Br(v,"ew-resize"),void(p.sliderInfo={axis:S,info:m});if(w&&(Qr(jr(w.sliderRect,3),y)||Qr(jr(w.sliderRect2,3),y)||Qr(w.valueBarRect,y)))return Br(v,"ns-resize"),void(p.sliderInfo={axis:te,info:w});delete p.sliderInfo,Br(v,"default")}}},{key:"onDown",value:function(e,t,i,o){var a=Sr(i,t,this),r=a.ui,n=a.option;if(r&&n&&!a.dragging){var l=r.xAxisDataZoom,h=r.yAxisDataZoom,s=Yr(i,t,this,o,e),u=l?l.slider:null,d=h?h.slider:null;u&&Qr(u.barRect,s)&&!a.sliderInfo&&(No(u.setter,u,s,u.barRect),t.iv()),d&&Qr(d.barRect,s)&&!a.sliderInfo&&(Fo(d.setter,d,s,d.barRect),t.iv())}}},{key:"onLeave",value:function(e,t,i){var o=Sr(i,t,this);Zr(o.hitPointIndex)&&(delete o.hitSeriesIndex,delete o.hitPointIndex,Rr.hide(),t.iv()),o.dragging||Br(i,"default")}},{key:"onBeginDrag",value:function(e,t,i,o){var a=Sr(i,t,this),r=a.sliderInfo;if(a.ui,r){var n=r.info,l=n.sliderRect,h=n.sliderRect2,s=n.valueBarRect,u=n.value,d=n.barRect,c=Yr(i,t,this,o,e);a.dragging=!0,r.body?r.info.forEach(function(e){e.draggingValue=zo(e.info.value[0],e.info.value[1],e.info.barRect,c,e.axis===te)}):Qr(jr(l,3),c)?r.fixed=u[1]:Qr(jr(h,3),c)?r.fixed=u[0]:Qr(s,c)&&(S===r.axis?r.draggingValue=No(null,r.info,c,d,null,!0):r.draggingValue=Fo(null,r.info,c,d,null,!0))}}},{key:"onDrag",value:function(e,t,i,o){var a=Sr(i,t,this),r=a.sliderInfo,n=a.option;if(a.dragging&&r){var l=r.info,h=l.barRect,s=l.setter,d=(l.sliderRect,l.sliderRect2,l.valueBarRect,l.value,l.dataZoom,Yr(i,t,this,o,e)),u=r.axis===S?No:Fo,c=void 0;if(c=S===r.axis?n.xAxis[0].axisLabel?n.xAxis[0].axisLabel.formatter:null:n.yAxis[0].axisLabel?n.yAxis[0].axisLabel.formatter:null,Zr(r.fixed)){var g=u(s,r.info,d,h,r.fixed);Rr.show(c?c(g,t,i):g,e)}else if(Zr(r.draggingValue)){var f=r.draggingValue,v=u(null,r.info,d,h,null,!0)-f,p=r.info.value,x=r.info.min,b=r.info.max,y=[p[0]+v,p[1]+v];y[0]<x?y=[x,x+(p[1]-p[0])]:y[1]>b&&(y=[b-(p[1]-p[0]),b]),r.info.setter(y);var m=y.join(",");c&&(m=y.map(function(e){return c(e,t,i)}).join(", ")),Rr.show(m,e)}else r.body&&r.info.forEach(function(e){var t=e.info,i=t.barRect,o=t.setter,a=t.min,r=t.max,n=e.info.value,l=e.draggingValue,h=zo(n[0],n[1],i,d,e.axis===te)-l;e.axis===te&&(h=-h);var s=e.info.value,u=[s[0]+h,s[1]+h];u[0]<a?u=[a,a+(s[1]-s[0])]:u[1]>r&&(u=[r-(s[1]-s[0]),r]),o(u)});t.iv()}}},{key:"onEndDrag",value:function(e,t,i){var o=Sr(i,t,this);delete o.sliderInfo,delete o.dragging,Rr.hide()}},{key:"onScroll",value:function(e,t,i,o){if(Yo(e,t,i,this,o)){var a=Sr(i,t,this);delete a.hitSeriesIndex,delete a.hitPointIndex,t.iv()}}}]),qa);function qa(){return l(this,qa),d(this,(qa.__proto__||Object.getPrototypeOf(qa)).call(this))}function Qa(e,t,i){for(var o=[],a=0,r=1,n=e.length;r<=n;r++){var l=e.substring(a,r);sr(i,l).width>t&&(a=r-1===a?(o.push(e.substring(a,r)),r):(o.push(e.substring(a,r-1)),r-1))}return a!==r-1&&o.push(e.substring(a,r)),o}function $a(e,t,i,o){for(var a=[],r=e.split("\n"),n=0,l=r.length;n<l;n++){var h=r[n];if(""===h&&(h=" "),o)Array.prototype.push.apply(a,Qa(h,i,t));else{for(var s,u,d="",c=void 0,g=void 0,f=void 0,v="",p=0;p<h.length;p++){h.charAt(p).match(/[a-z|A-Z]/g)?d+="1":d+="2"}d=(d=d.replace(/21/g,"2"+vr+"1")).replace(/12/g,"1"+vr+"2");for(var x=0;x<d.length;x++){d.charAt(x).match(xr)&&(h=br(h,x+1,pr))}s=h.split(pr),u=d.split(vr);for(var b=0,y=s.length;b<y;b++)c=v+s[b],g=sr(t,c),"1"===u[b][0]?g.width>i?v?(a.push(v),v="",b--):(f=Qa(s[b],i,t),Array.prototype.push.apply(a,f.slice(0,f.length-1)),v=f[f.length-1]):v=g.width===i?(a.push(c),""):c:v=g.width>i?(f=Qa(c,i,t),Array.prototype.push.apply(a,f.slice(0,f.length-1)),f[f.length-1]):c;v&&a.push(v)}}return a}function er(e,t,i,o,a,r){return e?(t=t&&new c(t),e.pressed?o||(a&&t&&0!==t.a?ht.Default.darker(t,Te.activeDarker):r?null:Te.emptyColor):e.hover?i||(a&&t&&0!==t.a?ht.Default.darker(t,Te.hoverDarker):r?null:Te.emptyColor):r?null:t?t.getRGBA():Te.emptyColor):t}var tr,ir,or,ar=/firefox/.test(window.navigator.userAgent.toLowerCase()),rr=/MSIE/.test(window.navigator.userAgent.toLowerCase()),nr=ht.Default,lr=nr.removeHTML,hr=nr.appendToScreen,sr=(tr={},ir=document?ht.Default.createCanvas().getContext("2d"):null,function(e,t){ir.font=e||ht.Default.labelFont;var i=tr[ir.font];return i||(i=2*ir.measureText("e").width,tr[ir.font]=i),{width:ir.measureText(t).width+2,height:i}}),ur=function(e,t){if(!e)return dr([],t);var i,o=((i=e)?("string"!=typeof i&&(i+=""),i.replace(/^\s+|\s+$/g,"")):"").split(/\s+/g),a=[];return o.forEach(function(e){isNaN(e)||a.push(parseInt(e))}),dr(a)},dr=function(e,t){var i=1<arguments.length&&void 0!==t?t:0;return e&&0!==e.length?3===e.length?[e[0],e[1],e[2],e[1]]:2===e.length?[e[0],e[1],e[0],e[1]]:1===e.length?[e[0],e[0],e[0],e[0]]:[e[0],e[1],e[2],e[3]]:[i,i,i,i]},cr=function(e){e&&"textarea"===e||(e="input");var t=document.createElement(e),i=t.style;return i.display="block",i.boxSizing="border-box",i.position="absolute",i.outline="none",i.zIndex=1e4,i.borderWidth=0,i.backgroundColor="rgba(0, 0, 0, 0)",t},gr=function(e,t,i){var o=t.style,a=i.rect,r=new ht.Math.Matrix2d,n=e.getZoom();ht.Default.layout(t,a),r.appendTranslate(e.tx(),e.ty()),r.appendScale(n,n),r.append(i.matrix),fr(o,"transform","matrix("+r.a.toFixed(5)+", "+r.b.toFixed(5)+", "+r.c.toFixed(5)+",\n    "+r.d.toFixed(5)+", "+r.tx.toFixed(5)+", "+r.ty.toFixed(5)+")"),fr(o,"transformOrigin",(-a.x).toFixed(5)+"px "+(-a.y).toFixed(5)+"px")},fr=((or=document.createElement("input")).setAttribute("style","width: 0;height: 0;"),function(e,t,i){var o=t[0].toUpperCase+t.substring(1,t.length);e["webkit"+o]=i,e["moz"+o]=i,e["ms"+o]=i,e["o"+o]=i,e[t]=i}),vr="__htvt__",pr="||htvt||",xr=new RegExp(vr,"g"),br=function(e,t,i){return e=e.substring(0,t-1)+i+e.substring(t-1,e.length)};function yr(e,t){var i=e.prototype,o=ht.Default.getMSMap();for(var a in t)o[a]&&o.hasOwnProperty(a)?o[a](i,t):i[a]=t[a]}function mr(e){var t=e.a(g.VALUE);return void 0===t?"":t}var wr,Cr=(wr=null,function(n){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},l=e.multiple,h=e.readType,s=e.filter,t=e.accept;wr||((wr=document.createElement("input")).setAttribute("type","file"),wr.setAttribute("id","hiddenFile"),wr.style.width=0,wr.style.height=0,wr.addEventListener("change",function(e){lr(wr),wr=null;for(var t=e.target.files,i={files:[]},o=0;o<t.length;o++)s&&!s(t[o])||i.files.push(t[o]);if(h&&0!==i.files.length)if(l){var a=0;i.files.forEach(function(t){var e=new FileReader;e.onload=function(e){t.readResult=e.target.result,++a===i.files.length&&n(i)},kr(e,t,h)})}else{var r=new FileReader;r.onload=function(e){t[0].readResult=e.target.result,n(i)},kr(r,t[0],h)}else n(i)}),hr(wr)),wr.multiple=!!l,wr.accept=t||"",wr.click()});function kr(e,t,i){"binaryString"===i?e.readAsBinaryString(t):"ArrayBuffer"===i?e.readAsArrayBuffer(t):"dataUrl"===i?e.readAsDataURL(t):e.readAsText(t)}function Vr(e,t){var i=t.borderWidth,o=t.borderColor,a=t.dash,r=t.dashPattern,n=t.background,l=t.bgGradient,h=t.bgGradientColor,s=t.contentRect;if(a&&e.setLineDash(r),n){var u;if(l&&h)n=(u=ht.Default).createGradient.apply(u,[e,l,n,h].concat(Me(s)));e.fillStyle=n,e.fill()}i&&o&&(e.strokeStyle=o,e.lineWidth=i,e.stroke())}function Dr(e,t){return ht.Default.intersectsRect(e,t)}var Ir=function(e,t){for(var i=[],o=0,a=0,r=void 0,n=0,l=e.length;n<l;n++)if(r=e[n].width||.1,isNaN(r)){var h=r.split("+"),s=parseFloat(h[0]),u=[];1<s?a+=s:o+=s,u.push(s),1<(s=parseFloat(h[1]))?(a+=s,u.unshift(s)):(o+=s,u.push(s)),i.push(u)}else 1<=(r=parseFloat(r))?a+=r=Math.max(12,r):o+=r,i.push(r);for(n=0,l=i.length;n<l;n++)(r=i[n])<1?i[n]=Math.max(0,r/o*(t-a)):r instanceof Array&&(i[n]=r[0]+Math.max(0,r[1]/o*(t-a)));return i},Tr=function(e){var t=Ie(e,4);return{x:t[0],y:t[1],width:t[2],height:t[3]}},_r=function(e,t){return e&&t?e.getDataUI?e.getDataUI(t):e.getData3dUI?e.getData3dUI(t):void 0:null},Lr=function(e,t,i,o){var a=function(e,t,i,o){if(!e||!e.interactiveInfo)return null;if(i){var a=void 0;if("billboard"===t.s("shape3d"))a=t.s("shape3d.image");else if(o){var r=e.gv.intersectObject(o,t);a=t.s("shape3d."+("body"===r.part?"":r.part+".")+"image")}return a&&e.interactiveInfo[a]?e.interactiveInfo[a].bodyInfo.compInfos:null}return e.interactiveInfo.bodyInfo?e.interactiveInfo.bodyInfo.compInfos:null}(_r(e,t),t,e instanceof ht.graph3d.Graph3dView,o);if(a)for(var r=0,n=a.length;r<n;r++){var l=a[r];if(l.comp===i)return l}return null},Sr=function(e,t,i){var o=_r(e,t);if(!o)return{};var a=t.getCurrentPrefix();if(o.vectorInfos)for(var r=o.vectorInfos,n=0;n<r.length;n++){var l=r[n];if(l.comp===i&&l.prefix===a)return l}else o.vectorInfos=[];var h={comp:i,prefix:a};return o.vectorInfos.push(h),h},Rr=new ua,Pr=function(e,t,i,o,a){o&&(o.editing=!1,delete o.dom),a&&e.a(a,i.value),e.iv(),lr(i)},Ar=function(e){return null==e},Mr=function e(t,i,o){for(var a in i){var r=i[a];"object"!==(void 0===r?"undefined":De(r))||ht.Default.isArray(r)||o?t[a]=i[a]:(Ar(t[a])&&ht.Default.isObject(i[a])&&(t[a]={}),e(t[a],i[a]))}},Br=function(e,t){e.getView().style.cursor=t},Er=function(e,t){var i=1<arguments.length&&void 0!==t?t:0;return e[i%=e.length]},Or=function(e,t,i){var o=e[t],a=i.getCurrentPrefix();if(o&&o.func&&"string"==typeof o.func){var r=o.func.split("@"),n=Ie(r,2);n[0];return(a||"")+n[1]}return null},Hr=function(e,t){var i,o,a,r;try{i=e.toString().split(".")[1].length}catch(e){i=0}try{o=t.toString().split(".")[1].length}catch(e){o=0}if(r=Math.abs(i-o),a=Math.pow(10,Math.max(i,o)),0<r){var n=Math.pow(10,r);t=o<i?(e=Number(e.toString().replace(".","")),Number(t.toString().replace(".",""))*n):(e=Number(e.toString().replace(".",""))*n,Number(t.toString().replace(".","")))}else e=Number(e.toString().replace(".","")),t=Number(t.toString().replace(".",""));return(e+t)/a},Wr=function(e,t){var i,o,a;try{i=e.toString().split(".")[1].length}catch(e){i=0}try{o=t.toString().split(".")[1].length}catch(e){o=0}return((e*(a=Math.pow(10,Math.max(i,o)))-t*a)/a).toFixed(o<=i?i:o)},jr=function(e,t){return{x:e.x-t,y:e.y-t,width:e.width+2*t,height:e.height+2*t}},Nr=function(e,t,i){var o=Lr(i,t,e),a=o.rect,r=o.matrix,n=new ht.Math.Matrix2d,l=gn(i),h=i.tx?i.tx():0,s=i.ty?i.ty():0;n.appendTranslate(h,s),n.appendScale(l,l),n.append(r);var u=new ht.Math.Vector2;return a=ht.Default.unionPoint([n.apply(u.set(a.x,a.y)),n.apply(u.set(a.x,a.y+a.height)),n.apply(u.set(a.x+a.width,a.y)),n.apply(u.set(a.x+a.width,a.y+a.height))])},Fr=function(e,t,i){if(!e||!e.func)return e;var o,a=e.func,r=e.value;return o=ht.Default.isFunction(a)?i&&i.vectorDataBindingDisabled&&!e.isSafeFunc?r:a(t,i):t instanceof ht.Data?/^attr@/.test(a)?t.a(a.slice(5)):/^style@/.test(a)?t.s(a.slice(6)):/^field@/.test(a)?t[a.slice(6)]:t[a]?t[a](i):r:r,void 0!==r&&null==o?r:o},zr=function(e,t,i,o){var a=t.x,r=t.y,n=t.width,l=t.height;e.fillStyle=i,e.beginPath(),qr(e,a,r,n,l,o),e.closePath(),e.fill()},Yr=function(e,t,i,o,a){var r=Lr(e,t,i,a);return{x:o.x+r.rect.x,y:o.y+r.rect.y}},Gr=function(e){return ht.Default.clone(e)},Xr=function(e){return ht.Default.isArray(e)},Ur=function(e){return ht.Default.isObject(e)},Zr=function(e){return!Ar(e)},Kr=function(e,t,i,o){ht.Default.drawPoints(e,t,i,o)},Jr=function(e,t,i,o,a,r,n,l,h,s){ht.Default.drawText(e,t,i,o,a,r,n,l,h,s)},qr=function(e,t,i,o,a,r,n,l,h){ht.Default.drawRoundRect.apply(ht.Default,arguments)},Qr=function(e,t,i,o){return ht.Default.containsPoint(e,t,i,o)},$r=function(e,t){return ht.Default.unionPoint(e,t)},en=function(e,t,i,o,a,r,n,l,h,s){!s&&l&&(s=l.s("body.color")),ht.Default.drawStretchImage(e,t,i,o,a,r,n,l,h,s)},tn=function(e,t,i,o,a,r,n,l,s){!s&&n&&(s=n.s("body.color")),ht.Default.drawImage(e,img,i,o,w,h,n,l,s)},on=function(e,t,i){if(i){var o=sr(e,t),a=new ht.Math.Vector2(0,0),r=new ht.Math.Vector2(o.width,0),n=new ht.Math.Vector2(o.width,o.height),l=new ht.Math.Vector2(0,o.height),h=new ht.Math.Vector2(o.width/2,o.height/2),s=Math.PI*(i/180);return a.rotateAround(h,s),r.rotateAround(h,s),n.rotateAround(h,s),l.rotateAround(h,s),$r([a,r,n,l])}return sr(e,t)},an=function(e,t){var i=t;i=(i=i.replace(/yyyy|YYYY/,e.getFullYear())).replace(/yy|YY/,9<e.getYear()%100?(e.getYear()%100).toString():"0"+e.getYear()%100);var o=e.getMonth()+1;i=(i=(i=(i=(i=i.replace(/MM/,9<o?o.toString():"0"+o)).replace(/M/g,o)).replace(/w|W/g,["日","一","二","三","四","五","六"][e.getDay()])).replace(/dd|DD/,9<e.getDate()?e.getDate().toString():"0"+e.getDate())).replace(/d|D/g,e.getDate());var a=e.getHours();return i=(i=(i=(i=i.replace(/HH/,9<a?a.toString():"0"+a)).replace(/H/g,a)).replace(/A/g,12<=a?"PM":"AM")).replace(/Aa/g,12<=a?"pm":"am"),a=12<a?a%12:a,i=(i=(i=(i=(i=(i=i.replace(/hh/,9<a?a.toString():"0"+a)).replace(/h/g,a)).replace(/mm/,9<e.getMinutes()?e.getMinutes().toString():"0"+e.getMinutes())).replace(/m/g,e.getMinutes())).replace(/ss|SS/,9<e.getSeconds()?e.getSeconds().toString():"0"+e.getSeconds())).replace(/s|S/g,e.getSeconds())},rn=function(e,t){var i=e.x,o=e.y,a=e.width,r=e.height,n=t.x,l=t.y;return n=Math.max(n,i-1),n=Math.min(n,i+a+1),l=Math.max(l,o-1),{x:n,y:l=Math.min(l,o+r+1)}},nn=function(e,t){var i=1<arguments.length&&void 0!==t?t:.1,o=e.length,a=[],r=[];if(o<=2)return{points:e,segments:o?1===o?[1]:[1,2]:null};for(var n=0;n<o;n++){var l=e[n],h=e[n-1]||l,s=e[n+1]||l,u=new ht.Math.Vector2(e[n]),d=new ht.Math.Vector2(h),c=new ht.Math.Vector2(s).clone().sub(d).multiplyScalar(i);if(0===n){a.push({x:u.x,y:u.y});var g=u.clone().add(c);a.push({x:g.x,y:g.y}),r.push(1)}else if(n===o-1){var f=u.clone().sub(c);a.push({x:f.x,y:f.y}),a.push({x:u.x,y:u.y}),r.push(4)}else{var v=u.clone().sub(c),p=u.clone().add(c);a.push({x:h?Math.max(h.x,v.x):v.x,y:v.y}),a.push({x:u.x,y:u.y}),a.push({x:s?Math.min(s.x,p.x):p.x,y:p.y}),r.push(4)}}return{points:a,segments:r}},ln=function(){var i=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=(i+16*Math.random())%16|0;return i=Math.floor(i/16),("x"==e?t:3&t|8).toString(16)})},hn=function(e){return ht.Default.toColorData(e)},sn=function(e){return ht.Default.getImage(e)},un=function(e,t){return ht.Default.getDistance(e,t)},dn=function(e,t,i){if("object"!==(void 0===t?"undefined":De(t)))return t;var o=t.type,a=t.colorStops,r=t.coordinate,n=i.x,l=i.y,h=i.width,s=i.height,u=void 0;if("radial"===o){r=r||[0,0,.5,0,1,.5];var d=Math.min(h,s),c=[n+h*r[0],l+s*r[1],d*r[2],n+h*r[3],l+s*r[4],d*r[5]];u=e.createRadialGradient.apply(e,c),a.forEach(function(e){var t=e.offset,i=e.color;u.addColorStop(t,i)})}else{var g=[n+h*(r=r||[0,0,0,1])[0],l+s*r[1],n+h*r[2],l+s*r[3]];u=e.createLinearGradient.apply(e,g),a.forEach(function(e){var t=e.offset,i=e.color;u.addColorStop(t,i)})}return u},cn=function(e){var t=e.x,i=e.y,o=e.width,a=e.height,r=o/2,n=a/2;return{middleMiddle:{x:t+r,y:i+n},topMiddle:{x:t+r,y:i},bottomMiddle:{x:t+r,y:i+a},leftMiddle:{x:t,y:i+n},rightMiddle:{x:t+o,y:i+n}}},gn=function(e){return e.getZoom?e.getZoom():1},fn={comp:{button:function(e,t,i,o,a){var r=i.getValue("text"),n=i.getValue("disabled"),l=i.getValue("font"),h=i.getValue("icon"),s=i.getValue("iconPosition"),u=i.getValue("iconWidth"),d=i.getValue("iconHeight"),c=i.getValue("iconGap"),g=i.getColor("iconColor"),f=i.getColor("hoverIconColor"),v=i.getColor("activeIconColor"),p=i.getColor("textColor"),x=i.getColor("hoverTextColor"),b=i.getColor("activeTextColor"),y=i.getColor("disabledTextColor"),m=i.getValue("borderWidth"),w=i.getColor("borderColor"),C=i.getColor("hoverBorderColor"),k=i.getColor("activeBorderColor"),V=i.getColor("disabledBorderColor"),D=i.getColor("background"),I=i.getColor("hoverBackground"),T=i.getColor("activeBackground"),_=i.getColor("disabledBackground"),L=i.getValue("borderRadius"),S=i.getValue("handleClick"),R=Sr(a,o,i),P=dr($),A=Ie(P,4),M=(A[0],A[1],A[2],A[3],ur(L)),B=Ie(M,4),E=B[0],O=B[1],H=B[2],W=B[3],j=t.x,N=t.y,F=t.width,z=t.height;if(n?(D=_,w=V,p=y,m=m||1):(D=er(R,D,I,T,!0),w=er(R,w,C,k,!0),g=er(R,g,f,v,!1,!0),p=er(R,p,x,b,!0)),e.fillStyle=D,e.beginPath(),qr(e,j,N,F,z,E,O,W,H),e.closePath(),e.fill(),m&&w&&(e.strokeStyle=w,e.lineWidth=m,e.stroke()),!h&&Zr(r))J(e,r,l,p,j,N,F,z,"center","middle");else if(h&&!Zr(r))q(e,Q(h),"uniform",j+.5*(F-u),N+.5*(z-d),u,d,o,a,g);else if(h&&Zr(r)){var Y=sr(l,r),G=void 0,X=void 0;if(ue===s||de===s){var U=N+.5*(z-d-Y.height-c);G={x:j,height:Y.height,width:F},X={x:j+.5*(F-u),width:u,height:d},ue===s?(G.y=U+d+c,X.y=U):de===s&&(G.y=U,X.y=U+Y.height+c)}else{var Z=j+.5*(F-u-Y.width-c);G={width:Y.width,y:N,height:z},X={y:.5*(z-d),width:u,height:d},xe===s?(G.x=Z,X.x=Z+Y.width+c):(G.x=Z+u+c,X.x=Z)}J(e,r,l,p,G.x,G.y,G.width,G.height,"center","middle"),q(e,Q(h),"uniform",X.x,X.y,X.width,X.height,o,a,g)}R&&(R.disabled=n,R.onClick=S)},input:function(e,t,i,o,a){var r=i.getValue("value"),n=i.getValue("placeholder"),l=i.getColor("placeholderColor"),h=i.getValue("disabled"),s=i.getValue("borderWidth"),u=i.getColor("borderColor"),d=i.getValue("borderPattern"),c=i.getColor("focusBorderColor")||u,g=i.getValue("borderRadius"),f=i.getValue("padding"),v=i.getColor("background"),p=i.getColor("focusBackground")||v,x=i.getValue("icon"),b=i.getValue("iconWidth"),y=i.getValue("iconHeight"),m=i.getValue("iconAlign"),w=i.getValue("font"),C=i.getValue("textAlign"),k=i.getColor("textColor"),V=i.getValue("maxLength"),D=i.getValue("inputType"),I=i.getValue("enterEndInputable"),T=i.getValue("onKeyDown"),_=i.getValue("onKeyUp"),L=i.getValue("onChange"),S=i.getColor("disabledLayerColor")||"rgba(255, 255, 255, 0.35)",R=i.getValue("formatter"),P=Sr(a,o,i),A=P&&P.editing,M=P&&P.editingValue,B=ur(f),E=Ie(B,4),O=E[0],H=E[1],W=E[2],j=E[3],N=ur(g),F=Ie(N,4),z=F[0],Y=F[1],G=F[2],X=F[3],U=t.x,Z=t.y,K=t.width,J=t.height,q=void 0;if(o&&A?(q=p,u=c):q=v,e.beginPath(),qr(e,U,Z,K,J,z,Y,X,G),e.closePath(),q&&(e.fillStyle=q,e.fill()),(s&&u||A&&s&&c)&&(e.save(),e.strokeStyle=A?c:u,e.lineWidth=s,d&&d.length&&e.setLineDash(d),e.stroke(),e.restore()),r=(Zr(r)?r:"")+"",!M||!A){var Q=!r&&n,$=(R?R(r,o,a):r)||n||"",ee=r?k:l,te=Math.max(0,K-j-H),ie=Math.max(0,J-O-W),oe=U+j,ae=Z+O;A&&($=n||"",ee=l),$&&(e.save(),e.beginPath(),e.rect(oe,ae,te,ie),e.clip(),!Q&&o&&"password"===D&&($=function(){for(var e="",t=0;t<$.length;t++)e+="•";return e}()),le(e,$,w,ee,oe,Z+1,te,J,C,"middle"),e.restore())}if(x){var re=void 0;re="left"===m?U:"center"===m?U+.5*(K-b):U+K-b,he(e,se(x),"uniform",re,.5*(J-y),b,y,o,a)}if(h){var ne=s/2;e.beginPath(),qr(e,U-ne,Z-ne,K+s,J+s,z,Y,X,G),e.fillStyle=S,e.closePath(),e.fill()}P&&(P.disabled=h,P.font=w,P.value=r,P.placeholder=n,P.textAlign=C,P.maxLength=V,P.textColor=k,P.inputType=D,P.enterEndInputable=I,P.onKeyUp=_,P.onKeyDown=T,P.onChange=L,P.padding=f,P.selectTextOnFocus=i.getValue("selectTextOnFocus"))},inputNumber:function(e,t,i,o,a){var r=i.getValue("value"),n=i.getValue("placeholder"),l=i.getColor("placeholderColor"),h=i.getColor("min"),s=i.getColor("max"),u=i.getColor("step"),d=i.getValue("disabled"),c=i.getValue("borderWidth"),g=i.getColor("borderColor"),f=i.getColor("focusBorderColor")||g,v=i.getValue("borderRadius"),p=i.getValue("padding"),x=i.getColor("background"),b=i.getColor("focusBackground")||x,y=i.getValue("icon"),m=i.getValue("iconWidth"),w=i.getValue("iconHeight"),C=i.getValue("iconAlign"),k=i.getValue("font"),V=i.getValue("textAlign"),D=i.getColor("textColor"),I=i.getValue("maxLength"),T=i.getValue("enterEndInputable"),_=i.getValue("buttonVisible"),L=i.getValue("onKeyDown"),S=i.getValue("onKeyUp"),R=i.getValue("onChange"),P=i.getColor("disabledLayerColor")||"rgba(255, 255, 255, 0.35)",A=Sr(a,o,i),M=A&&A.editing,B=A&&A.editingValue,E=ur(p),O=Ie(E,4),H=O[0],W=O[1],j=O[2],N=O[3],F=ur(v),z=Ie(F,4),Y=z[0],G=z[1],X=z[2],U=z[3],Z=t.x,K=t.y,J=t.width,q=t.height,Q=void 0;if(o&&M?(Q=b,g=f):Q=x,e.beginPath(),qr(e,Z,K,J,q,Y,G,U,X),e.closePath(),Q&&(e.fillStyle=Q,e.fill()),(c&&g||M&&c&&f)&&(e.strokeStyle=M?f:g,e.lineWidth=c,e.stroke()),!B&&0!==B||!M){var $=Zr(r)?r:Zr(n)?n:"",ee=Zr(r)?D:l,te=Math.max(0,J-N-W),ie=Math.max(0,q-H-j),oe=Z+N,ae=K+H;M&&($=Zr(n)?n:"",ee=l),Zr($)&&(e.save(),e.beginPath(),e.rect(oe,ae,te,ie),e.clip(),at(e,$,k,ee,oe,K+1,te,q,V,"middle"),e.restore())}if(_){var re=Z+J-20,ne=K+c/2,le=q-c,he=5<le/2?2.5:le/2*.4;e.strokeStyle=g,e.beginPath(),e.moveTo(re,ne),e.lineTo(re,ne+le),e.moveTo(re,ne+le/2),e.lineTo(20+re,ne+le/2),e.stroke(),e.beginPath(),e.moveTo(6+re,ne+le/4+he),e.lineTo(10+re,ne+le/4-he),e.lineTo(14+re,ne+le/4+he),e.stroke(),e.beginPath(),e.moveTo(6+re,ne+le/4*3-he),e.lineTo(10+re,ne+le/4*3+he),e.lineTo(14+re,ne+le/4*3-he),e.stroke(),A&&(A.buttonRects=[{x:re,y:ne,width:20,height:q/2},{x:re,y:ne+q/2,width:20,height:q/2}])}if(y){var se=void 0;se="left"===C?Z:"center"===C?Z+.5*(J-m):Z+J-m,rt(e,nt(y),"uniform",se,.5*(q-w),m,w,o,a)}if(d){var ue=c/2;e.beginPath(),qr(e,Z-ue,K-ue,J+c,q+c,Y,G,U,X),e.fillStyle=P,e.closePath(),e.fill()}A&&(A.disabled=d,A.font=k,A.value=r,A.placeholder=n,A.textAlign=V,A.maxLength=I,A.textColor=D,A.enterEndInputable=T,A.onKeyUp=S,A.onKeyDown=L,A.onChange=R,A.padding=p,A.step=u,A.min=h,A.max=s,A.selectTextOnFocus=i.getValue("selectTextOnFocus"))},textarea:function(t,e,i,o,a){var r=i.getValue("value"),n=i.getValue("placeholder"),l=i.getColor("placeholderColor"),h=i.getValue("disabled"),s=i.getValue("borderWidth"),u=i.getColor("borderColor"),d=i.getValue("borderPattern"),c=i.getColor("focusBorderColor"),g=i.getValue("borderRadius"),f=i.getValue("padding"),v=i.getColor("background"),p=i.getColor("focusBackground")||v,x=i.getValue("textAlign"),b=i.getColor("textColor"),y=i.getValue("lineHeight"),m=i.getValue("font"),w=i.getValue("wordBreak"),C=i.getValue("maxLength"),k=i.getValue("enterEndInputable"),V=i.getValue("onKeyUp"),D=i.getValue("onKeyDown"),I=i.getValue("onChange"),T=i.getValue("formatter"),_=i.getColor("disabledLayerColor")||"rgba(255, 255, 255, 0.35)",L=Sr(a,o,i),S=L&&L.editing,R=L&&L.editingValue,P=ur(f),A=Ie(P,4),M=A[0],B=A[1],E=A[2],O=A[3],H=ur(g),W=Ie(H,4),j=W[0],N=W[1],F=W[2],z=W[3],Y=e.x,G=e.y,X=e.width,U=e.height,Z=void 0;if(o&&S?(Z=p,u=c):Z=v,t.beginPath(),qr(t,Y,G,X,U,j,N,z,F),t.closePath(),Z&&(t.fillStyle=Z,t.fill()),(s&&u||S&&s&&c)&&(t.save(),t.strokeStyle=S?c:u,t.lineWidth=s,d&&t.setLineDash(d),t.stroke(),t.restore()),r=(Zr(r)?r:"")+"",!R||!S){var K=(T?T(r,o,a):r)||n||"",J=r?b:l,q=Math.max(0,X-O-B),Q=Math.max(0,U-M-E);if(S&&(K=n||"",J=l),K){t.save(),t.beginPath(),t.rect(Y+O,G+M,q,Q),t.clip();var $=$a(K,m,q,w),ee=G+M;$.forEach(function(e){G+U<ee||(ie(t,e,m,J,Y+O,ee,q,y,x,"middle"),ee+=y)}),t.restore()}}if(h){var te=s/2;t.beginPath(),qr(t,Y-te,G-te,X+s,U+s,j,N,z,F),t.fillStyle=_,t.closePath(),t.fill()}L&&(L.disabled=h,L.font=m,L.value=r,L.placeholder=n,L.textAlign=x,L.maxLength=C,L.textColor=b,L.enterEndInputable=k,L.padding=f,L.wordBreak=w,L.onKeyUp=V,L.onKeyDown=D,L.onChange=I,L.lineHeight=y,L.selectTextOnFocus=i.getValue("selectTextOnFocus"))},radio:function(e,t,i,o,a){var r=i.getValue("disabled"),n=i.getValue("checked"),l=i.getColor("normalColor"),h=i.getColor("background"),s=i.getColor("activeColor"),u=i.getColor("disabledColor"),d=i.getColor("disabledBackground"),c=(i.getValue("symbol"),Sr(a,o,i)),g=n?s:l,f=t.x,v=t.y,p=t.width,x=t.height,b=Math.min(p,x);o&&(r?(g=u,h=d):c.pressed?n?g=ht.Default.darker(g,Te.activeDarker):h=ht.Default.darker(h,Te.activeDarker):c.hover&&(n?g=ht.Default.darker(g,Te.hoverDarker):h=ht.Default.darker(h,Te.hoverDarker))),h&&(e.beginPath(),e.fillStyle=h,e.arc(f+.5*p,v+.5*x,.5*b,0,2*Math.PI),e.fill()),e.beginPath(),e.strokeStyle=g,e.lineWidth=1.5,e.arc(f+.5*p,v+.5*x,.5*b,0,2*Math.PI),e.stroke(),n&&(e.beginPath(),e.fillStyle=g,e.arc(f+.5*p,v+.5*x,.25*b,0,2*Math.PI),e.fill()),o&&!o.__inputType&&(o.__inputType=y),c&&(c.disabled=r,c.onChange=i.getValue("onChange"),c.group=i.getValue("group"),c.value=i.getValue("value"))},checkbox:function(e,t,i,o,a){var r=i.getValue("checked"),n=i.getValue("disabled"),l=i.getColor("borderColor"),h=i.getColor("activeBorderColor"),s=i.getColor("disabledBorderColor"),u=i.getColor("background"),d=i.getColor("activeBackground"),c=i.getColor("disabledBackground"),g=i.getValue("borderRadius"),f=i.getColor("iconColor"),v=i.getColor("disabledIconColor"),p=Sr(a,o,i),x=t.x,b=t.y,y=t.width,m=t.height,w=Math.min(y,m);u=r?d:u,u=n?(l=s,f=v,c):er(o,u,null,null,!0),r&&!n&&(l=h),m<y?x+=.5*(y-m):y<m&&(b+=.5*(m-y)),e.beginPath(),qr(e,x,b,w,w,g),e.closePath(),u&&(e.fillStyle=u,e.fill()),e.strokeStyle=l,e.lineWidth=1,e.stroke(),r&&(e.beginPath(),e.moveTo(x+.125*w,b+.5*w),e.lineTo(x+w*(3/8),b+.75*w),e.lineTo(x+.8125*w,b+.25*w),e.lineWidth=Math.max(1,w/16),e.lineCap="round",e.strokeStyle=f,e.stroke()),o&&!o.__inputType&&(o.__inputType=C),p&&(p.disabled=n,p.checked=r,p.onChange=i.getValue("onChange"),p.group=i.getValue("group"),p.value=i.getValue("value"))},colorPicker:function(e,t,i,o,a){var r=i.getValue("disabled"),n=i.getValue("borderWidth"),l=i.getValue("borderColor"),h=i.getValue("disabledBorderColor"),s=i.getValue("focusBorderColor"),u=i.getValue("borderRadius"),d=i.getValue("textColor"),c=i.getValue("value"),g=i.getValue("font"),f=i.getValue("fullMode"),v=i.getValue("showDropDownIcon"),p=i.getValue("dropDownIcon"),x=i.getValue("dropDownIconColor"),b=i.getValue("dropDownIconWidth"),y=i.getValue("dropDownIconHeight"),m=i.getValue("onChange"),w=Sr(a,o,i),C=ur(u),k=Ie(C,4),V=k[0],D=k[1],I=k[2],T=k[3],_=t.x,L=t.y,S=t.width,R=t.height,P=_+S+5,A=L+R+5,M=!1,B=void 0;if(r?l=d=h:w&&w.editing&&s&&(l=s),e.save(),f){e.beginPath(),qr(e,_,L,S,R,V,D,T,I),e.closePath(),e.clip();for(var E=L,O=0;E<A;E+=5,O++){M=O%2!=0;for(var H=_;H<P;H+=5)e.fillStyle=M?X:G,e.fillRect(H,E,5,5),M=!M}}else{P=(B={x:_+4,y:L+4,width:1.66*(R-8),height:R-8}).x+B.width,A=B.y+B.height,e.beginPath(),e.rect(B.x,B.y,B.width,B.height),e.closePath(),e.clip();for(var W=B.y,j=0;W<A;W+=5,j++){M=j%2!=0;for(var N=B.x;N<P;N+=5)e.fillStyle=M?X:G,e.fillRect(N,W,5,5),M=!M}}e.restore(),e.beginPath(),qr(e,_,L,S,R,V,D,T,I),e.closePath(),c&&f?(e.fillStyle=c,e.fill()):c&&!f&&(e.fillStyle=c,e.fillRect(B.x,B.y,B.width,B.height),U.setColor(c),F(e,U,g,d,B.x+B.width+4,L,S-B.width-8,R,"left","middle")),n&&(e.lineWidth=n,e.strokeStyle=l,e.stroke()),v&&z(e,Y(p||"ht.vector.dropDownIcon"),"uniform",_+S-8-b,L+.5*(R-y),b,y,o,a,x),w&&(w.disabled=r,w.onChange=m)},comboBox:function(e,t,i,o,a){var r=i.getValue("value"),n=i.getValue("placeholder"),l=i.getValue("dataSource"),h=i.getValue("disabled"),s=i.getValue("borderWidth"),u=i.getColor("borderColor"),d=i.getColor("disabledBorderColor"),c=i.getColor("focusBorderColor"),g=i.getValue("borderRadius"),f=i.getValue("padding"),v=i.getColor("background"),p=i.getColor("disabledBackground"),x=i.getColor("focusBackground")||v,b=i.getValue("icon"),y=i.getValue("iconWidth"),m=i.getValue("iconHeight"),w=i.getValue("iconAlign"),C=i.getValue("font"),k=i.getValue("textAlign"),V=i.getColor("textColor"),D=i.getColor("disabledTextColor"),I=i.getValue("dropDownIcon"),T=i.getColor("dropDownIconColor"),_=i.getValue("dropDownIconWidth"),L=i.getValue("dropDownIconHeight"),S=i.getValue("drawUnMatchValue"),R=Sr(a,o,i),P=R&&R.editing,A=ur(f),M=Ie(A,4),B=M[0],E=M[1],O=M[2],H=M[3],W=ur(g),j=Ie(W,4),N=j[0],F=j[1],z=j[2],Y=j[3],G=t.x,X=t.y,U=t.width,Z=t.height,K=void 0;o?h?(K=p,u=d,V=D,s=s||1):P?(K=x,u=c):K=v:K=v,e.beginPath(),qr(e,G,X,U,Z,N,F,Y,z),e.closePath(),K&&(e.fillStyle=K,e.fill()),(s&&u||P&&s&&c)&&(e.strokeStyle=P?c:u,e.lineWidth=s,e.stroke());var J="";if(S)J=r;else if(!Ar(r)&&l)for(var q=0,Q=l.length;q<Q;q++)if(l[q].value===r){J=l[q].label,b=l[q].icon;break}J||(b=null,Ar(r)||(J=r+""));var $=J||n||"",ee=Math.max(0,U-H-E-_-8),te=Math.max(0,Z-B-O),ie=G+H,oe=X+B;if(Ar(r)&&!h&&(V=Te.placeholderColor),e.save(),e.beginPath(),e.rect(ie,oe,ee,te),e.clip(),re(e,$,C,V,b?ie+y:ie,oe,ee,te,k,"middle"),e.restore(),b){var ae=void 0;ae="left"===w?ie:"center"===w?G+.5*(U-y):G+U-y-E,ne(e,ce(b),"uniform",ae,.5*(Z-m),y,m,o,a)}ne(e,ce(I||"ht.vector.dropDownIcon"),"uniform",G+U-8-_,X+.5*(Z-L),_,L,o,a,T),R&&(R.disabled=h,R.dataSource=l,R.dropIconWidth=i.getValue("dropIconWidth"),R.dropIconHeight=i.getValue("dropIconHeight"),R.dropRowHeight=i.getValue("dropRowHeight"),R.dropWidth=i.getValue("dropWidth"),R.dropBackground=i.getValue("dropBackground"),R.dropLabelFont=i.getValue("dropLabelFont"),R.dropLabelColor=i.getValue("dropLabelColor"),R.dropActiveLabelColor=i.getValue("dropActiveLabelColor"),R.dropActiveBackground=i.getValue("dropActiveBackground"),R.dropHoverBackground=i.getValue("dropHoverBackground"),R.dropMaxHeight=i.getValue("dropMaxHeight"),R.onChange=i.getValue("onChange"),R.dropBorderColor=i.getValue("dropBorderColor"),R.dropBorderWidth=i.getValue("dropBorderWidth"))},gauge:function(e,t,i,o,a){var r=i.getValue("pointerRadius"),n=i.getColor("pointerColor"),l=i.getValue("value"),h=i.getValue("max"),s=i.getValue("showTick"),u=i.getValue("tickEvery"),d=i.getColor("tickColor"),c=i.getValue("tickWidth"),g=(i.getValue("tickRadius"),i.getValue("bigTickEvery")),f=i.getColor("bigTickColor"),v=i.getValue("bigTickWidth"),p=(i.getValue("bigTickRadius"),i.getValue("showLabel")),x=i.getValue("labelEvery"),b=i.getColor("labelColor"),y=i.getValue("labelFont"),m=i.getValue("labelRadius"),w=i.getValue("showShadow"),C=i.getValue("shadowBlur"),k=i.getColor("shadowColor"),V=i.getValue("shadowOffsetX"),D=i.getValue("shadowOffsetY");_e=i.getValue("clockwise"),Le=i.getValue("min"),ve=i.getValue("startAngle"),pe=i.getValue("endAngle"),oe=Math.abs(h-Le),ae=Math.abs(pe-ve);var I=t.x,T=t.y,_=t.width,L=t.height,S=Math.min(_,L)/2,R=ee(l,_e);if(e.save(),w&&(e.shadowColor=k,e.shadowBlur=C,e.shadowOffsetX=V,e.shadowOffsetY=D),e.translate(I+.5*_,T+.5*L),s){if(g){e.beginPath(),e.strokeStyle=f,e.lineWidth=v;for(var P=Le;P<=h;P+=g){var A=ee(P,_e),M=S*Math.cos(A),B=S*Math.sin(A);e.moveTo(.84*M,.84*B),e.lineTo(M,B)}e.stroke()}if(u){e.beginPath(),e.strokeStyle=d,e.lineWidth=c;for(var E=Le;E<=h;E+=u){var O=ee(E,_e),H=S*Math.cos(O),W=S*Math.sin(O);e.moveTo(.9*H,.9*W),e.lineTo(H,W)}e.stroke()}}if(p&&x){m=Z(m,S),e.font=y,e.fillStyle=b,e.textAlign="center",e.textBaseline="middle";for(var j=Le;j<=h;j+=x){var N=ee(j,_e),F=m*Math.cos(N),z=m*Math.sin(N);e.fillText(j,F,z)}}var Y=.05*(r=Z(r,S));e.rotate(R),e.beginPath(),e.moveTo(-1.5*Y,0),e.lineTo(0,-Y),e.lineTo(r,0),e.lineTo(0,Y),e.closePath(),e.fillStyle=n,e.fill(),e.restore()},table:function(p,x,o,b,y){var a,s=o.getValue("columns"),e=o.getValue("dataSource"),t=o.getColor("thBackground"),i=o.getColor("tdBackground"),m=o.getValue("thHeight"),u=o.getValue("tdHeight"),w=o.getValue("textLineHeight"),d=o.getColor("thColor"),C=o.getColor("tdColor"),c=o.getValue("thFont"),k=o.getValue("tdFont"),V=o.getValue("borderWidth"),r=o.getColor("borderColor"),n=o.getColor("columnLineColor"),D=o.getValue("columnLineWidth"),l=o.getValue("columnLinePattern"),h=o.getColor("rowLineColor"),I=o.getValue("rowLineWidth"),g=o.getValue("rowLinePattern"),T=o.getValue("showHeadRowLine"),_=o.getValue("cellPadding"),L=o.getValue("showHead"),S=o.getColor("hoverBackground"),R=o.getColor("hoverColor"),P=o.getColor("selectBackground"),A=o.getColor("selectColor"),M=o.getValue("translateY")||0,B=o.getValue("translateX")||0,f=o.getValue("scrollable"),v=o.getValue("autoHideScrollBar"),E=o.getColor("scrollBarColor"),O=o.getValue("scrollBarWidth"),H=o.getValue("scrollBarWidthAbsolute"),W=o.getValue("drawRow"),j=o.getValue("multiple"),N=o.getValue("onSelectRow"),F=o.getValue("onHoverCell"),z=o.getValue("onClickCell"),Y=o.getValue("onClickCellImage"),G=o.getValue("selectedIndex")||[],X=o.getValue("visibleFunc"),U=o.getValue("columnVisibleFunc"),Z=o.getValue("resizable"),K=o.getValue("resizeLineWidth"),J=o.getValue("resizeLineColor"),q=o.getValue("resizeInteractiveSize"),Q=o.getValue("showHeadColumnLineOnly"),$=Sr(y,b,o),ee=x.x,te=x.y,ie=x.width,oe=x.height,ae=ie-2*V,re=oe-2*V,ne=void 0,le=[],he=[],se=[],ue=[],de=[];if(L&&(ne=[ee+V,te+V,ae,m]),a=[ee+V,te+m*L+V,ie,re-m*L],Ar(G)||ht.Default.isArray(G)||(G=[G]),p.save(),p.beginPath(),p.rect(ee,te,ie,oe),p.clip(),t&&L&&(p.fillStyle=t,p.fillRect.apply(p,Me(ne))),i&&(p.fillStyle=i,p.fillRect.apply(p,Me(a))),s&&0<s.length&&(s.forEach(function(e,t){(U&&U(e,t,b,y)||!U)&&(se.push(e),ue.push(t))}),se.length)){var ce=se.length,ge=Ir(se,ae-D*(ce-1)),fe=e.length,ve=[],pe=[],xe=$.customColWidths||[],be=ee+V+B;if(L){var ye=1;y&&y.getZoom&&(ye=y.getZoom()),q*=1/ye;for(var me=function(e){var t=se[e],i=t.drawHeadCell,o=ge[e]-2*_,a=t.headColor||t.color||d,r=t.headFont||t.font||c;"function"==typeof a&&(a=a(t)),"function"==typeof r&&(r=r(t)),be+=_,p.save(),p.beginPath();var n,l=t.displayName||t.key,h=[be,te+V,o,m];p.rect.apply(p,h),p.clip(),n=function(){Ee.apply(void 0,[p,l,r,a].concat(h,[t.align||"left","middle"]))},i?i(p,l,Tr(h),{color:a,font:r,defaultDraw:n,data:b,column:t,colIndex:ue[e]}):n(),p.restore(),be+=o+D+_,pe.push({x:be-q/2-D/2,y:te,width:q,height:m})},we=0;we<ce;we++)me(we)}p.save(),p.beginPath(),p.rect(ee+V,te+V+(L?m:0),ae,re-m*L),p.clip();var Ce=te;if(e&&0<fe&&(e.forEach(function(e,t){(X&&X(e,t,b,y)||!X)&&(le.push(e),he.push(t))}),le.forEach(function(e,t){var r,n,l,i,o,h;ve.push((r=e,n=he[t],l=w,i=u,o=s,h=Math.max(l,i),o.forEach(function(e,t){var i=e.format,o=r[e.key];if(i&&(o=i(o,r,n,t)),"string"==typeof o){var a=o.match(Ne);a&&a.length&&(h=Math.max(h,l*(a.length+1)))}}),h))}),!j&&1<G.length&&(G=G.slice(0,1)),le.forEach(function(s,u){var d=he[u],c=ve[u],g=Ce+I*(d+T*L*1)+m*L+V+M,e={x:ee,y:g,width:ie,height:c};if(Ce+=c,be=ee+V+B,je(Tr(a),e)){p.save(),W&&W.call(o,p,s,d,e,he.indexOf(d),b,y);var f=$&&$.hoverIndex===d,v=G&&-1!==G.indexOf(d);v&&P?(p.fillStyle=P,p.fillRect(ee,g,ie,c)):!v&&f&&S&&(p.fillStyle=S,p.fillRect(ee,g,ie,c));for(var t=function(e){var a=se[e],t=ue[e],i=a.drawCell,r=ge[e]-2*_,n=a.bodyFont||a.font||k,l=a.bodyColor||a.color||C;if(v&&A&&(l=A),!v&&f&&R&&(l=R),"function"==typeof l&&(l=l(s[a.key],s)),"function"==typeof n&&(n=n(s[a.key],s)),!je({x:be+=_,y:g,width:r,height:c},x))return be+=r+D+_,"continue";var h=s[a.key];a.format&&(h=a.format(h,s,d,t)),p.save(),p.beginPath(),p.rect(be,g,r,c),p.clip();function o(){var e=a.isIcon;if(a.isIndex&&(e=!1,h=u+1),e)0<r&&Oe(p,He(h),"centerUniform",be,g+1,r,c-2,b,y);else{if(function(e){return e===undefined||e===null||e===""}(h))return;var t="string"==typeof h?h.match(Ne):null;if(t?t.length:0){var i=h.split(Ne),o=g;"middle"===a.vAlign?o=g+(c-i.length*w)/2:"bottom"===a.vAlign&&(o=g+(c-i.length*w)),i.forEach(function(e){Ee(p,e,n,l,be,o,r,w,a.align||"left",a.vAlign||"middle"),o+=w})}else Ee(p,h,n,l,be,g,r,c,a.align||"left",a.vAlign||"middle")}}i?i(p,h,{x:be,y:g,width:r,height:c},{column:a,colIndex:t,row:s,rowIndex:d,font:n,color:l,defaultDraw:o,data:b},de):o();be+=r+D+_,p.restore()},i=0;i<ce;i++)t(i);p.restore()}})),$&&($.rowHeights=ve,$.colWidths=ge,$.headHeight=L?m:0,$.rowLineWidth=I,$.columnLineWidth=D,$.translateX=B,$.translateY=M,$.autoHideScrollBar=v,$.multiple=j,$.selectedIndex=G,$.dataSource=e,$.columns=s,$.onSelectRow=N,$.onHoverCell=F,$.onClickCell=z,$.onClickCellImage=Y,$.rawDatas=le,$.rawIndexs=he,$.rawCols=se,$.rawColIndexs=ue,$.headRect=ne,$.bodyRect=a,$.resizable=Z,$.resizeRects=pe,$.customColWidths=xe,$.onClickHeadCell=o.getValue("onClickHeadCell"),$.pannable=o.getValue("pannable"),$.scrollBarInteractiveSize=o.getValue("scrollBarInteractiveSize"),$.scrollSpeed=o.getValue("scrollSpeed"),$.drawCellImageInfo=de),I){var ke=te+V+m*L+M;p.beginPath(),T&&L&&(ke+=I/2,p.moveTo(ee,ke),p.lineTo(ee+ie,ke),ke+=I/2);for(we=0;we<fe&&(ke+=ve[we]+I/2,!(te+oe<ke));we++)ke<te||(p.moveTo(ee,ke),p.lineTo(ee+ie,ke)),ke+=I/2;p.strokeStyle=h,p.lineWidth=I,g&&1<g.length&&p.setLineDash(g),p.stroke()}if(p.restore(),D){var Ve=ee+V+B,De=te+(Q&&L?m:oe);p.beginPath();for(var Ie=0;Ie<ce;Ie++)Ve+=ge[Ie]+D/2,p.moveTo(Ve,te),p.lineTo(Ve,De),Ve+=D/2;p.strokeStyle=n,p.lineWidth=D,l&&1<l.length&&p.setLineDash(l),p.stroke()}if(b&&$&&f){var Te=D?D*(ce-1):0,_e=I?(fe-1)*I:0;ge.forEach(function(e){Te+=e}),ve.forEach(function(e){_e+=e});var Le={x:ee+V,y:te+V+(L?m:0),width:ae,height:re-(L?m:0)},Se={width:Te,height:_e},Re={x:B,y:M},Pe=y.getZoom?y.getZoom():1;Be(p,Le,Se,Re,{visible:!v||$.scrollBarVisible,color:E,barWidth:H?O/Pe:O,gap:2/Pe},$)}}if(V&&We(p,r,ee,te,ie,oe,V),$.resizeDragPoint&&J&&K){var Ae=$.resizeDragPoint.x;p.strokeStyle=J,p.lineWidth=K,p.beginPath(),p.moveTo(Ae,te),p.lineTo(Ae,te+oe),p.stroke()}p.restore()},pie:function(V,e,t,i,o){var a=t.getValue("dataSource"),r=t.getValue("radius"),n=t.getValue("center"),D=t.getValue("startAngle"),l=t.getValue("endAngle"),h=t.getValue("tooltip.show"),s=t.getValue("tooltip.formatter"),I=t.getValue("roseType"),u=t.getValue("seriesName"),T=t.getValue("hoverOffset"),d=t.getValue("avoidLabelOverlap"),c=t.getValue("color"),g=t.getValue("minRoseRadius"),f=t.getValue("minAngle");if(a instanceof Array){l<D&&(l=D),360<l-D&&(l=D+360),D*=-Ya/180,l*=Ya/180;var v=e.x,p=e.y,x=e.width,b=e.height,y=Math.min(x,b),m=0,w=0,C=-D,k=Ie(r,2),_=k[0],L=void 0===_?0:_,S=k[1],R=void 0===S?.5:S,P=Ie(n,2),A=P[0],M=void 0===A?.5:A,B=P[1],E=void 0===B?.5:B,O=l-Math.abs(D);0<=L&&L<=1&&(L*=y/2),0<=R&&R<=1&&(R*=y/2),M=0<=M&&M<=1?M*x+v:M+v,E=0<=E&&E<=1?E*b+p:E+p;var H=(a=a.filter(function(){return 0<(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).value})).map(function(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).value||0}),W=H.reduce(function(e,t){return e+t},0),j=H.map(function(e){return e/W}),N=Math.max.apply(Math,Me(H)),F=R-L,z=H.map(function(e){var t=e/N*F;return t<g?g:t}),Y=j.map(function(e){return e*O}),G=O,X=0;if(f*=Ga,Y=Y.map(function(e,t){return e<f?(G-=f,f):(X+=H[t],e)}),G<=.001){var U=O/H.length;Y=Y.map(function(e,t){return U})}else{var Z=G/X;Y=Y.map(function(e,t){return e===f?f:H[t]*Z})}var K=Sr(o,i,t),J=[],q=void 0,Q=[],$=[],ee=[],te=[],ie=void 0;if(K){0<a.length&&(q=new Ha(t),a.forEach(function(e,t){if(e){var i=j[t],o=z[t],a=Y[t],r=C+a/2;m+=a,J.push(new Na({percent:i,roseRadius:o,lineAngle:r,arcAngle:a,arcEndAngle:m,arcStartAngle:w,seriesName:u,index:t,data:e,centerX:M,centerY:E,outerRadius:R,innerRadius:L,roseType:I,hoverOffset:T,color:c},q)),C+=a,w=m}}),C=-D,m=w=D),ie=K.foucusArcNum;for(var oe=0,ae=J.length;oe<ae;oe++){var re=J[oe].arcAngle;Q.push({x:M+R*Math.cos(C),y:E+R*Math.sin(C)}),$.push(re),C+=re,oe===ae-1&&(C=-D)}!function(e,t,i){for(var o=0,a=e.length;o<a;o++){var r=e[o],n=i===o,l=r.getLabelLinePoints(n),h=l.x0,s=l.y0,u=l.x1,d=l.y1,c=r.getLabelLineLabelInfo(n),g=c.labelTextArray,f=c.textHeight,v=c.beginHeight;t.push({x0:h,y0:s,x1:u,y1:d,labelTextArray:g,labelLineIsShow:n?r.labelLineEmphasis.show:r.labelLineNormal.show,lineLength2:n?r.labelLineEmphasis.length2:r.labelLineNormal.length2,oneTextHeight:f,allTextHeight:2*v})}}(J,ee,ie),d&&function(e,d,c,g){for(var t=[],i=[],o=0;o<e.length;o++)e[o].x0<d?t.push(e[o]):i.push(e[o]);function a(e,t){if(e.sort(function(e,t){return e.y0-t.y0}),0<(e=e.filter(function(e){if(e.labelLineIsShow)return e})).length){for(var i=e[0].allTextHeight/2+3,o=e[e.length-1].allTextHeight/2,a=g-i-o-3,r=e.length,n=0,l=0,h=e.length;l<h;l++){if(a<(n+=e[l].allTextHeight)){r=l;break}}var s=a/(r-1);s===1/0&&(s=0);for(var u=0;u<r;u++)e[u].avoidIsShow=!0,e[u].x1=d+t*(c+10),e[u].y1=i+u*s}}0<t.length&&a(t,-1),0<i.length&&a(i,1)}(ee,M,R,b);for(var ne=0,le=J.length;ne<le;ne++){var he=J[ne],se=(be=ie===ne)?he.labelLineEmphasis:he.labelLineNormal,ue=se.show,de=se.width,ce=se.type,ge=se.font,fe=se.lineColor,ve=se.textColor;if(he.value&&!1!==ue)if("continue"===function(){var e=ee[ne],t=e.x0,i=e.y0,o=e.x1,a=e.y1,r=e.oneTextHeight,n=e.allTextHeight,l=e.labelTextArray,h=e.lineLength2,s=e.avoidIsShow;if(d&&!s)return"continue";V.save(),V.lineWidth=de,V.font=ge,V.strokeStyle=fe,V.fillStyle=ve,V.setLineDash("dashed"===ce?[2,2]:[]);var u=o<=t?-1:1;V.textAlign=o<=t?"right":"left",V.textBaseline="top",V.beginPath(),0<de?(V.moveTo(t,i),d&&V.lineTo(M+u*(R+5),i),V.lineTo(o,a),o+=u*h,V.lineTo(o,a),V.stroke()):o+=u*h,l.forEach(function(e,t){V.fillText(e,o+3*u,a-n/2+r*t)}),V.restore()}())continue}V.save(),V.translate(M,E),V.rotate(-D),Ce("fill"),Ce("stroke"),V.restore(),function(e,t){for(var i=0,o=e.length;i<o;i++){var a=e[i].getLabelPoints(),r=a.textX,n=a.textY;t.push({textX:r,textY:n})}}(J,te),V.save(),V.textAlign="center",V.textBaseline="top";for(var pe=0,xe=J.length;pe<xe;pe++){he=J[pe];var be,ye=(be=ie===pe)?he.labelEmphasis:he.labelNormal,me=(ue=ye.show,ye.position),we=ye.color;ge=ye.font;he.value&&!1!==ue&&function(){V.save(),V.font=ge,V.fillStyle=we;var e=te[pe],i="center"===me?M:e.textX,o="center"===me?E:e.textY,t=he.getLabelInfo(be),a=t.labelTextArray,r=t.textHeight,n=t.beginHeight;a.forEach(function(e,t){V.fillText(e,i,o-n+r*t)}),V.restore()}()}V.restore(),K&&(K.arcPoints=Q,K.arcAngles=$,K.center={x:M,y:E},K.radius={outerRadius:R,innerRadius:L},K.hoverOffset=T,K.tooltip={show:!za(h)||h,formatter:s||""},K.pieItems=J)}}function Ce(e){for(var t=0,i=J.length;t<i;t++){var o=J[t],a=o.arcEndAngle,r=o.arcStartAngle,n=o.roseRadius,l=o.itemStyle,h=l.color,s=l.borderWidth,u=l.borderColor,d=l.borderType,c=void 0;if(o.value&&("stroke"===e&&0<s||"fill"===e)){if(V.save(),V.beginPath(),V.moveTo(L*Math.cos(r),L*Math.sin(r)),ie===t?(c=I?n+T+L:R+T,V.arc(0,0,c,r,a,!1),V.arc(0,0,L,a,r,!0),"fill"===e&&(V.globalAlpha=.9,V.shadowBlur=10,V.shadowColor="rgba(0, 0, 0, 0.5)")):(c=I?n+L:R,V.arc(0,0,c,r,a,!1),V.arc(0,0,L,a,r,!0)),V.closePath(),"fill"===e){if("string"==typeof h)V.fillStyle=h;else if("object"===(void 0===h?"undefined":De(h))){var g=h.type,f=h.colorStops,v=null;if("radial"===g)v=V.createRadialGradient(0,0,L,0,0,c);else if("linear"===g){var p=Ba(o,D),x=p.minY,b=p.maxY;v=V.createLinearGradient(0,x,0,b)}if(v&&f instanceof Array){for(var y=0,m=f.length;y<m;y++){var w=f[y],C=w.offset,k=w.color;void 0!==C&&void 0!==k&&v.addColorStop(C,k)}V.fillStyle=v}}V.fill()}else"stroke"===e&&(V.strokeStyle=u,V.lineWidth=s,V.setLineDash("dashed"===d?[2,2]:[]),V.stroke());V.globalAlpha=1,V.restore()}}}},ruler:function(u,d,c,g,f){c.getValue("value");var v=c.getValue("max"),p=c.getValue("min"),e=c.getValue("labelEvery"),t=c.getValue("labelFont"),i=c.getColor("labelColor"),o=c.getValue("labelAlign"),a=c.getValue("labelDistance"),r=c.getValue("labelOffsetX"),n=c.getValue("labelOffsetY"),l=c.getValue("labelFormatter"),x=c.getValue("direction"),b=c.getValue("paddingBefore"),y=c.getValue("paddingAfter"),h=c.getColor("background"),s=c.getValue("smallTickEvery"),m=c.getColor("smallTickColor"),w=c.getValue("smallTickWidth"),C=c.getValue("smallTickLongness"),k=c.getValue("mediumTickEvery"),V=c.getColor("mediumTickColor"),D=c.getValue("mediumTickWidth"),I=c.getValue("mediumTickLongness"),T=c.getValue("largeTickEvery"),_=c.getColor("largeTickColor"),L=c.getValue("largeTickWidth"),S=c.getValue("largeTickLongness"),R=c.getValue("reverse"),P=c.getValue("cursors"),A=d.x,M=d.y,B=d.width,E=d.height;h&&(u.fillStyle=h,u.fillRect(A,M,B,E));var O=v-p,H=E;x!==be&&x!==xe||(H=B);var W=[{every:s,color:m,longness:C,width:w},{every:k,color:V,longness:I,width:D},{every:T,color:_,longness:S,width:L}];if(R){if(W.forEach(function(e){if(e.every){var t=Se(e.longness,H);if(u.beginPath(),u.strokeStyle=e.color,u.lineWidth=e.width,x===ue||x===de){var i=A+B-b,o=(B-b-y)*(e.every/O),a=x===ue?M:M+E;x===de&&(t=0-t);for(var r=p;r<=v;r+=e.every)u.moveTo(i,a),u.lineTo(i,a+t),i-=o}else{var n=M+E-b,l=(E-b-y)*(e.every/O),h=x===be?A:A+B;x===xe&&(t=0-t);for(var s=p;s<=v;s+=e.every)u.moveTo(h,n),u.lineTo(h+t,n),n-=l}u.stroke()}}),e){var j=Se(a,H);if(u.fillStyle=i,u.font=t,x===ue||x===de){var N=A+B-b+r,F=e/O*(B-b-y),z=(x===ue?M:M+E)+n;if(x===de)j=0-j-sr(t,"1").height;else u.textBaseline="hanging";for(var Y=p;Y<=v;Y+=e){var G=l?l(Y):Y,X=sr(t,G);o===ge?Re(u,G,t,i,N-.5*X.width,z+j,X.width,X.height,o,"middle"):o===xe?u.fillText(G,N-sr(t,G).width+2,z+j):o===be&&u.fillText(G,N,z+j),N-=F}}else{var U=M+E-b+n,Z=e/O*(E-b-y),K=(x===be?A:A+B)+r;u.textBaseline="middle",x===xe&&(j=0-j);for(var J=p;J<=v;J+=e){var q=l?l(J):J+"";x===xe?u.fillText(q,K+j-sr(t,q).width+2,U):u.fillText(q,K+j,U),U-=Z}}}P&&P.forEach(function(e){var t=e.value,i=e.color,o=void 0===i?"red":i,a=e.size,r=void 0===a?2:a,n=e.drawTop,l=void 0;if(x===ue||x===de){var h=B-y-b;l=[A+h+b-(t-p)/O*h-r/2,M,r,E]}else{var s=E-b-y;l=[A,M+s+b-(t-p)/O*s-r/2,B,r]}u.fillStyle=o,u.fillRect.apply(u,Me(l)),n&&n(u,d,{x:l[0],y:l[1],width:l[2],height:l[3]},c,g,f)})}else{if(W.forEach(function(e){if(e.every){var t=Se(e.longness,H);if(u.beginPath(),u.strokeStyle=e.color,u.lineWidth=e.width,x===ue||x===de){var i=A+b,o=(B-b-y)*(e.every/O),a=x===ue?M:M+E;x===de&&(t=0-t);for(var r=p;r<=v;r+=e.every)u.moveTo(i,a),u.lineTo(i,a+t),i+=o}else{var n=M+b,l=(E-b-y)*(e.every/O),h=x===be?A:A+B;x===xe&&(t=0-t);for(var s=p;s<=v;s+=e.every)u.moveTo(h,n),u.lineTo(h+t,n),n+=l}u.stroke()}}),e){var Q=Se(a,H);if(u.fillStyle=i,u.font=t,x===ue||x===de){var $=A+b+r,ee=e/O*(B-b-y),te=(x===ue?M:M+E)+n;if(x===de)Q=0-Q-sr(t,"1").height;else u.textBaseline="hanging";for(var ie=p;ie<=v;ie+=e){var oe=l?l(ie):ie,ae=sr(t,oe);o===ge?Re(u,oe,t,i,$-.5*ae.width,te+Q,ae.width,ae.height,o,"middle"):o===xe?u.fillText(oe,$-ae.width+2,te+Q):o===be&&u.fillText(oe,$,te+Q),$+=ee}}else{var re=M+b+n,ne=e/O*(E-b-y),le=(x===be?A:A+B)+r;u.textBaseline="middle",x===xe&&(Q=0-Q);for(var he=p;he<=v;he+=e){var se=l?l(he):he+"";x===xe?u.fillText(se,le+Q-sr(t,se).width+2,re):u.fillText(se,le+Q,re),re+=ne}}}P&&P.forEach(function(e){var t=e.value,i=e.color,o=void 0===i?"red":i,a=e.size,r=void 0===a?2:a,n=e.drawTop,l=void 0;x===ue||x===de?l=[A+b+(t-p)/O*(B-y-b)-r/2,M,r,E]:l=[A,M+b+(t-p)/O*(E-b-y)-r/2,B,r];u.fillStyle=o,u.fillRect.apply(u,Me(l)),n&&n(u,d,{x:l[0],y:l[1],width:l[2],height:l[3]},c,g,f)})}},multilineText:function(i,e,t,o,a){var r=t.getValue("content"),n=t.getValue("font"),l=t.getValue("textAlign"),h=t.getValue("color"),s=t.getValue("lineHeight"),u=t.getColor("background"),d=t.getValue("padding"),c=t.getColor("borderColor"),g=t.getValue("borderWidth"),f=t.getValue("borderRadius"),v=t.getValue("dash"),p=t.getValue("dashPattern"),x=e.x,b=e.y,y=e.width,m=e.height,w=ur(d),C=Ie(w,4),k=C[0],V=C[1],D=C[2],I=C[3],T=ur(f),_=Ie(T,4),L=_[0],S=_[1],R=_[2],P=_[3];i.beginPath(),qr(i,x,b,y,m,L,S,P,R),i.closePath(),Vr(i,{borderWidth:g,borderColor:c,dash:v,dashPattern:p,background:u});var A=I,M=k,B=0,E=y-I-V,O=r.split(/\n/),H=O.length*s+k+D,W=I+k;O.forEach(function(e){var t=sr(n,e);B=Math.max(B,t.width),j(i,e,n,h,A,M,E,s,l,"middle"),M+=s}),W+=B,o&&o.constructor===ht.Node&&(o.getWidth()===W&&o.getHeight()===H||(o.setSize(W,H),o.setSize3d(W,100,H)))},slider:function(e,t,i,o,a){var r=i.getValue("min"),n=i.getValue("max"),l=i.getValue("value"),h=i.getValue("step"),s=i.getValue("sliderImage"),u=i.getValue("sliderBorderWidth"),d=i.getValue("sliderBorderRadius"),c=i.getColor("sliderBorderColor"),g=i.getColor("sliderBackground"),f=i.getValue("sliderWidth"),v=i.getValue("sliderHeight"),p=i.getValue("sliderOffsetX"),x=i.getValue("sliderOffsetY"),b=i.getColor("barBackground"),y=i.getColor("barValueBackground"),m=i.getValue("barGradient"),w=i.getColor("barGradientColor"),C=i.getValue("barWidth"),k=i.getValue("barBorderRadius"),V=i.getValue("padding"),D=i.getValue("disabled"),I=i.getColor("disabledLayerColor"),T=i.getColor("showToolTip"),_=i.getColor("toolTipFormat"),L=Sr(a,o,i);l=Math.min(n,Math.max(r,l));var S=t.x,R=t.y,P=t.width,A=t.height,M=Math.abs(n-r),B={x:S+V,y:R+(A-C)/2,width:P-2*V,height:C};k<1&&(k*=C),zr(e,B,b,k);var E=ht.Default.clone(B);E.width*=(l-r)/M,m&&(y=ht.Default.createGradient(e,m,y,w,B.x,B.y,B.width,B.height)),zr(e,E,y,k);var O=E.x+E.width-f/2+p,H=E.y+(C-v)/2+x;s?W(e,ht.Default.getImage(s),O,H,f,v):(d<1&&(d*=Math.min(f,v)),e.beginPath(),qr(e,O,H,f,v,d),e.closePath(),e.fillStyle=g,e.fill(),u&&(e.lineWidth=u,e.strokeStyle=c,e.stroke())),D&&(e.fillStyle=I,e.fillRect(S,R,P,A)),L&&(L.disabled=D,L.value=l,L.max=n,L.min=r,L.step=h,L.showToolTip=T,L.toolTipFormat=_,L.barRect=B,L.onChange=i.getValue("onChange"),L.sliderRect={x:O,y:H,width:f,height:v})},rangeSlider:function(e,t,i,o,a){var r=i.getValue("min"),n=i.getValue("max"),l=i.getValue("value"),h=i.getValue("step"),s=i.getValue("sliderImage"),u=i.getValue("sliderBorderWidth"),d=i.getValue("sliderBorderRadius"),c=i.getColor("sliderBorderColor"),g=i.getColor("sliderBackground"),f=i.getValue("sliderWidth"),v=i.getValue("sliderHeight"),p=i.getValue("sliderOffsetX"),x=i.getValue("sliderOffsetY"),b=i.getColor("barBackground"),y=i.getColor("barValueBackground"),m=i.getValue("barGradient"),w=i.getColor("barGradientColor"),C=i.getValue("barWidth"),k=i.getValue("barBorderRadius"),V=i.getValue("padding"),D=i.getValue("disabled"),I=i.getColor("disabledLayerColor"),T=i.getColor("showToolTip"),_=i.getColor("toolTipFormat"),L=Sr(a,o,i),S=t.x,R=t.y,P=t.width,A=t.height,M=Ie(l,2),B=M[0],E=M[1];B=Math.max(r,B),E=Math.min(n,E);var O=Math.abs(n-r),H={x:S+V,y:R+(A-C)/2,width:P-2*V,height:C};k<1&&(k*=C),zr(e,H,b,k);var W=ht.Default.clone(H);W.width*=(E-B)/O,W.x+=(B-r)/O*H.width,m&&(y=ht.Default.createGradient(e,m,y,w,H.x,H.y,H.width,H.height)),zr(e,W,y,k);var j=W.x-f/2+p,N=W.x+W.width-f/2+p,F=W.y+(C-v)/2+x;s?(Ae(e,ht.Default.getImage(s),j,F,f,v),Ae(e,ht.Default.getImage(s),N,F,f,v)):(d<1&&(d*=Math.min(f,v)),e.beginPath(),qr(e,j,F,f,v,d),e.closePath(),e.fillStyle=g,e.fill(),u&&(e.lineWidth=u,e.strokeStyle=c,e.stroke()),e.beginPath(),qr(e,N,F,f,v,d),e.closePath(),e.fillStyle=g,e.fill(),u&&(e.lineWidth=u,e.strokeStyle=c,e.stroke())),D&&(e.fillStyle=I,e.fillRect(S,R,P,A)),L&&(L.disabled=D,L.value=l,L.max=n,L.min=r,L.step=h,L.valueBarDraggable=i.getValue("valueBarDraggable"),L.onChange=i.getValue("onChange"),L.showToolTip=T,L.toolTipFormat=_,L.barRect=H,L.valueBarRect=W,L.sliderRect={x:j,y:F,width:f,height:v},L.sliderRect2={x:N,y:F,width:f,height:v})},multipleComboBox:function(r,e,t,i,o){var a=t.getValue("value"),n=t.getValue("dataSource"),l=t.getValue("placeholder"),h=t.getValue("disabled"),s=t.getValue("borderWidth"),u=t.getColor("borderColor"),d=t.getColor("focusBorderColor"),c=t.getValue("borderRadius"),g=t.getColor("background"),f=t.getColor("focusBackground")||g,v=t.getColor("disabledLayerColor"),p=t.getValue("itemFont"),x=t.getColor("itemTextColor"),b=t.getColor("itemBorderWidth"),y=t.getColor("itemBorderColor"),m=t.getColor("itemBorderRadius"),w=t.getColor("itemBackground"),C=t.getColor("itemGradient"),k=t.getColor("itemGradientColor"),V=t.getValue("itemPadding"),D=t.getValue("itemHGap"),I=t.getValue("itemVGap"),T=t.getValue("closeIconOnLeft"),_=t.getValue("closeIconSize"),L=t.getColor("closeIconColor"),S=t.getValue("padding"),R=Sr(o,i,t),P=R&&R.editing,A=e.x,M=e.y,B=e.width,E=e.height,O=ur(S),H=Ie(O,4),W=H[0],j=H[1],N=H[2],F=H[3],z=ur(c),Y=Ie(z,4),G=Y[0],X=Y[1],U=Y[2],Z=Y[3],K=void 0;i&&P?(K=f,u=d):K=g,r.beginPath(),qr(r,A,M,B,E,G,X,Z,U),r.closePath(),K&&(r.fillStyle=K,r.fill()),(s&&u||P&&s&&d)&&(r.strokeStyle=P?d:u,r.lineWidth=s,r.stroke());var J=[];a&&n&&a.forEach(function(e){for(var t=0;t<n.length;t++)if(e===n[t].value){J.push(n[t]);break}});var q=[],Q=ur(V),$=Ie(Q,4),ee=$[0],te=$[1],ie=$[2],oe=$[3],ae=[A+F-b/2,M+W-b/2,B-F-j+b,E-W-N+b+1];r.save(),r.beginPath(),r.rect.apply(r,ae),r.clip();var re=1,ne=void 0;if(0<J.length){var le=[A+F+b/2,M+W+b/2,B-F-j-b,E-W-N-b],he=le[0],se=le[1],ue=0,de=ur(m),ce=Ie(de,4),ge=ce[0],fe=ce[1],ve=ce[2],pe=ce[3],xe=w;J.forEach(function(e){var t=e.label||e.value,i=sr(p,t);ne=ne||i.height,ue&&he+i.width+D+b+7>le[0]+le[2]&&(he=le[ue=0],se+=ne+I+b+ee+ie,re++);var o=[he,se,i.width+oe+te+_+2,i.height+ee+ie];b&&(r.beginPath(),r.strokeStyle=y,qr.apply(void 0,[r].concat(o,[ge,fe,pe,ve])),r.closePath(),w&&(C&&k&&(xe=ze.apply(void 0,[r,C,w,k].concat(o))),r.fillStyle=xe,r.fill()),r.stroke());var a=[o[0]+oe+i.width+2,o[1]+ee,_,o[3]-ie-ee];T&&(a[0]=o[0]+oe,o[0]+=_+2),o[2]=o[2]-_-2,q.push({value:e.value,rect:a}),r.beginPath(),r.strokeStyle=L,r.lineCap="round",r.moveTo(a[0],a[1]+(a[3]-_)/2),r.lineTo(a[0]+a[2],a[1]+(a[3]-_)/2+_),r.moveTo(a[0]+a[2],a[1]+(a[3]-_)/2),r.lineTo(a[0],a[1]+(a[3]-_)/2+_),r.stroke(),Fe.apply(void 0,[r,t,p,x].concat(o,["center","middle"])),he+=i.width+D+b+oe+te+_+2,ue++})}else if(l){var be=sr(p,l),ye=[A+F,M+W,B-F-j,be.height+ee+ie];Fe.apply(void 0,[r,l,p,Te.placeholderColor].concat(ye,["left","middle"])),ne=be.height}if(r.restore(),h){var me=[A-s/2,M-s/2,B+s,E+s];r.save(),r.beginPath(),qr.apply(void 0,[r].concat(me,[G,X,Z,U])),r.clip(),r.fillStyle=v,r.fill(),r.restore()}i&&(i.__suggestHeight=W+N+(ee+ie+ne)*re+I*(re-1)),R&&(R.value=a,R.valueItemInfo=q,R.disabled=h,R.dataSource=n,R.dropIconWidth=t.getValue("dropIconWidth"),R.dropIconHeight=t.getValue("dropIconHeight"),R.dropRowHeight=t.getValue("dropRowHeight"),R.dropWidth=t.getValue("dropWidth"),R.dropBackground=t.getValue("dropBackground"),R.dropLabelFont=t.getValue("dropLabelFont"),R.dropLabelColor=t.getValue("dropLabelColor"),R.dropActiveLabelColor=t.getValue("dropActiveLabelColor"),R.dropActiveBackground=t.getValue("dropActiveBackground"),R.dropHoverBackground=t.getValue("dropHoverBackground"),R.dropMaxHeight=t.getValue("dropMaxHeight"),R.onChange=t.getValue("onChange"),R.hideSelected=t.getValue("hideSelected"),R.maxSelection=t.getValue("maxSelection"))},richTextPane:function(h,e,t,s,u){var i=t.getValue("content"),o=t.getColor("background"),a=t.getValue("bgGradient"),r=t.getColor("bgGradientColor"),n=t.getValue("showArrow"),d=t.getValue("arrowOrientation"),l=t.getValue("arrowPosition"),c=t.getValue("padding"),g=t.getValue("vGap"),f=t.getValue("hGap"),v=t.getValue("font"),p=t.getValue("color"),x=t.getColor("borderColor"),b=t.getValue("borderWidth")||0,y=t.getValue("dash"),m=t.getValue("dashPattern"),w=t.getValue("vAlign"),C=ur(c),k=Ie(C,4),V=k[0],D=(k[1],k[2],k[3]),I=e.x+b/2,T=e.y+b/2,_=e.width-b,L=e.height-b,S=[I,T,_,L];if(h.save(),n)if(h.beginPath(),de===d){var R=_-10;h.moveTo(I,T),h.lineTo(I+_,T),h.lineTo(I+_,T+L-10),h.lineTo(I+R*l+10,T+L-10),h.lineTo(I+R*l+5,T+L),h.lineTo(I+R*l,T+L-10),h.lineTo(I,T+L-10),h.closePath(),S=[I,T,_,L-10]}else if(be===d){var P=L-10;h.moveTo(I+10,T),h.lineTo(I+_,T),h.lineTo(I+_,T+L),h.lineTo(I+10,T+L),h.lineTo(I+10,T+P*l+10),h.lineTo(I,T+P*l+5),h.lineTo(I+10,T+P*l),h.closePath(),S=[I+10,T,_-10,L]}else if(xe===d){var A=L-10;h.moveTo(I,T),h.lineTo(I+_-10,T),h.lineTo(I+_-10,T+A*l),h.lineTo(I+_,T+A*l+5),h.lineTo(I+_-10,T+A*l+10),h.lineTo(I+_-10,T+L),h.lineTo(I,T+L),h.closePath(),S=[I,T,_-10,L]}else{var M=_-10;h.moveTo(I+M*l,T+10),h.lineTo(I+M*l+5,T),h.lineTo(I+M*l+10,T+10),h.lineTo(I+_,T+10),h.lineTo(I+_,T+L),h.lineTo(I,T+L),h.lineTo(I,T+10),h.closePath(),S=[I,T+10,_,L-10]}else h.beginPath(),h.rect(I,T,_,L);if(Vr(h,{borderWidth:b,borderColor:x,background:o,bgGradient:a,bgGradientColor:r,contentRect:S,dash:y,dashPattern:m}),o){var B;if(a)o=(B=ht.Default).createGradient.apply(B,[h,a,o,r].concat(Me(S)));h.fillStyle=o,h.fill()}if(x&&b&&(h.lineWidth=b,h.strokeStyle=x,h.stroke()),h.textAlign="left",i){i.length;var E=T+V+(d===ue?10:0);i.forEach(function(e,t){var r=I+D+(d===be?10:0),n=0,l=(i.length,[]);e.forEach(function(e,t){var i=Fr(e.text,s,u),o=sr(e.font||v,i);n=Math.max(n,o.height),o.width,l[t]=o.width}),e.forEach(function(e,t){var i=Fr(e.text,s,u),o=Fr(e.font,s,u)||v,a=Fr(e.vAlign,s,u)||w;h.fillStyle=Fr(e.color,s,u)||p,h.font=o,"top"===(h.textBaseline=a)?h.fillText(i,r,E):"middle"===a?h.fillText(i,r,E+n/2):h.fillText(i,r,E+n),r+=l[t]+f}),E+=g+n})}h.restore()},textBox:function(o,e,t,i,a){var r=t.getValue("content"),n=t.getValue("autoScale"),l=t.getValue("font"),h=t.getValue("wordBreak"),s=t.getValue("vAlign"),u=t.getColor("color"),d=t.getValue("lineHeight"),c=t.getValue("textAlign"),g=t.getValue("padding"),f=t.getColor("background"),v=t.getValue("fillContent"),p=t.getColor("borderColor"),x=t.getValue("borderWidth"),b=t.getValue("borderRadius"),y=t.getValue("dash"),m=t.getValue("dashPattern"),w=t.getValue("bgGradient"),C=t.getColor("bgGradientColor"),k=t.getValue("translateX"),V=t.getValue("translateY"),D=t.getColor("scrollBarColor"),I=t.getValue("scrollable"),T=t.getValue("autoHideScrollBar"),_=t.getValue("scrollBarWidth"),L=t.getValue("scrollBarWidthAbsolute"),S=t.getValue("underline"),R=ur(g),P=Ie(R,4),A=P[0],M=P[1],B=P[2],E=P[3],O=ur(b),H=Ie(O,4),W=H[0],j=H[1],N=H[2],F=H[3];if(o.beginPath(),qr(o,e.x,e.y,e.width,e.height,W,j,F,N),o.closePath(),Vr(o,{borderWidth:x,borderColor:p,dash:y,dashPattern:m,background:f,bgGradient:w,bgGradientColor:C,contentRect:[e.x,e.y,e.width,e.height]}),r&&i){o.save();var z=e.x,Y=e.y,G=z+E,X=Y+A,U=parseInt(e.width)-E-M,Z=parseInt(e.height)-A-B,K=$a(r,l,U,h);if(n&&K.length*d>Z){var J=U+"-"+Z+l+d,q=st[J];q=q||(st[J]={});var Q=0,$=0,ee=void 0,te=void 0,ie=void 0,oe=void 0,ae=void 0,re=void 0;if(s="top",q&&q[r])te=1/(ee=q[r]),oe=ee*d,re=parseInt(U*te),o.scale(ee,ee),K=$a(r,l,re,h);else{for(;Q<4;){if(te=1/(ee=Math.sqrt(Z/((K.length+$)*d))),oe=ee*d,re=parseInt(U*te),ae&&o.scale(ae,ae),o.scale(ee,ee),(ie=$a(r,l,re,h)).length*oe>Z)$+=Math.ceil((ie.length*oe-Z)/oe+.5),ae=te;else{if(!(ie.length*oe<Z&&Math.abs(Z-ie.length*oe)>2*oe)){K=ie;break}$-=Math.floor((Z-ie.length*oe)/oe),ae=te}4==++Q&&(K=ie)}q[r]=ee}G=(z+E)*te,X=(Y+A)*te,K.forEach(function(e,t){if(ht.Default.drawText(o,e,l,u,G,X,re,oe,c,s),S){var i=sr(l,e);lt(o,{x:G,y:X,height:d,width:re},i.width,c,u)}X+=d})}else if(v&&(K.length+1)*d<Z){var ne=U+"-"+Z+l+d,le=st[ne];le=le||(st[ne]={});var he=0,se=void 0,ue=void 0,de=void 0,ce=void 0,ge=void 0,fe=void 0;if(s="top",le&&le[r])ue=1/(se=le[r]),ce=se*d,fe=parseInt(U*ue),o.scale(se,se),K=$a(r,l,fe,h);else{for(var ve=Math.sqrt(Z/(K.length*d));he<4;){if(ue=1/(se=ve),ce=se*d,fe=parseInt(U*ue),ge&&o.scale(ge,ge),o.scale(se,se),!((de=$a(r,l,fe,h)).length*ce>Z||de.length*ce<Z&&Z-de.length*ce>.8*ce)){K=de;break}ge=ue,ve*=Math.sqrt(Z/(de.length*ce)),4==++he&&(K=de)}le[r]=se}G=(z+E)*ue,X=(Y+A)*ue,K.forEach(function(e,t){if(ht.Default.drawText(o,e,l,u,G,X,fe,ce,c,s),S){var i=sr(l,e);lt(o,{x:G,y:X,height:d,width:fe},i.width,c,u)}X+=d})}else if(!n&&I){var pe=z+E,xe=Y+A,be=xe-d,ye=xe+Z+d;o.save(),o.beginPath(),o.rect(pe,xe,U,Z),o.clip(),X+=V,K.forEach(function(e,t){if(be<=X&&X<ye&&(ht.Default.drawText(o,e,l,u,G,X,U,d,c,s),S)){var i=sr(l,e);lt(o,{x:G,y:X,height:d,width:U},i.width,c,u)}X+=d}),o.restore();var me=Sr(a,i,t),we=U,Ce=K.length*d,ke=a.getZoom?a.getZoom():1,Ve=L?_/ke:_;me&&(me.translateX=k,me.translateY=V,me.autoHideScrollBar=T),Be(o,{x:G,y:Y+A,width:U,height:Z},{width:we,height:Ce},{x:k,y:V},{visible:!T||me.scrollBarVisible,color:D,gap:0,barWidth:Ve},me||{})}else"middle"===s?X+=(Z-K.length*d)/2:"bottom"===s&&(X+=Z-K.length*d),K.forEach(function(e,t){if(ht.Default.drawText(o,e,l,u,G,X,U,d,c,s),S){var i=sr(l,e);lt(o,{x:G,y:X,height:d,width:U},i.width,c,u)}X+=d});o.restore()}},textEllipsis:function(e,t,i,o,a){var r,n=i.getValue("content"),l=i.getValue("font"),h=i.getValue("align"),s=i.getValue("vAlign"),u=i.getColor("color"),d=i.getValue("padding"),c=i.getColor("background"),g=i.getColor("borderColor"),f=i.getValue("borderWidth"),v=i.getValue("borderRadius"),p=i.getValue("dash"),x=i.getValue("dashPattern"),b=i.getValue("bgGradient"),y=i.getColor("bgGradientColor"),m=ur(d),w=Ie(m,4),C=w[0],k=w[1],V=w[2],D=w[3],I=ur(v),T=Ie(I,4),_=T[0],L=T[1],S=T[2],R=T[3];e.beginPath(),qr(e,t.x,t.y,t.width,t.height,_,L,R,S),e.closePath(),Vr(e,{borderWidth:f,borderColor:g,dash:p,dashPattern:x,background:c,bgGradient:b,bgGradientColor:y,contentRect:[t.x,t.y,t.width,t.height]});for(var P=[t.x+D,t.y+C,t.width-D-k,t.height-C-V],A=P[2],M="",B=0;B<n.length;B++){M+=n[B];var E=sr(l,M+"...").width;if(E<=A&&B==n.length-1){n=M;break}if(A<E){n=(M=M.slice(0,M.length-1))+"...";break}}(r=ht.Default).drawText.apply(r,[e,n,l,u].concat(P,[h,s]))},verticalTextBox:function(o,e,t,i,a){var r=t.getValue("content"),n=t.getValue("font"),l=t.getColor("color"),h=t.getValue("padding"),s=t.getValue("startOnRight"),u=t.getColor("background"),d=t.getColor("borderColor"),c=t.getValue("borderWidth"),g=t.getValue("borderRadius"),f=t.getValue("dash"),v=t.getValue("dashPattern"),p=t.getValue("bgGradient"),x=t.getColor("bgGradientColor"),b=t.getValue("wordBreak"),y=t.getValue("vGap"),m=t.getValue("hGap"),w=t.getValue("autoWrap"),C=ur(h),k=Ie(C,4),V=k[0],D=k[1],I=k[2],T=k[3],_=ur(g),L=Ie(_,4),S=L[0],R=L[1],P=L[2],A=L[3];if(o.beginPath(),qr(o,e.x,e.y,e.width,e.height,S,R,A,P),o.closePath(),Vr(o,{borderWidth:c,borderColor:d,dash:f,dashPattern:v,background:u,bgGradient:p,bgGradientColor:x,contentRect:[e.x,e.y,e.width,e.height]}),r){var M,B,E,O,H,W={x:e.x+T,y:e.y+V,width:e.width-T-D,height:e.height-V-I},j=W.x,N=W.y,F=W.width,z=w?(M=n,B=W.height,E=y,O=b,H=[],r.split("\n").forEach(function(e){if(""===e&&(e=K),O)Array.prototype.push.apply(H,ut(e,B,M,E));else{for(var t,i,o,a="",r=void 0,n=void 0,l="",h=0;h<e.length;h++)e.charAt(h).match(/[a-z|A-Z]/g)?a+="1":a+="2";a=(a=a.replace(/21/g,"2_1")).replace(/12/g,"1_2");for(var s=0;s<a.length;s++)a.charAt(s).match(/\_/g)&&(e=br(e,s+1,"|"));t=e.split("|"),i=a.split("_");for(var u=(o=sr(M,"图")).height/3,d=0,c=t.length;d<c;d++)r=l+t[d],u+=o.height*t[d].length+E,"1"===i[d][0]?B<u?(l?(H.push(l),l="",d--):(n=ut(t[d],B,M,E),Array.prototype.push.apply(H,n.slice(0,n.length-1)),l=n[n.length-1]),u=o.height/3):u===B?(H.push(r),l="",u=o.height/3):l=r:B<u?(n=ut(r,B,M,E),Array.prototype.push.apply(H,n.slice(0,n.length-1)),l=n[n.length-1],u=o.height/3):l=r;l&&H.push(l)}}),H):[r],Y=sr(n,"图"),G=Y.width,X=Y.height,U=void 0,Z=void 0;o.save(),o.fillStyle=l,o.textBaseline="top",o.font=n,s?(U=j+F-G,Z=N,z.forEach(function(e){for(var t=0;t<e.length;t++){var i=e[t];o.fillText(i,U,Z),Z+=y+X}Z=N,U=U-G-m})):(U=j,Z=N,z.forEach(function(e){for(var t=0;t<e.length;t++){var i=e[t];o.fillText(i,U,Z),Z+=y+X}Z=N,U+=G+m})),o.restore()}},tree:function(I,T,e,_,L){var t=e.getValue("dataSource"),S=e.getValue("itemHeight"),R=e.getValue("badgeHeight"),P=e.getValue("badgeSpace"),A=e.getValue("badgeRadius"),M=e.getValue("translateX"),i=e.getValue("translateY"),o=e.getValue("borderWidth"),B=e.getValue("rowLineWidth"),a=e.getValue("treeFont"),E=e.getValue("badgeFont"),O=e.getColor("textColor"),H=e.getColor("hoverBackColor"),W=e.getColor("hoverTextColor"),j=e.getColor("selectBackColor"),N=e.getColor("selectTextColor"),r=e.getColor("backColor"),n=e.getColor("borderColor"),F=e.getValue("rowLineColor"),l=e.getValue("showLine"),z=e.getValue("showCheckbox"),Y=e.getValue("showIcon"),G=e.getValue("showBadge"),X=e.getValue("visibleFunc")||function(){return!0},U=e.getColor("itemBackColor"),h=Sr(L,_,e),s=null,Z=null,u=T.x,d=T.y,c=T.width,g=T.height,K=0,J=-B,q={togglesRect:[],visibleRowsRect:[],checksRect:[],badgesRect:[]};if(h&&(h.treeTableDataModel?s=h.treeTableDataModel:(s=new $e,h.treeTableDataModel=s),s.reset(e,T),s.init(t),z&&s.eachByBreadthFirst(function(e){e.a("checked")&&(e.checkAfter(),e.checkBefore())})),s){var Q=s.getTreeIconInfo(e);r&&(I.save(),I.fillStyle=r,I.beginPath(),I.fillRect(u,d,c,g),I.restore()),I.save(),I.font=a,I.fillStyle=O,I.textBaseline="top",I.textAlign="start";var $=2*I.measureText("e").width;I.beginPath(),I.rect(u,d,c,g),I.clip();var ee=[];s.getRoots().each(function e(t){if(X(t.a("dataInfo"))){t.a("treeTextWH",{textWidth:I.measureText(t.a("text")).width+2,textHeight:$}),t.initNodeRect(Z,_,L);var i=(Z=t).a("rowRect"),o=t.a("treeTextRect"),a=o.x,r=o.width,n={x:i.x-M,y:i.y,width:i.width,height:i.height};if(J+=S+B,K=Math.max(K,a-M+r),tt(T,n)){var l=t.a("_isHovering"),h=t.a("selected"),s=t.a("disabled");if(U){var u=n.x,d=n.y,c=n.width,g=n.height;I.save(),I.fillStyle=U,I.fillRect(u,d,c,g+1),I.restore()}if(H&&l){var f=n.x,v=n.y,p=n.width,x=n.height;I.save(),I.fillStyle=H,I.fillRect(f,v,p,x),I.restore()}if(j&&h){var b=n.x,y=n.y,m=n.width,w=n.height;I.save(),I.fillStyle=j,I.fillRect(b,y,m,w),I.restore()}if(t.drawTreeToggleIcon(I,_,L,Q,q),z&&t.drawTreeCheckIcon(I,_,L,Q,q),Y&&t.drawTreeIcon(I,_,L,Q),G&&t.drawTreeBadge(I,_,L,{badgeFont:E,badgeHeight:R,badgeSpace:P,badgeRadius:A},q),t.drawTreeText(I,_,L,{textColor:O,selectTextColor:N,hoverTextColor:W}),s){var C=n.x,k=n.y,V=n.width,D=n.height;I.save(),I.fillStyle="rgba(192, 192, 192, 0.5)",I.fillRect(C,k,V,D),I.restore()}t.drawRowLine(I,{rowLineWidth:B,rowLineColor:F},n),q.visibleRowsRect.push({node:t,visibleRowRect:n}),ee.push(t)}t.a("expanded")&&t.getChildren().each(e)}}),l&&s.drawTreeCable(I,ee,X),s.drawBorder(I,n),I.restore(),h&&(h.translateX=M,h.translateY=i,h.rectInfo=q);var f={x:u+o,y:d+o,width:c-2*o,height:g-2*o};s.drawScrollBar(I,e,L,h,K,J,f)}},treeTable:function(L,S,R,P,A){var e=R.getValue("dataSource"),M=R.getValue("translateX"),t=R.getValue("translateY"),i=R.getValue("borderWidth"),o=R.getColor("borderColor"),a=R.getValue("columnLineWidth"),r=R.getColor("columnLineColor"),B=R.getValue("rowLineWidth"),E=R.getColor("rowLineColor"),n=R.getValue("showLine"),O=R.getValue("showCheckbox"),H=R.getValue("showIcon"),l=R.getColor("lineColor"),h=R.getValue("showHead"),s=R.getValue("thHeight"),W=R.getValue("tdHeight"),j=R.getValue("tdFont"),u=R.getColor("thColor"),N=R.getColor("tdColor"),d=R.getColor("thBackground"),F=R.getColor("tdBackground"),z=R.getValue("visibleFunc")||function(){return!0},Y=R.getValue("drawRow"),G=R.getColor("hoverTextColor"),X=R.getColor("hoverBackColor"),U=R.getColor("selectTextColor"),Z=R.getColor("selectBackColor"),c=Sr(A,P,R),g=null,K=null,f=S.x,v=S.y,p=S.width,x=S.height,b=0,J=h?s:-B,q={togglesRect:[],visibleRowsRect:[],checksRect:[],headCellsRect:[]};if(c&&(c.treeTableDataModel?g=c.treeTableDataModel:(g=new $e,c.treeTableDataModel=g),g.reset(R,S,c),g.init(e),O&&g.eachByBreadthFirst(function(e){e.a("checked")&&(e.checkAfter(),e.checkBefore())})),g){var Q=g.a("visibleColumns"),$=g.getTreeIconInfo(R),ee=g.a("treeColumnIndex");L.save(),n&&(L.strokeStyle=l,L.setLineDash([1,1]),L.lineWidth=.5,L.lineJoin="miter"),L.font=j,L.fillStyle=N,L.textBaseline="top",L.textAlign="start";var te=2*L.measureText("e").width;L.beginPath(),L.rect(f,v,p,x),L.clip();var ie=0,oe=[];g.getRoots().each(function e(t){if(z(t.a("dataInfo"))){t.a("treeTextWH",{textWidth:L.measureText(t.a("text")).width+2,textHeight:te}),t.initNodeRect(K),ie++;var i=(K=t).a("rowRect"),o={x:i.x-M,y:i.y,width:i.width,height:i.height};if(J+=W+B,it(S,o)){var a=t.a("cellsRect"),r=a.length,n=t.a("_isHovering"),l=t.a("selected"),h=t.a("disabled");if(t.drawTableRow(L,{comp:R,visibleRowRect:o,tdBackground:F,drawRow:Y}),X&&n){var s=o.x,u=o.y,d=o.width,c=o.height;L.save(),L.fillStyle=X,L.fillRect(s,u,d,c),L.restore()}if(Z&&l){var g=o.x,f=o.y,v=o.width,p=o.height;L.save(),L.fillStyle=Z,L.fillRect(g,f,v,p),L.restore()}if(0<r)for(var x=0;x<r;x++){var b=a[x],y=b.x,m=b.y,w=b.width,C=b.height,k=Q[x],V=t.getTextColor({textColor:N,hoverTextColor:G,selectTextColor:U},k);L.save(),L.beginPath(),V!==N&&(L.fillStyle=V),x==ee?(L.rect(y,S.y,w,S.height),L.clip(),t.drawTreeToggleIcon(L,P,A,$,q),O&&t.drawTreeCheckIcon(L,P,A,$,q),H&&t.drawTreeIcon(L,P,A,$),t.drawTreeText(L,P,A,{textColor:V,selectTextColor:U,hoverTextColor:G})):(L.rect(y,m,w,C),L.clip(),t.drawTableCell(L,{comp:R,data:P,column:k,cellRect:b,tdFont:j,tdColor:V,colIndex:x,textHeight:te,visibleRowIndex:ie})),L.restore()}if(h){var D=o.x,I=o.y,T=o.width,_=o.height;L.save(),L.fillStyle="rgba(192, 192, 192, 0.5)",L.fillRect(D,I,T,_),L.restore()}t.drawRowLine(L,{rowLineWidth:B,rowLineColor:E},o),q.visibleRowsRect.push({node:t,visibleRowRect:o}),oe.push(t)}t.a("expanded")&&t.getChildren().each(e)}}),n&&g.drawTreeCable(L,oe,z),g.drawTableHead(L,c,{comp:R,data:P,columnLineColor:r,thColor:u,thBackground:d}),g.drawBorder(L,o),g.drawDragColumnLine(L,c),L.restore();for(var y=g.a("columnsRect"),m=0,w=y.length;m<w;m++){b+=y[m].width,m!==w-1&&(b+=a)}c&&(c.translateX=M,c.translateY=t,c.rectInfo=q);var C={x:f+i,y:v+i,width:p-2*i,height:x-2*i};g.drawScrollBar(L,R,A,c,b,J,C)}},chart:function(t,e,i,o,a){var r=i.getValue("series"),n=i.getValue("xAxis"),l=i.getValue("yAxis"),h=i.getValue("colors"),s=i.getColor("background"),u=i.getValue("onRectSelected"),d=i.getValue("rectSelectBorderColor"),c=i.getValue("rectSelectBackground"),g=i.getValue("boundaryGap"),f={show:i.getValue("tooltip"),lineWidth:i.getValue("tooltipLineWidth"),lineColor:i.getValue("tooltipLineColor"),formatter:i.getValue("tooltipFormatter")};if(r&&r.length){var v={color:h&&h.length?h:pa,xAxis:jo(n,va),yAxis:jo(l,fa),series:r,tooltip:f,onRectSelected:u,rectSelectBorderColor:d,rectSelectBackground:c},p={data:o,view:a,boundaryGap:g,rect:e,contentRect:Va(e),valueAxis:te,seriesDatas:r.map(function(e){return!1===e.visible?[]:Fr(e.data,o,a)}),seriesColors:[],interactiveInfo:{}};if(v.xAxis.forEach(function(e){e._axisObj=new ya(e,v,p)}),v.yAxis.forEach(function(e){e._axisObj=new wa(e,v,p)}),Wo(v,p),o){var x=Sr(a,o,i);if(x){var b=x;p.hoverIndex=b.hoverIndex,p._dragging=b._dragging,p.rectPoint1=b.rectPoint1,p.rectPoint2=b.rectPoint2,b._dragging&&b.rectPoint1&&b.rectPoint2&&(p.selectRect=Da(b.rectPoint1,b.rectPoint2))}}if(s&&(t.fillStyle=s,t.fillRect(e.x,e.y,e.width,e.height)),v.xAxis.forEach(function(e){e._axisObj.draw(t)}),v.yAxis.forEach(function(e){e._axisObj.draw(t)}),r&&r.length&&function(a,r,n){var e=r.series,t=n.interactiveInfo.axisInfos=r.xAxis.map(function(e){return e._axisObj.axisInfos.map(function(e){return{position:e.position,label:e.label,series:[]}})});if(n.barSeries=[],n.barCategoryGap=null,e.forEach(function(e,t){e.type===D&&!1!==e.visible&&(n.barSeries.push(e),Zr(e.barCategoryGap)&&(n.barCategoryGap=e.barCategoryGap))}),e.forEach(function(e,t){var i=e.type,o=void 0;i===I?o=ca:i===D&&(o=ga),o&&o(a,e,t,r,n)}),void 0!==n.hoverIndex){var i=t[0][n.hoverIndex].position,o=n.bounds.bodyRect;a.strokeStyle=r.tooltip.lineColor,a.lineWidth=r.tooltip.lineWidth,a.beginPath(),a.moveTo(i,o.y),a.lineTo(i,o.y+o.height),a.stroke(),n._hoverHandlers&&n._hoverHandlers.forEach(function(e){e()})}}(t,v,p),p.selectRect){var y=p.selectRect,m=y.x,w=y.y,C=y.width,k=y.height;t.fillStyle=c,t.fillRect(m,w,C,k),t.strokeStyle=d,t.strokeRect(m,w,C,k)}if(v.xAxis.forEach(function(e){e._axisObj.drawMarkLine(t)}),v.yAxis.forEach(function(e){e._axisObj.drawMarkLine(t)}),o){var V=Sr(a,o,i);V.ui=p,V.option=v}}},radioButton:function(e,t,i,o,a){var r=i.getValue("value"),n=i.getValue("values")||[],l=i.getValue("labels")||[],h=i.getValue("borderWidth"),s=i.getValue("borderRadius"),u=i.getValue("font"),d=i.getColor("labelColor"),c=i.getColor("borderColor"),g=i.getColor("background"),f=i.getColor("hoverLabelColor"),v=i.getColor("hoverBorderColor"),p=i.getColor("hoverBackground"),x=i.getColor("activeLabelColor"),b=i.getColor("activeBorderColor"),y=i.getColor("activeBackground"),m=i.getColor("disabledLabelColor"),w=i.getColor("disabledBorderColor"),C=i.getColor("disabledBackground"),k=i.getValue("vertical"),V=i.getValue("onChange"),D=i.getValue("disabled"),I=Sr(a,o,i),T=t.x,_=t.y,L=t.width,S=t.height,R=Math.min(n.length,l.length);if(R){if(ft=vt=null,Zr(r)){var P=n.indexOf(r);vt=0<=P?P:null}I&&Zr(I.hoverIndex)&&(ft=I.hoverIndex);for(var A=[],M=0;M<R;M++)M!==ft&&M!==vt&&A.push(M);Zr(ft)&&ft===vt?A.push(ft):(Zr(vt)&&A.push(vt),Zr(ft)&&A.push(ft));var B,E,O,H,W,j,N,F,z,Y,G,X,U,Z,K,J,q,Q,$,ee,te,ie,oe,ae,re,ne,le,he,se=[];if(k)for(var ue=S/R,de=0;de<A.length;de++){var ce=A[de],ge=l[ce],fe={x:T,y:_+ce*ue,width:L,height:ue};se.push({rect:fe,index:ce});var ve=dt(ce,D,d,f,x,m),pe=dt(ce,D,c,v,b,w),xe=dt(ce,D,g,p,y,C);K=e,q=ct(ce,R),Q=s,$=ge,ee=u,te=ve,ie=h,oe=pe,ae=xe,0,re=(J=fe).x,ne=J.y,le=J.width,he=J.height,K.save(),K.beginPath(),0===q?qr(K,re,ne,le,he,Q,Q,0,0):1===q?qr(K,re,ne,le,he,0):2===q?qr(K,re,ne,le,he,0,0,Q,Q):qr(K,re,ne,le,he,Q),K.closePath(),ae&&(K.fillStyle=ae,K.fill()),oe&&ie&&(K.strokeStyle=oe,K.stroke()),K.clip(),gt(K,$,ee,te,re,ne,le,he,"center","middle"),K.restore()}else for(var be=L/R,ye=0;ye<A.length;ye++){var me=A[ye],we=l[me],Ce={x:T+be*me,y:_,width:be,height:S};se.push({rect:Ce,index:me});var ke=dt(me,D,d,f,x,m),Ve=dt(me,D,c,v,b,w),De=dt(me,D,g,p,y,C);B=e,O=ct(me,R),H=s,W=we,j=u,N=ke,F=h,z=Ve,Y=De,0,G=(E=Ce).x,X=E.y,U=E.width,Z=E.height,B.save(),B.beginPath(),0===O?qr(B,G,X,U,Z,H,0,H,0):1===O?qr(B,G,X,U,Z,0):2===O?qr(B,G,X,U,Z,0,H,0,H):qr(B,G,X,U,Z,H),B.closePath(),Y&&(B.fillStyle=Y,B.fill()),z&&F&&(B.strokeStyle=z,B.stroke()),B.clip(),gt(B,W,j,N,G,X,U,Z,"center","middle"),B.restore()}I&&(I.disabled=D,I.onChange=V,I.buttonRects=se,I.values=n)}},carousel:function(e,t,i,o,a){var r=i.getValue("dataSource"),n=i.getValue("minScale"),l=i.getValue("minOpacity"),h=i.getValue("vertical"),s=i.getValue("index"),u=i.getValue("gap"),d=i.getValue("itemWidth"),c=i.getValue("itemHeight"),g=i.getColor("itemBackground"),f=i.getColor("itemColor"),v=i.getValue("font"),p=i.getColor("background"),x=i.getValue("drawItem"),b=i.getValue("animation"),y=i.getValue("onClickItem"),m=Sr(a,o,i),w=t.x,C=t.y,k=t.width,V=t.height,D=s%1;if(s|=0,p&&(e.fillStyle=p,e.fillRect(w,C,k,V)),r&&r.length&&d&&c){var I,T,_=1-l,L=[],S=void 0;if(I=(1-n)/(S=h?pt(c,V,u,n):pt(d,k,u,n)),T=_/S,e.save(),e.beginPath(),e.rect(w,C,k,V),e.clip(),h){for(var R=w+k/2,P=C+V/2-c/2-u-D*c,A=0;A<S;A++){var M=n+I*(S-A-1-D),B=l+T*(S-A-1-D),E=s-A-1;if(E<0||E>=r.length)break;var O=r[E],H=[(R-d*M/2)/M,(P-=c*M)/M,d,c];e.save(),e.globalAlpha=B,e.scale(M,M),x?x(e,O,Tr(H),o,a):(g&&(e.fillStyle=g,e.fillRect.apply(e,H)),Jr.apply(void 0,[e,O,v,f].concat(H,[ge,fe]))),e.restore(),P-=u,L.push({index:E,rect:{x:H[0]*M,y:H[1]*M,width:H[2]*M,height:H[3]*M}})}P=C+V/2+c/2+u-D*(c+u);for(var W=0;W<S;W++){var j=n+I*(S-W-1+D),N=l+T*(S-W-1+D),F=s+W+1;if(F<0||F>=r.length)break;var z=r[F],Y=[(R-d*j/2)/j,P/j,d,c];e.save(),e.globalAlpha=N,e.scale(j,j),x?x(e,z,Tr(Y),o,a):(g&&(e.fillStyle=g,e.fillRect.apply(e,Y)),Jr.apply(void 0,[e,z,v,f].concat(Y,[ge,fe]))),e.restore(),P+=c*j+u,L.push({index:F,rect:{x:Y[0]*j,y:Y[1]*j,width:Y[2]*j,height:Y[3]*j}})}P=C+V/2-c/2-D*c;var G=r[s];if(G){var X=1-I*D,U=1-T*D,Z=[(R-d*X/2)/X,P/X,d,c];e.save(),e.globalAlpha=U,e.scale(X,X),x?x(e,G,Tr(Z),o,a):(g&&(e.fillStyle=g,e.fillRect.apply(e,Z)),Jr.apply(void 0,[e,G,v,f].concat(Z,[ge,fe]))),e.restore(),L.push({index:s,rect:{x:Z[0]*X,y:Z[1]*X,width:Z[2]*X,height:Z[3]*X}})}}else{for(var K=C+V/2,J=w+k/2-d/2-u-D*d,q=0;q<S;q++){var Q=n+I*(S-q-1-D),$=l+T*(S-q-1-D),ee=s-q-1;if(ee<0||ee>=r.length)break;var te=r[ee],ie=[(J-=d*Q)/Q,(K-c*Q/2)/Q,d,c];e.save(),e.globalAlpha=$,e.scale(Q,Q),x?x(e,te,Tr(ie),o,a):(g&&(e.fillStyle=g,e.fillRect.apply(e,ie)),Jr.apply(void 0,[e,te,v,f].concat(ie,[ge,fe]))),e.restore(),J-=u,L.push({index:ee,rect:{x:ie[0]*Q,y:ie[1]*Q,width:ie[2]*Q,height:ie[3]*Q}})}J=w+k/2+d/2+u-D*(d+u);for(var oe=0;oe<S;oe++){var ae=n+I*(S-oe-1+D),re=l+T*(S-oe-1+D),ne=s+oe+1;if(ne<0||ne>=r.length)break;var le=r[ne],he=[J/ae,(K-c*ae/2)/ae,d,c];e.save(),e.globalAlpha=re,e.scale(ae,ae),x?x(e,le,Tr(he),o,a):(g&&(e.fillStyle=g,e.fillRect.apply(e,he)),Jr.apply(void 0,[e,le,v,f].concat(he,[ge,fe]))),e.restore(),J+=d*ae+u,L.push({index:ne,rect:{x:he[0]*ae,y:he[1]*ae,width:he[2]*ae,height:he[3]*ae}})}J=w+k/2-d/2-D*d;var se=r[s];if(se){var ue=1-I*D,de=1-T*D,ce=[J/ue,(K-c*ue/2)/ue,d,c];e.save(),e.globalAlpha=de,e.scale(ue,ue),x?x(e,se,Tr(ce),o,a):(g&&(e.fillStyle=g,e.fillRect.apply(e,ce)),Jr.apply(void 0,[e,se,v,f].concat(ce,[ge,fe]))),e.restore(),L.push({index:s,rect:{x:ce[0]*ue,y:ce[1]*ue,width:ce[2]*ue,height:ce[3]*ue}})}}e.restore(),m&&(m.itemInfos=L,m.index=s,m.animation=b,m.dataSource=r,m.onClickItem=y,m.scrollable=i.getValue("scrollable"))}},carousel2:function(e,t,i,o,a){var r=i.getValue("dataSource"),n=i.getValue("vertical"),l=i.getValue("gap"),h=i.getValue("itemWidth"),s=i.getValue("itemHeight"),u=i.getColor("itemBackground"),d=i.getColor("itemColor"),c=i.getValue("font"),g=i.getColor("background"),f=i.getValue("drawItem"),v=i.getValue("offset")||0,p=(Sr(a,o,i),t.x),x=t.y,b=t.width,y=t.height;if(g&&(e.fillStyle=g,e.fillRect(p,x,b,y)),r&&r.length&&h&&s){e.save(),e.beginPath(),e.rect(p,x,b,y),e.clip();var m=r.length;if(n){var w=s+l,C=x+v,k=p+(b-h)/2,V=0;if((C%=w*r.length)<=x)for(;;){if(Dr({x:k,y:C,width:h,height:s},t))break;V++,C+=w}else if(x<C)for(;;){if(!Dr({x:k,y:C,width:h,height:s},t)&&C<x){C+=w,V++;break}C-=w,V--}for(;;){var D={x:k,y:C,width:h,height:s};if(!Dr(D,t))break;var I,T=V%m;T<0&&(T=m+V),I=r[T],f?f(e,I,D,o,a):(u&&(e.fillStyle=u,e.fillRect(k,C,h,s)),Jr(e,I,c,d,k,C,h,s,ge,fe)),C+=w,V++}}else{var _=h+l,L=x+(y-s)/2,S=p+v,R=0;if((S%=_*r.length)<=p)for(;;){if(Dr({x:S,y:L,width:h,height:s},t))break;R++,S+=_}else if(p<S)for(;;){if(!Dr({x:S,y:L,width:h,height:s},t)&&S<p){S+=_,R++;break}S-=_,R--}for(;;){var P={x:S,y:L,width:h,height:s};if(!Dr(P,t))break;var A,M=R%m;M<0&&(M=m+R),A=r[M],f?f(e,A,P,o,a):(u&&(e.fillStyle=u,e.fillRect(S,L,h,s)),Jr(e,A,c,d,S,L,h,s,ge,fe)),S+=_,R++}}e.restore()}},timeAxisChart:function(t,e,i,o,a){var r=i.getValue("series"),n=i.getValue("xAxis"),l=i.getValue("yAxis"),h=i.getValue("colors"),s=i.getColor("background"),u=i.getValue("onRectSelected"),d=i.getValue("rectSelectBorderColor"),c=i.getValue("rectSelectBackground"),g=i.getValue("maxVisiblePoint"),f=i.getValue("endProtectPoint"),v=i.getValue("xAxisRange"),p={show:i.getValue("tooltip"),lineWidth:i.getValue("tooltipLineWidth"),lineColor:i.getValue("tooltipLineColor"),pattern:i.getValue("tooltipLinePattern"),formatter:i.getValue("tooltipFormatter")};if(r&&r.length){n&&!Xr(n)&&(n=[n]),l&&!Xr(l)&&(l=[l]);var x={series:r,xAxis:n,yAxis:l,color:h},b={color:h&&h.length?h:pa,xAxis:jo(n,Ia),yAxis:jo(l,fa),series:r,tooltip:p,onRectSelected:u,rectSelectBorderColor:d,rectSelectBackground:c},y={data:o,view:a,maxVisiblePoint:g,endProtectPoint:f,xAxisRange:v,originalOption:x,rect:e,contentRect:Gr(e),valueAxis:te,seriesDatas:r.map(function(e){return!1===e.visible?[]:Fr(e.data,o,a)}),seriesColors:[],interactiveInfo:{}};if(b.xAxis.forEach(function(e){e._axisObj=new Ta(e,b,y)}),b.yAxis.forEach(function(e){e._axisObj=new wa(e,b,y)}),Wo(b,y),o){var m=Sr(a,o,i);if(m){var w=m;y.hoverTime=w.hoverTime,y._dragging=w._dragging,y.rectPoint1=w.rectPoint1,y.rectPoint2=w.rectPoint2,w._dragging&&w.rectPoint1&&w.rectPoint2&&(y.selectRect=$r(w.rectPoint1,w.rectPoint2))}}if(s&&(t.fillStyle=s,t.fillRect(e.x,e.y,e.width,e.height)),b.xAxis.forEach(function(e){e._axisObj.draw(t)}),b.yAxis.forEach(function(e){e._axisObj.draw(t)}),r&&r.length&&function(i,o,a){if(o.series.forEach(function(e,t){"line"===e.type&&La(i,e,t,o,a)}),void 0!==a.hoverTime){var e=o.xAxis[0]._axisObj.zoomTimeRange,t=e[0],r=e[1]-t,n=a.bounds.bodyRect,l=n.x,h=n.y,s=n.width,u=n.height,d=l+(a.hoverTime-t)/r*s,c=o.tooltip,g=c.lineColor,f=c.lineWidth,v=c.pattern;i.strokeStyle=g,i.lineWidth=f,v&&i.setLineDash(v),i.beginPath(),i.moveTo(d,h),i.lineTo(d,h+u),i.stroke(),a._hoverHandlers&&a._hoverHandlers.forEach(function(e){e()})}}(t,b,y),y.selectRect){var C=y.selectRect,k=C.x,V=C.y,D=C.width,I=C.height;t.fillStyle=c,t.fillRect(k,V,D,I),t.strokeStyle=d,t.strokeRect(k,V,D,I)}if(o){var T=Sr(a,o,i);T.ui=y,T.option=b}}},pagination:function(s,e,t,u,d){var c=t.getValue("current"),i=t.getValue("pageSize"),o=t.getValue("total"),a=t.getValue("align"),r=t.getValue("itemWidth"),g=t.getValue("itemHeight"),f=t.getValue("gap"),v=t.getColor("labelColor"),p=t.getColor("background"),x=t.getValue("borderWidth"),b=t.getColor("borderColor"),y=t.getValue("borderRadius"),m=t.getValue("font"),w=t.getColor("hoverLabelColor"),C=t.getColor("hoverBorderColor"),k=t.getColor("hoverBackground"),V=t.getColor("activeLabelColor"),D=t.getColor("activeBorderColor"),I=t.getColor("activeBackground"),T=t.getColor("disabledLabelColor"),_=t.getColor("disabledBorderColor"),L=t.getColor("disabledBackground"),S=t.getColor("disabledActiveLabelColor"),R=t.getColor("disabledActiveBorderColor"),P=t.getColor("disabledActiveBackground"),n=t.getColor("showFirstAndLast"),l=t.getValue("disabled"),h=u?Sr(d,u,t):{},A=e.x,M=e.y,B=e.width,E=e.height;if(o){for(var O=Math.ceil(o/i),H=7<O,W=H&&4<c,j=H&&c<=O-4,N=1<c,F=c<O,z=[],Y=0;Y<O;Y++)H?((0===Y||Y===O-1||Math.abs(Y+1-c)<=2||!W&&Y<5||!j&&O-5<Y)&&z.push({label:Y+1,isDisabled:!!l}),1===Y&&W&&z.push({label:we,isDisabled:!!l}),Y===O-2&&j&&z.push({label:Ce,isDisabled:!!l})):z.push({label:Y+1,isDisabled:!!l});z.unshift({label:ye,isDisabled:!N||l}),n&&z.unshift({label:ke,isDisabled:!N||l}),z.push({label:me,isDisabled:!F||l}),n&&z.push({label:Ve,isDisabled:!F||l});var G=h.hoverLabel;if(xe===a)for(var X=A+B-x/2,U=M+(E-g)/2,Z=z.length-1;0<=Z;Z--){var K=(ne=z[Z]).label,J=ne.isDisabled,q=sr(m,K),Q={x:X-=le=0<=mt.indexOf(K)?r:Math.max(r,q.width),y:U,width:le,height:g},$={active:c===K,hover:G===K,disabled:J},ee=bt($,v,w,V,T,S),te=bt($,b,C,D,_,R),ie=bt($,p,k,I,L,P);xt(s,Q,K,m,ee,te,y,x,ie,$,u,d),X-=f,ne.rect=Q}else if(be===a)for(var oe=A+x/2,ae=M+(E-g)/2,re=0;re<z.length;re++){K=(ne=z[re]).label,J=ne.isDisabled,q=sr(m,K);var ne,le,he={x:oe,y:ae,width:le=0<=mt.indexOf(K)?r:Math.max(r,q.width),height:g},se={active:c===K,hover:G===K,disabled:J},ue=bt(se,v,w,V,T,S),de=bt(se,b,C,D,_,R),ce=bt(se,p,k,I,L,P);xt(s,he,K,m,ue,de,y,x,ce,se,u,d),oe+=le+f,ne.rect=he}else{var ge=0,fe=M+(E-g)/2,ve=[],pe=void 0;z.forEach(function(e){var t=e.label,i=(e.isDisabled,sr(m,t)),o=0<=mt.indexOf(t)?r:Math.max(r,i.width);ge+=o,ve.push(o)}),ge+=(z.length-1)*f,pe=A+B/2-ge/2,z.forEach(function(e,t){var i=e.label,o=e.isDisabled,a={x:pe,y:fe,width:ve[t],height:g},r={active:c===i,hover:G===i,disabled:o},n=bt(r,v,w,V,T,S),l=bt(r,b,C,D,_,R),h=bt(r,p,k,I,L,P);xt(s,a,i,m,n,l,y,x,h,r,u,d),pe+=a.width+f,e.rect=a})}u&&(h.itemList=z,h.totalPage=O,h.current=c,h.disabled=l,h.onChange=t.getValue("onChange"))}},gantt:function(v,e,t,i,o){var a=t.getValue("dataSource"),n=t.getValue("font"),r=t.getValue("xAxisStart"),l=t.getValue("xAxisEnd"),h=t.getValue("xAxisGroup"),s=t.getValue("xAxisLabelType"),u=(t.getValue("xAxisLabelLayout"),t.getValue("yAxisPercent")),d=t.getValue("overflow"),c=t.getValue("tipShow"),g=t.getValue("yAxisTipShow"),f=t.getValue("xAxisTipShow"),p=t.getValue("seriesTipShow"),x=t.getValue("barColorGradient"),b=t.getColor("backgroundColor"),y=t.getColor("yAxisLabelColor"),m=t.getColor("xAxisLabelColor"),w=t.getColor("barColor"),C=t.getColor("columnColors"),k=Sr(o,i,t),V=e.x,D=e.y,I=e.width,T=e.height,_={tipInfoList:[]};if(v.font=n,v.textAlign="left",v.textBaseline="top",b&&(v.fillStyle=b,v.fillRect(V,D,I,T)),a&&0!==a.length){var L=new Date(r),S=new Date(l),R=(1-u)*I,P=S-L,A=P/(h-1),M=R/h,B=T/(a.length+1),E=I-R;v.fillStyle=m;for(var O=0;O<h;O++){var H=new Date(L.getTime()+A*O),W=V+E+O*M,j=D+.5*B-.3*sr(n,H).height,N=an(H,"YYYY-MM-DD hh:mm:ss");switch(s){case 0:H=an(H,"YYYY-MM-DD hh:mm:ss");break;case 1:H=an(H,"YYYY-MM-DD");break;case 2:H=an(H,"DD");break;case 3:H=an(H,"hh:mm:ss");break;default:H=an(H,"YYYY-MM-DD hh:mm:ss")}if(v.fillText(H,W,j),f){var F={x:W,y:j-4,width:sr(n,H).width,height:sr(n,H).height,name:N};_.tipInfoList.push(F)}}v.fillStyle=y,a.forEach(function(e,t){var i=V+2,o=D+(t+1)*B-.3*sr(n,e.name).height+.5*B,a=e.name;if(d&&sr(n,e.name).width>u*I&&(a=function(e,t,i,o){for(var a="",r=e.length;r>0;r--){a=e.slice(0,r)+o;if(sr(t,a).width<=i){break}}return a}(a,n,u*I,"...")),0<C.length&&(v.fillStyle=C[t%C.length],v.fillRect(V,D+B+t*B,I,B)),v.fillStyle=y,v.fillText(a,i,o),g){var r={x:i,y:o,width:sr(n,e.name).width,height:sr(n,e.name).height,name:e.name};_.tipInfoList.push(r)}}),a.forEach(function(e,t){var i=new Date(e.start),o=new Date(e.end),a=R*((o-i)/P),r=.6*B,n=V+E+(i-L)/P*R,l=D+(t+1)*B+(B-r)/2,h=8<a?4:0,s=a-2*h,u=r-8,d=n+h,c=D+(t+1)*B+(B-u)/2;v.strokeStyle=w,qr(v,n,l,a,r,8),v.stroke();var g=v.createLinearGradient(d,D,d+s,D);if(g.addColorStop(0,"rgba(255,255,255,0)"),g.addColorStop(1,w),v.fillStyle=x?g:w,v.beginPath(),qr(v,d,c,s,u,5),v.closePath(),v.fill(),p){var f={x:n,y:l,width:a,height:r,start:e.start,end:e.end,name:e.name,text:e.start+"~"+e.end};_.tipInfoList.push(f)}}),k&&(k.tipInfoList=_.tipInfoList,k.tipShow=c)}},radio2:function(e,t,i,o,a){var r=i.getValue("disabled"),n=i.getValue("checked"),l=i.getColor("normalColor"),h=i.getColor("background"),s=i.getColor("activeColor"),u=i.getColor("disabledColor"),d=i.getColor("disabledBackground"),c=(i.getValue("symbol"),Sr(a,o,i));Zr(c.checked)&&(n=c.checked);var g=n?s:l,f=t.x,v=t.y,p=t.width,x=t.height,b=Math.min(p,x);o&&(r?(g=u,h=d):c.pressed?n?g=ht.Default.darker(g,Te.activeDarker):h=ht.Default.darker(h,Te.activeDarker):c.hover&&(n?g=ht.Default.darker(g,Te.hoverDarker):h=ht.Default.darker(h,Te.hoverDarker))),h&&(e.beginPath(),e.fillStyle=h,e.arc(f+.5*p,v+.5*x,.5*b,0,2*Math.PI),e.fill()),e.beginPath(),e.strokeStyle=g,e.lineWidth=1.5,e.arc(f+.5*p,v+.5*x,.5*b,0,2*Math.PI),e.stroke(),n&&(e.beginPath(),e.fillStyle=g,e.arc(f+.5*p,v+.5*x,.25*b,0,2*Math.PI),e.fill()),o&&!o.__inputType&&(o.__inputType=y),c&&(c.disabled=r,c.onChange=i.getValue("onChange"),c.group=i.getValue("group"),c.value=i.getValue("value"),c.checked=n,c.__inputType=y)},valueAxisChart:function(t,e,i,o,a){var r=i.getValue("series"),n=i.getValue("xAxis"),l=i.getValue("yAxis"),h=i.getValue("colors"),s=i.getColor("background"),u=i.getValue("clipMode"),d={show:i.getValue("tooltip"),formatter:i.getValue("tooltipFormatter")};if(r&&r.length){n&&!Xr(n)&&(n=[n]),l&&!Xr(l)&&(l=[l]);var c,g,f,v,p={series:r,xAxis:n,yAxis:l,color:h,clipMode:u},x={color:h&&h.length?h:pa,xAxis:jo(n,va),yAxis:jo(l,fa),series:r,tooltip:d,clipMode:u},b={data:o,view:a,rect:e,contentRect:Ma(e),valueAxis:te,originalOption:p,seriesDatas:r.map(function(e){return!1===e.visible?[]:Fr(e.data,o,a)}),seriesColors:[],interactiveInfo:{}};if(x.xAxis.forEach(function(e){e._axisObj=new Ra(e,x,b)}),x.yAxis.forEach(function(e){e._axisObj=new wa(e,x,b)}),Wo(x,b),s&&(t.fillStyle=s,t.fillRect(e.x,e.y,e.width,e.height)),o){var y=Sr(a,o,i);if(y){var m=y;b.hitPointIndex=m.hitPointIndex,b.hitSeriesIndex=m.hitSeriesIndex}}if(x.xAxis.forEach(function(e){e._axisObj.draw(t)}),x.yAxis.forEach(function(e){e._axisObj.draw(t)}),r&&r.length&&(c=t,f=b,v=(g=x).series,f.pointsInfo={},v.forEach(function(e,t){Sa(c,e,t,g,f)})),o){var w=Sr(a,o,i);w.ui=b,w.option=x}}},qrcode:function(e,t,i,o,a){var r=i.getColor("colorDark"),n=i.getColor("colorLight"),l=i.getColor("padding"),h=i.getValue("content");if(!Ar(h)){e.save();var s=zt[h],u=(s=s||(zt[h]=new Nt(h))).getModuleCount(),d=t.x,c=t.y,g=t.width,f=t.height,v=10*u,p=d,x=c,b=Math.min(g,f);g-=2*l,f-=2*l;var y=Math.min(g,f)/v;f<g?p=d+(g-f)/2:x=c+(f-g)/2,e.translate(p,x),e.fillStyle=n,e.fillRect(0,0,b,b);var m=v/u;e.translate(l,l),e.fillStyle=r,e.scale(y,y),e.beginPath();for(var w=0;w<u;w++)for(var C=0;C<u;C++){if(s.isDark(w,C)){var k=C*m,V=w*m;e.rect(k,V,10,10)}}e.fill(),e.restore()}},dragSlider:function(h,e,t,a,r){var i={dataSource:t.getValue("dataSource"),color:t.getValue("color"),step:t.getValue("step"),total:t.getValue("total"),padding:t.getValue("padding"),onChange:t.getValue("onChange"),barWidth:t.getValue("barWidth"),barBackground:t.getValue("barBackground"),barBorderRadius:t.getValue("barBorderRadius"),sliderImage:t.getValue("sliderImage"),sliderBorderWidth:t.getValue("sliderBorderWidth"),sliderBorderRadius:t.getValue("sliderBorderRadius"),sliderBorderColor:t.getValue("sliderBorderColor"),sliderBackground:t.getValue("sliderBackground"),sliderWidth:t.getValue("sliderWidth"),sliderHeight:t.getValue("sliderHeight"),sliderOffsetX:t.getValue("sliderOffsetX"),sliderOffsetY:t.getValue("sliderOffsetY"),showToolTip:t.getValue("showToolTip"),toolTipFormat:t.getValue("toolTipFormat")},o=Sr(r,a,t),n=i.barBackground,l=i.barWidth,s=i.barBorderRadius,u=i.padding,d=i.sliderBackground,c=i.sliderBorderRadius,g=i.sliderBorderWidth,f=i.sliderBorderColor,v=i.sliderImage,p={itemsRect:[],dragIconsRect:[]},x=e.x,b=e.y,y=e.width,m=e.height,w=null,C=null;o&&(o.dragSliderDataModel?w=o.dragSliderDataModel:(w=new Zt,o.dragSliderDataModel=w),w.reset(i,e),w.init(),h.save(),h.beginPath(),h.rect(x,b,y,m),h.clip(),n&&(h.save(),h.fillStyle=n,h.beginPath(),qt(h,x+u,b+(m-l)/2,y-2*u,l,s),h.closePath(),h.fill(),h.restore()),w.getRoots().each(function(e,t,i){e.initNodeRect(C);var o=(C=e).getAttrObject(),a=o.itemRect,r=o.color,n=0===t,l=t===i.size()-1;h.save(),h.fillStyle=r,h.beginPath(),qt(h,a.x,a.y,a.width,a.height,n?s:0,l?s:0,n?s:0,l?s:0),h.closePath(),h.fill(),h.restore(),p.itemsRect.push({dragSliderData:e,itemRect:a})}),w.getRoots().each(function(e,t,i){var o=e.getAttrObject().dragIconRect;v?$t(h,Qt(v),"fill",o.x,o.y,o.width,o.height,a,r):(h.save(),h.fillStyle=d,h.beginPath(),qt(h,o.x,o.y,o.width,o.height,c,c,c,c),h.closePath(),h.fill(),g&&(h.lineWidth=g,h.strokeStyle=f,h.stroke()),h.restore()),p.dragIconsRect.push({dragSliderData:e,dragIconRect:o})}),h.restore(),o.rectInfo=p)},verticalBar:function(a,e,t,i,o){var r=t.getValue("colors"),n=t.getValue("labelColor"),l=t.getValue("dataSource"),h=t.getValue("font"),s=t.getValue("barPercent");if(l&&l.length){var u=(i?ht.vector.getVectorInfo(o,i,t):{}).hoverIndex,d=e.x,c=e.y,g=e.width,f=e.height,v=f/l.length*s,p=f/l.length,x=(p-v)/2,b=0,y=[],m=void 0===w,w=m?-1/0:w;l.forEach(function(e){var t=ht.Default.getTextSize(h,e.name);b=Math.max(b,t.width),y.push(y),m&&(w=Math.max(w,e.value))});var C=g-b-10-48,k=c,V=d;l.forEach(function(e,t){V=d;var i=y[t];ht.Default.drawText(a,e.name,h,n,V,k,i.width,p,"left","middle"),V+=b+5;var o=e.value/w;o=Math.min(o,1),a.fillStyle=u===t?ht.Default.brighter(r[t]):r[t%r.length],a.fillRect(V,k+x,C*o,v),V+=C*o+5,ht.Default.drawText(a,e.value+"",h,n,V,k,48,p,"left","middle"),k+=p})}}},dragSliderInteractor:new oi,pieInteractor:new Za,buttonInteractor:new vi,inputInteractor:new li,textAreaInteractor:new ri,radioInteractor:new xi,checkboxInteractor:new wi,colorPickerInteractor:new Mi,dateTimePickerInteractor:new Ei,comboBoxInteractor:new Zi,tableInteractor:new qi,sliderInteractor:new to,rangeSliderInteractor:new ao,multipleComboBoxInteractor:new lo,treeInteractor:new co,treeTableInteractor:new po,chartInteractor:new Vo,inputNumberInteractor:new di,dateRangePickerInteractor:new Io,radioButtonInteractor:new Lo,carouselInteractor:new Bo,timeAxisChartInteractor:new $o,carouselInteractor2:new Oo,paginationInteractor:new ra,ganttInteractor:new ta,textBoxInteractor:new la,radioInteractor2:new yi,valueAxisChartInteractor:new Ja,Color:c,ListView:zi,ListDropDown:Gi,getVectorInfo:Sr,caluMultilineSize:function(e){var t=e.a("ht.content"),i=e.a(g.FONT),o=e.a(g.LINE_HEIGHT),a=e.a(g.PADDING),r=ur(a),n=Ie(r,4),l=n[0],h=n[1],s=n[2],u=n[3],d=t.split(/\n/),c=0;return d.forEach(function(e){var t=sr(i,e);c=Math.max(c,t.width)}),{width:c+u+h,height:d.length*o+l+s}},caluRichTextPaneSize:function(n,l){var e=n.a("ht.content"),t=n.a("ht.borderWidth")||1,i=n.a("ht.padding"),o=n.a("ht.showArrow"),a=n.a("ht.arrowOrientation"),r=n.a("ht.vGap"),h=n.a("ht.hGap"),s=n.a("ht.font"),u=ur(i),d=Ie(u,4),c=d[0],g=d[1],f=d[2],v=d[3]+g+t,p=c+f+t;o&&(a===be||a===xe?v+=10:p+=10);var x=0,b=0;return e&&(e.forEach(function(e,t){var a=0,r=(e.length-1)*h;e.forEach(function(e,t){var i=Fr(e.text,n,l),o=sr(e.font||s,i);a=Math.max(a,o.height),r+=o.width}),x=Math.max(x,r),b+=a}),b+=(e.length-1)*r),{width:v+=x,height:p+=b}},setFormData:function r(n,e,l){return(e?e.getChildren():n.dm().getDatas()).each(function(e){var t,i=e.a(g.FORM_ITEM_NAME),o=e.a(g.FORM_ITEM_GROUP),a=l[i];if(i)void 0!==a&&(t=a,e.a(g.VALUE,t));else if(o){if(void 0===(a=l[o]))return;e.__inputType===y?e.a(g.CHECKED,e.a(g.VALUE)===a):e.__inputType===C&&e.a(g.CHECKED,0<=a.indexOf(e.a(g.VALUE)))}e.hasChildren()&&r(n,e,l)}),l}},vn="0.0.8-dev1";return function(e,t){void 0===t&&(t={});var i=t.insertAt;if(e&&"undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css","top"===i&&o.firstChild?o.insertBefore(a,o.firstChild):o.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}}(".ht-vector-tooltip{\n    box-sizing: border-box;\n    padding: 5px 12px;\n    margin: 0;\n    position: absolute;\n    background-color: rgba(0, 0, 0, 0.5);\n    color: rgb(247, 247, 247);\n    border-radius: 5px;\n    /* -webkit-transition: all 0.5s;\n    transition: all 0.5s; */\n}\n",{}),fn.openColorDropDown=Ti,fn.openDateTimeDropDown=Si,fn.getFormData=function(e,t){var n={},l=t?t.getChildren():e.dm().getDatas();return l.each(function(e){var t=e.a(g.FORM_ITEM_NAME),i=e.a(g.FORM_ITEM_GROUP);if(t)n[t]=mr(e);else if(i&&!n[g.FORM_ITEM_GROUP])if(e.__inputType===y)for(var o=0;o<l.length;o++){var a=l.get(o);if(i===a.a(g.FORM_ITEM_GROUP)&&a.a(g.CHECKED)){n[i]=mr(a);break}}else if(e.__inputType===C){var r=[];l.each(function(e){i===e.a(g.FORM_ITEM_GROUP)&&e.a(g.CHECKED)&&r.push(mr(e))}),n[i]=r}}),n},fn.selectFile=Cr,fn.getVersion=function(){return vn},fn}();
!function(){"use strict";var l,r;ht.Default.setCompType("ht.comp.qrcode",{width:100,height:100,snapshotURL:"",func:function(e,t,o,a,n){ht.vector.comp.qrcode.apply(this,arguments)},properties:{colorDark:{valueType:"Color",defaultValue:"rgb(61,61,61)"},colorLight:{valueType:"Color",defaultValue:"rgb(247,247,247)"},content:{valueType:"String",defaultValue:"http://www.hightopo.com/"},padding:{valueType:"PositiveNumber",defaultValue:3}}}),ht.Default.setImage("ht.qrcode",{width:148,height:148,comps:[{type:"roundRect",background:"rgba(128,128,128,0.4)",borderColor:"rgb(128,128,128)",pixelPerfect:!0,rect:[1,1,146,146]},{type:"rect",background:"rgb(255,255,255)",borderColor:"#979797",pixelPerfect:!0,rect:[10.02457,9.1688,128,128]},{type:"ht.comp.qrcode",displayName:"qrcode",rect:[10.02457,9.1688,128,128],content:{func:"attr@ht.content",value:"http://www.hightopo.com/"},padding:0}]}),ht.Default.setImage("ht.qrscan",{dataBindings:[{attr:"linePercent",valueType:"Percentage",defaultValue:0}],width:32,height:32,comps:[{type:"roundRect",background:"rgba(128,128,128,0.4)",borderColor:"rgb(128,128,128)",cornerRadius:5,pixelPerfect:!0,rect:[0,0,32,32]},{type:"shape",background:"rgb(0,0,0)",pixelPerfect:!0,points:[25.60198,28.78975,20.20211,28.78975,19.70443,28.78975,19.30204,28.34272,19.30204,27.7897,19.30204,27.23672,19.7044,26.78963,20.20211,26.78963,25.60201,26.78963,26.09884,26.78963,26.50205,26.34164,26.50205,25.78972,26.50205,20.78983,26.50205,20.23684,26.90429,19.78975,27.40212,19.78975,27.89981,19.78975,28.30204,20.23684,28.30204,20.78983,28.30204,25.78978,28.30199,27.44363,27.09061,28.78975,25.60198,28.78975,25.60198,28.78975],segments:[1,2,4,4,2,4,2,4,4,2,4,2,5]},{type:"shape",background:"rgb(0,0,0)",pixelPerfect:!0,points:[11.21018,28.78975,6.21015,28.78975,4.5563,28.78975,3.2103,27.44369,3.2103,25.78978,3.2103,20.78983,3.2103,20.23684,3.65826,19.78975,4.21019,19.78975,4.76226,19.78975,5.21025,20.23684,5.21025,20.78983,5.21025,25.78978,5.21025,26.34164,5.65917,26.78969,6.21015,26.78969,11.21018,26.78969,11.76225,26.78969,12.2103,27.23678,12.2103,27.78976,12.21027,28.34272,11.76225,28.78975,11.21018,28.78975,11.21018,28.78975],segments:[1,2,4,2,4,4,2,4,2,4,4,2,5]},{type:"shape",background:"rgb(0,0,0)",pixelPerfect:!0,points:[4.21019,12.21025,3.65826,12.21025,3.2103,11.76231,3.2103,11.21038,3.2103,6.21031,3.2103,4.55626,4.5563,3.21025,6.21015,3.21025,11.21018,3.21025,11.76225,3.21025,12.2103,3.65825,12.2103,4.21032,12.2103,4.76219,11.7623,5.21022,11.21018,5.21022,6.21015,5.21022,5.65917,5.21022,5.21025,5.65925,5.21025,6.21029,5.21025,11.21035,5.21028,11.76228,4.76226,12.21025,4.21019,12.21025,4.21019,12.21025],segments:[1,4,2,4,2,4,4,2,4,2,4,2,5]},{type:"shape",background:"rgb(0,0,0)",pixelPerfect:!0,points:[27.40209,12.21026,26.9043,12.21026,26.50202,11.76232,26.50202,11.21039,26.50202,6.21031,26.50202,5.65927,26.09885,5.21024,25.60197,5.21024,20.20209,5.21024,19.7044,5.21024,19.30202,4.76221,19.30202,4.21033,19.30202,3.65826,19.70438,3.21026,20.20209,3.21026,25.60202,3.21026,27.09065,3.21026,28.30202,4.55628,28.30202,6.21034,28.30202,11.21042,28.30202,11.76229,27.89976,12.21026,27.40209,12.21026,27.40209,12.21026],segments:[1,4,2,4,2,4,4,2,4,2,4,2,5]},{type:"shape",background:"rgb(51,153,255)",pixelPerfect:!0,shadow:!0,shadowColor:"#60ACFC",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,rect:{func:function(e){return[2,2+26*e.a("linePercent"),28,2]},value:[2,14.99998,28,2]},points:[28.99992,16.99998,3.00009,16.99998,2.44799,16.99998,2,16.55201,2,16.00005,2,15.44798,2.44799,14.99998,3.00009,14.99998,28.99992,14.99998,29.55291,14.99998,30,15.44795,30,16.00005,29.99997,16.55198,29.55288,16.99998,28.99992,16.99998,28.99992,16.99998],segments:[1,2,4,4,2,4,4,2,5]}]}),ht.Default.setImage("ht.watermark",{width:400,height:400,attachStyle:"close",comps:[{type:"text",text:"图扑软件",color:"rgba(138,138,138,0.30)",shadowOffsetX:0,opacity:.5,scaleX:2,scaleY:2,rotation:-.74609,rect:[174.33111,152.28285,50,50]},{type:"text",text:"Hightopo",color:"rgba(138,138,138,0.30)",shadowOffsetX:0,opacity:.5,scaleX:2,scaleY:2,rotation:-.74609,rect:[196.45735,176.22095,50,50]},{type:"shape",background:"rgba(138,138,138,0.30)",pixelPerfect:!0,opacity:.15,rotation:-.7854,points:[112.93689,247.93891,112.93689,232.2239,125.71074,219.47888,141.39691,219.47888,141.39691,219.47888,157.11193,219.47888,169.85694,232.25273,169.85694,247.93891,169.85694,247.93891,169.85694,263.65391,157.08309,276.39894,141.39691,276.39894,112.93689,276.39894,112.93689,247.93891],segments:[1,4,2,4,2,4,2,2]},{type:"shape",background:"rgba(138,138,138,0.30)",pixelPerfect:!0,opacity:.5,rotation:-.7854,points:[103.74837,261.6275,97.69304,261.6275,92.79112,256.72557,92.79112,250.67025,92.79112,250.67025,92.79112,244.61491,97.69304,239.71299,103.74837,239.71299,103.74837,239.71299,109.80369,239.71299,114.70563,244.61491,114.70563,250.67025,114.70563,261.6275,103.74837,261.6275],segments:[1,4,2,4,2,4,2,2]},{type:"shape",background:"rgba(140,140,140,0.19)",pixelPerfect:!0,opacity:.5,rotation:-.7854,points:[124.64535,247.52737,121.214,247.52737,118.47469,245.0764,118.47469,242.04874,118.47469,236.57011,147.30957,236.57011,150.74092,236.57011,153.48024,239.02107,153.48024,242.04874,153.48024,242.04874,153.48024,245.0764,150.71209,247.52737,147.30957,247.52737],segments:[1,4,2,2,4,2,4]},{type:"shape",background:"rgba(140,140,140,0.19)",gradient:"linear.north",gradientColor:"rgba(140,140,140,0.00)",fillRule:"evenodd",opacity:.5,shadowColor:"rgba(0,0,0,0.39)",rotation:-.7854,points:[142.40436,267.14926,148.64376,267.14926,152.08969,267.14926,154.88317,264.92047,154.88317,262.17653,154.88317,242.28081,142.40436,242.28081],segments:[1,2,4,2,2]}]}),l=400,r=null,setTimeout(function(){var s=window.mg=new ht.graph.GraphView;if(s.addToDOM(),s.getView().style.pointerEvents="none",s.getSelectWidth=function(){return 0},s.handleScroll=function(){},s.handlePinch=function(){},s.setPannable(!1),s.setRectSelectable(!1),s.setScrollBarVisible(!1),s.setMovableFunc(function(){return!1}),!ht.Default.isTouchable){var o=new ht.Node;o.setImage("ht.qrcode"),o.a("ht.content",location.href),o.setSize(148,148),o.setAnchor(0,-1),o.p(40,1075),o.s({"layout.h":"left","layout.v":"bottom"}),s.dm().add(o);var e=new ht.Node;e.setImage("ht.qrscan"),e.setSize(32,32),e.setAnchor(0,1),e.p(5,1075),e.s({"layout.h":"left","layout.v":"bottom"}),s.dm().add(e),e.a("linePercent",.4);var t=new ht.Node;t.setSize(1920,1080),t.setAnchor(0,0),t.p(0,0),t.s({fullscreen:"fill","fullscreen.gap":0,shape:"rect","shape.background":null}),o.setHost(t),e.setHost(t),s.dm().add(t);var a=document.createElement("div"),n=a.style;n.width="32px",n.height="32px",n.margin=0,n.padding=0,n.outline="none",n.boxSizing="border-box",n.position="absolute",n.left="5px",n.bottom="5px",a.addEventListener("mouseenter",function(e){var t;t=o,r&&r.stop(),r=ht.Default.startAnim({frames:12,interval:10,easing:function(e){return(2-e)*e},finishFunc:function(){t.setAnchorY(1),r=null},action:function(e){t.setAnchorY(2*e-1)}})}),a.addEventListener("mouseleave",function(e){var t;t=o,r&&r.stop(),r=ht.Default.startAnim({frames:12,interval:10,easing:function(e){return e*e},finishFunc:function(){t.setAnchorY(-1),r=null},action:function(e){t.setAnchorY(2*(1-e)-1)}})}),ht.Default.appendToScreen(a)}s.addTopPainter(function(e){for(var t=s.getViewRect(),o=t.x,a=t.y,n=t.width,r=t.height,c=a;c*l<r;c++)for(var i=0;i*l<n;i++)ht.Default.drawImage(e,ht.Default.getImage("ht.watermark"),o+i*l,a+c*l,l,l)})},800)}();
