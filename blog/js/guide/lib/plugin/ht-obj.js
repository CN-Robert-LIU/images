!function(T,y,I){"use strict";var e="ht",Y=T[e],Q=null,z=Math,o=z.abs,j=z.max,r=Number.MAX_VALUE,O=Y.Default,J=O.getInternal(),F=O.clone,q=J.vec3TransformMat4,S=[0,0],u=J.appendArray,B=function(){function D(P,k,L,y){if(P){var x=P[y];if(x){L.ignoreColor||(k.color=x.kd),!L.ignoreTransparent&&x.d>0&&x.d<1&&(k.transparent=!0,k.opacity=x.d);var d;if(!L.ignoreImage&&(d=x.map_kd)){d=d.split(" ");for(var D=-1,v=0;v<d.length;v++)"-o"===d[v]?(k.uvOffset=[parseFloat(d[v+1]),parseFloat(d[v+2])],v+=3,D=v):"-s"===d[v]&&(k.uvScale=[parseFloat(d[v+1]),parseFloat(d[v+2])],v+=3,D=v);k.image=(L.prefix||"")+d.splice(D+1).join(" ")}}}}var n=/v( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,R=/vt( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,c=/vn( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,X=/^[og]\s*(.+)?/,l=function(h,Z){return Z=parseInt(Z),Z>=0?h[Z-1]:h[Z+h.length]},C=function(g,O,k,h,K){if(g.lvs){var w=l(O,h),f=l(O,K),Q=k.matrix,a=g.lvs;Q?(u(a,q(F(w),Q)),u(a,q(F(f),Q))):(u(a,w),u(a,f))}},L=function(G,T,P,E,w,f){if(G.vs){var v=l(T,E),e=l(T,w),L=l(T,f),Q=P.matrix,$=G.vs;if(P.flipFace){var r=e;e=L,L=r}Q?(u($,q(F(v),Q)),u($,q(F(e),Q)),u($,q(F(L),Q))):(u($,v),u($,e),u($,L))}},A=function(y,K,x,$,j,J){if(y.vs){var m=x.flipY,n=$===I?S:l(K,$),k=j===I?S:l(K,j),N=J===I?S:l(K,J);if(x.flipFace){var Q=k;k=N,N=Q}y.uv.push(n[0],m?1-n[1]:n[1],k[0],m?1-k[1]:k[1],N[0],m?1-N[1]:N[1])}},p=function(n,k,m,r,E,T){if(n.vs){var G=l(k,r),w=l(k,E),Y=l(k,T),D=m.normalMatrix,_=n.ns;if(m.flipFace){var X=w;w=Y,Y=X}D?(u(_,q(F(G),D)),u(_,q(F(w),D)),u(_,q(F(Y),D))):(u(_,G),u(_,w),u(_,Y))}},W=function(A,f,F,y){for(var U=y.length-1,J=0;U>J;++J)C(A,f,F,y[J],y[J+1]);C(A,f,F,y[U],y[0])},i=function(b,m,O,K,k,l,E,C){var f=K&&K.length&&C;l[3]===I?(L(b,m,k,l[0],l[1],l[2]),E?A(b,O,k,E[0],E[1],E[2]):b.uv&&b.uv.length&&A(b,O,k),f&&p(b,K,k,C[0],C[1],C[2])):(L(b,m,k,l[0],l[1],l[3]),L(b,m,k,l[1],l[2],l[3]),E?(A(b,O,k,E[0],E[1],E[3]),A(b,O,k,E[1],E[2],E[3])):b.uv&&b.uv.length&&(A(b,O,k),A(b,O,k)),f&&(p(b,K,k,C[0],C[1],C[3]),p(b,K,k,C[1],C[2],C[3])))},k=function(v,e,C,B){var F,n,f,x,V,M,u,d,Z=r,b=r,z=r,X=-r,H=-r,y=-r;for(F in v)for(M=v[F].vs,d=M.length,n=0;d>n;n+=3)f=M[n+0],x=M[n+1],V=M[n+2],Z>f&&(Z=f),b>x&&(b=x),z>V&&(z=V),f>X&&(X=f),x>H&&(H=x),V>y&&(y=V);if(C){var R=Z+(X-Z)/2,c=b+(H-b)/2,l=z+(y-z)/2;for(F in v){for(M=v[F].vs,d=M.length,n=0;d>n;n+=3)M[n+0]-=R,M[n+1]-=c,M[n+2]-=l;if(u=v[F].lvs)for(d=u.length,n=0;d>n;n+=3)u[n+0]-=R,u[n+1]-=c,u[n+2]-=l}}var m,h,S;C?(m=X-Z,h=H-b,S=y-z):(m=2*j(o(Z),o(X)),h=2*j(o(b),o(H)),S=2*j(o(z),o(y))),0===m&&(m=Math.min(h,S)/1e3||.001),0===h&&(h=Math.min(m,S)/1e3||.001),0===S&&(S=Math.min(m,h)/1e3||.001),B.rawS3=[m,h,S];for(F in v){if(M=v[F].vs,u=v[F].lvs,e){for(d=M.length,n=0;d>n;n+=3)m&&(M[n+0]/=m),h&&(M[n+1]/=h),S&&(M[n+2]/=S);if(u)for(d=u.length,n=0;d>n;n+=3)m&&(u[n+0]/=m),h&&(u[n+1]/=h),S&&(u[n+2]/=S);var G=v[F].ns;if(G){d=G.length;var N=new Y.Math.Vector3;for(n=0;d>n;n+=3)N.set(G[n+0]*m,G[n+1]*h,G[n+2]*S).normalize(),G[n+0]=N.x,G[n+1]=N.y,G[n+2]=N.z}}v[F].rawS3=B.rawS3}};return function(h,b,p){if(!h)return Q;(J.isString(b)||b instanceof ArrayBuffer)&&(b=w(b)),p||(p={}),p.flipY==Q&&(p.flipY=!0),(p.s3||p.r3||p.t3||p.mat)&&(p.matrix=J.createWorldMatrix(p.mat,p.s3,p.r3,p.rotationMode,p.t3));var P,u,d,t,Z,A=Y.Style["wf.loadQuadWireframe"],U=[],y=[],S=p.ignoreNormal?Q:[],x=p.reverseFlipMtls,$={vs:[],uv:[],ns:S?[]:Q},r={htdefault:$},g=new N(h),B={},I="";for(S&&p.matrix&&(p.normalMatrix=J.createNormalMatrix(p.matrix));null!=(u=g.stepNext());)if(u=u.trim(),0!==u.length&&"#"!==u.charAt(0))if(u.indexOf("\\")!==u.length-1)if(I&&(u=I+u,I=""),u.indexOf("#QNAN0")>=0&&(u=u.replace(/#QNAN0/gi,"0")),d=n.exec(u))U.push([parseFloat(d[1]),parseFloat(d[2]),parseFloat(d[3])]);else if(d=R.exec(u))y.push([parseFloat(d[1]),parseFloat(d[2])]);else if(S&&(d=c.exec(u)))p.flipFace?S.push([parseFloat(-d[1]),parseFloat(-d[2]),parseFloat(-d[3])]):S.push([parseFloat(d[1]),parseFloat(d[2]),parseFloat(d[3])]);else if("f"===u[0]){var v=u.split(/\s+/);if(v.length<4)continue;var s,P,C,o=[],z=[],H=[];for(P=1,C=v.length;C>P;P++)s=v[P].split("/"),o.push(parseInt(s[0],10)),s.length>1&&s[1].length>0&&H.push(parseInt(s[1],10)),s.length>2&&s[2].length>0&&z.push(parseInt(s[2],10));for(P=0,C=o.length-2;C>P;P++)i($,U,y,S,p,[o[0],o[P+1],o[P+2]],H.length?[H[0],H[P+1],H[P+2]]:Q,z.length?[z[0],z[P+1],z[P+2]]:Q);A&&W($,U,p,o)}else if(p.part&&null!==(d=X.exec(u))){$.vs&&0!==$.vs.length||(delete r[$.name],B[$.name]--);var t=(" "+d[0].substr(1).trim()).substr(1),E=B[t]||0;B[t]=E+1,Z=t+(E?E:""),$=r[Z]={name:Z,vs:[],uv:[],ns:S?[]:Q,lvs:A?[]:Q}}else/^usemtl /.test(u)&&(t=u.substring(7).trim(),p.part?D(b,$,p,t):($=r[t])||($=r[t]={name:t,vs:[],uv:[],ns:S?[]:Q,lvs:A?[]:Q},p.ignoreMtls&&p.ignoreMtls.indexOf(t)>=0&&delete $.vs,(p.reverseFlip||"*"===x||x&&x.indexOf(t)>=0)&&($.reverseFlip=!0),D(b,$,p,t)));else I+=u.substring(0,u.length-1);var T=[];for(var l in r){var m=r[l].vs;if(m&&0!==m.length){var K=r[l].uv;if(K)for(var G=2*m.length/3-K.length;G-->0;)K.push(0)}else T.push(l)}T.forEach(function(l){delete r[l]}),k(r,p.cube,p.center,p);var q=p.shape3d;if(q){var j=[];for(var t in r){var $=r[t];j.rawS3=$.rawS3,j.push($)}O.setShape3dModel(q,j)}return r}}(),w=function(K){var n={};if(K)for(var G,q,H,Q,M,z,a=new N(K),f=/\s+/;null!=(q=a.stepNext());)q=q.trim(),0!==q.length&&"#"!==q.charAt(0)&&(H=q.indexOf(" "),Q=(H?q.substring(0,H):q).toLowerCase(),M=(H?q.substring(H+1):"").trim(),"newmtl"===Q?n[M]=G={name:M}:G&&("ka"===Q||"kd"===Q||"ks"===Q?(z=M.split(f,3),G[Q]=[parseFloat(z[0]),parseFloat(z[1]),parseFloat(z[2]),1]):G[Q]="ns"===Q||"d"===Q?parseFloat(M):M));return n},N=function(c){var O=this;if(c instanceof ArrayBuffer){O.isBuffer=!0;var v=0,l=new Uint8Array(c),C=l.length,u=l.length;O.stepNext=function(){for(var L,D,O=v;C>v;)if(L=l[v],D=L>>4,12===D||13==D)v+=2;else if(14===D)v+=3;else if(v++,10===L)return String.fromCharCode.apply(null,l.subarray(O,v));return v>O?String.fromCharCode.apply(null,l.subarray(O,v)):null}}else{O.isBuffer=!1;var S=c.split("\n"),W=0,u=S.length;O.stepNext=function(){return u>W?S[W++]:null}}};N.prototype={},N.prototype.constructor=N,J.addMethod(O,{loadObj:function(s,D,M){M=M||{};var H=!1;/(MSIE |Trident\/|Edge\/)/.test(T.navigator.userAgent)&&(H=!0);var I=function(C){var A,l=M.finishFunc,S=M.shape3d,h=C?B(C[0],C[1],M):null;if(h){if(S)A=O.getShape3dModel(S);else{A=[];for(var q in h){var k=h[q];A.rawS3=k.rawS3,A.push(k)}}l&&l(h,A,A.rawS3)}else l&&l(null)};if(H){M.responseType="arraybuffer";var S=function(A){O.xhrLoad(s,function(f){I([f,A])},M)};D?O.xhrLoad(D,function(F){S(F)},M):S()}else O.xhrLoad(D?[s,D]:[s],I,M)},parseObj:function(n,m,u){return B(n,m,u)}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);